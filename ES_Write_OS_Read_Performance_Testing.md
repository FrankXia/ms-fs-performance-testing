
#### 11-29-2021

# ES/OS case 

## 1. ES Datastore: 100k, 1 million, 10 million dataset, single thread, querying features with 20 consecutive requests. 
   The stats are generated in the same testing program. 

| Dataset Size | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ------------ | --------------| ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ |
| 100,000      | 1,287 | 783.2 | 485 | 2,714 | 489.9 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 1,287 | 477.6 | 334 | 2,216 | 411.9 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 1,287 | 588.9 | 411 | 1,731 | 281.2 | 1,287 | 1,022 | 1,500 | 171 |
|  average     |       | 616.5 | 
| 100,000      | 5,291 | 1,504.2 | 865 | 2,829 | 581.6 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 5,291 | 1,413.9 | 877 | 2,539 | 372.8 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 5,291 | 1,231.9 | 932 | 3,047 | 457.3 | 5,291 | 5,022 | 5,500 | 168 |
|  average     |       | 1,383.3 | 
| 100,000      | 9,955 | 1,704.5 | 1,167 | 3,503 | 735.1 | 9,955 | 9,904 | 10,000 | 27 |
| 100,000      | 9,955 | 2,336.6 | 1,324 | 5,646 | 1,193.9 | 9,955 | 9,904 | 10,000 | 27 |
| 100,000      | 9,955 | 1,712.1 | 1,161 | 3,056 | 426.8 | 9,955 | 9,904 | 10,000 | 27 |
|  average     |       | 1,917.7 | 
| ------------ |
| 1 million    | 1,272 | 813.3 | 354 | 2,600 | 493.6 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 1,272 | 563.5 | 401 | 1,170 | 161.9 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 1,272 | 506.4 | 338 | 1,136 | 172.5 | 1,272 | 1,000 | 1,500 | 182 |
|  average     |       | 627.7 | 
| 1 million    | 5,270 | 1,112.5 | 759 | 2,137 | 328.8 | 5,270 | 5,060 | 5,480 | 141 |
| 1 million    | 5,270 | 1,330.2 | 872 | 2,869 | 477.6 | 5,270 | 5,060 | 5,480 | 141 |
| 1 million    | 5,270 | 1,795.7 | 1,289 | 3,674 | 481.7 | 5,270 | 5,060 | 5,480 | 141 |
|  average     |       | 1412.8 | 
| 1 million    | 9,756 | 1,676.5 | 1,363 | 3,337 | 420.6 | 9,756 | 9,520 | 10,000 | 160 |
| 1 million    | 9,756 | 1,486.6 | 1,080 | 3,677 | 567.6 | 9,756 | 9,520 | 10,000 | 160 |
| 1 million    | 9,756 | 1,519.8 | 1,293 | 2,149 | 200.2 | 9,756 | 9,520 | 10,000 | 160 |
|  average     |       | 1,561.0 | 
| ------------ | 
| 10 millions  | 1,171 | 1,126.5 | 756 | 2,600 | 392.7 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions  | 1,171 | 520.6 | 331 | 1,253 | 193 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions  | 1,171 | 603.9 | 402 | 1,413 | 220.1 | 1,171 | 1,000 | 1,410 | 163 |
|  average     |       | 750.2 | 
| 10 millions  | 5,199 | 2,335.8 | 1,219 | 3,844 | 632.9 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions  | 5,199 | 1,803.9 | 1,089 | 2,750 | 510.9 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions  | 5,199 | 1,168.8 | 830 | 2,599 | 392.7 | 5,199 | 5,000 | 5,420 | 170 |
|  average     |       | 1,769.5 | 
| 10 millions  | 9,733 | 2,077.3 | 1,262 | 4,033 | 706.7 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 2,050.6 | 1,049 | 4,519 | 928.8 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 1,795.7 | 1,387 | 4,021 | 544.9 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 1,699.1 | 1,433 | 2,438 | 208.6 | 9,733 | 9,600 | 10,000 | 119 |
|  average     |       | 1,905.7 | 

Sample testing command: 
`java -cp ./target/ms-fs-performance-test-1.0.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch01/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services/ planes_1_million_bat_fl ./1m_extents_10k_features.txt 20 120 0`


## 2. ES Datastore: 100k, 1 million, 10 million dataset, multi-threads, querying features with average 20 requests for each thread. 
   The stats are generated in a separate program. 

| Dataset Size |  # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | --------------| ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  |      5     | 1254 | 1,167.5 | 847 | 2,233 | 251 | 1,254 | 1,000 | 1,500 | 150 | 100 | 0 |
| 100,000  |      10     | 1302 | 1,239.3 | 996 | 1,598 | 121.1 | 1,303 | 1,006 | 1,500 | 152 | 200 | 0 |
| 100,000  |      20     | 1268 | 1,257.3 | 1,000 | 1,878 | 157.3 | 1,268 | 1,000 | 1,500 | 153 | 400 | 0 |
| 100,000  |      30     | 1265 | 1,293.7 | 997 | 2,247 | 197.5 | 1,266 | 1,002 | 1,500 | 159 | 600 | 0 |
| 100,000  |      40     | 1269 | 2,492.3 | 1,189 | 20,288 | 2,770.9 | 1,269 | 1,000 | 1,500 | 154 | 800 | 0 |
| 100,000  |      50     | 1269 | 1,780.6 | 1,218 | 3,699 | 393.9 | 1,269 | 1,000 | 1,500 | 155 | 1000 | 0 |
| -------- |
| 100,000  |      5     | 5279 | 2,263.1 | 1,708 | 4,045 | 478.4 | 5,279 | 5,002 | 5,500 | 158 | 100 | 0 |
| 100,000  |      10     | 5282 | 3,277.7 | 1,798 | 17,833 | 2,595.8 | 5,283 | 5,002 | 5,500 | 151 | 200 | 0 |
| 100,000  |      20     | 5293 | 4,706.9 | 1,971 | 26,130 | 4,823.1 | 5,293 | 5,002 | 5,500 | 149 | 400 | 0 |
| 100,000  |      30     | 5281 | 4,080.6 | 2,491 | 7,645 | 664.9 | 5,282 | 5,000 | 5,500 | 152 | 600 | 0 |
| 100,000  |      40     | 5280 | 8,254.3 | 2,892 | 34,911 | 6,702.7 | 5,281 | 5,000 | 5,500 | 154 | 800 | 0 |
| 100,000  |      50     | 5278 | 9,166.7 | 3,401 | 31,964 | 6,072.8 | 5,278 | 5,000 | 5,500 | 155 | 1000 | 0 |
| -------- |
| 100,000  |      5     | 9954 | 3,051.7 | 2,190 | 4,818 | 644.7 | 9,954 | 9,900 | 10,000 | 30 | 100 | 0 |
| 100,000  |      10     | 9955 | 7,837.7 | 2,448 | 58,025 | 8,667.9 | 9,955 | 9,900 | 10,000 | 31 | 200 | 0 |
| 100,000  |      20     | 9954 | 6,056.8 | 2,910 | 25,964 | 3,974.8 | 9,955 | 9,900 | 10,000 | 31 | 400 | 0 |
| 100,000  |      30     | 9954 | 11,121.3 | 3,251 | 58,969 | 9,972.4 | 9,954 | 9,900 | 10,000 | 31 | 600 | 0 |
| 100,000  |      40     | 9954 | 12,502.7 | 4,189 | 32,673 | 6,564.8 | 9,955 | 9,900 | 10,000 | 32 | 800 | 0 |
| 100,000  |      50     | 9956 | 15,881.3 | 4,497 | 70,104 | 10,356.8 | 9,957 | 9,900 | 10,000 | 31 | 1000 | 0 |
| -------- |  -------- |  -------- |  -------- |
| 1 million  |      5     | 1268 | 1,648.7 | 1,332 | 2,588 | 231.9 | 1,268 | 1,000 | 1,500 | 165 | 100 | 0 |
| 1 million  |      10     | 1239 | 1,603.3 | 1,317 | 1,972 | 145.8 | 1,240 | 1,000 | 1,500 | 171 | 200 | 0 |
| 1 million  |      20     | 1250 | 1,624.8 | 1,180 | 2,252 | 186.6 | 1,251 | 1,000 | 1,500 | 173 | 400 | 0 |
| 1 million  |      30     | 1244 | 2,378.3 | 1,319 | 17,390 | 2,200.2 | 1,244 | 1,000 | 1,500 | 170 | 600 | 0 |
| 1 million  |      40     | 1244 | 1,818.5 | 1,308 | 3,382 | 321.4 | 1,244 | 1,000 | 1,500 | 172 | 800 | 0 |
| 1 million  |      50     | 1243 | 1,774.6 | 1,326 | 3,040 | 277.1 | 1,243 | 1,000 | 1,500 | 167 | 1000 | 0 |
| -------- |
| 1 million  |      5     | 5305 | 3,104.7 | 1,964 | 11,191 | 1,757.3 | 5,306 | 5,000 | 5,500 | 159 | 100 | 0 |
| 1 million  |      10     | 5301 | 2,399.1 | 1,867 | 4,002 | 416.4 | 5,302 | 5,000 | 5,500 | 148 | 200 | 0 |
| 1 million  |      20     | 5281 | 2,706.3 | 1,934 | 4,487 | 383.3 | 5,282 | 5,000 | 5,500 | 161 | 400 | 0 |
| 1 million  |      30     | 5278 | 6,012.1 | 2,522 | 30,820 | 5,914.3 | 5,279 | 5,000 | 5,500 | 156 | 600 | 0 |
| 1 million  |      40     | 5286 | 6,142 | 2,589 | 26,776 | 3,940.1 | 5,286 | 5,000 | 5,500 | 157 | 800 | 0 |
| 1 million  |      50     | 5284 | 9,529 | 3,430 | 54,818 | 8,242.5 | 5,285 | 5,000 | 5,500 | 158 | 1000 | 0 |
| -------- |
| 1 million  |      5     | 9950 | 4,729.7 | 2,340 | 17,727 | 3,798.5 | 9,951 | 9,900 | 10,000 | 34 | 100 | 0 |
| 1 million  |      10     | 9792 | 4,090.8 | 2,307 | 25,691 | 3,772.5 | 9,792 | 9,500 | 10,000 | 160 | 200 | 0 |
| 1 million  |      20     | 9809 | 10,460.7 | 3,174 | 42,396 | 8,630.5 | 9,810 | 9,500 | 10,000 | 149 | 400 | 0 |
| 1 million  |      30     | 9799 | 8,269.7 | 3,230 | 31,749 | 4,857.9 | 9,800 | 9,500 | 10,000 | 156 | 600 | 0 |
| 1 million  |      40     | 9798 | 9,891.2 | 3,113 | 26,052 | 3,503.2 | 9,798 | 9,500 | 10,000 | 156 | 800 | 0 |
| 1 million  |      50     | 9798 | 13,052.2 | 4,717 | 43,908 | 5,736.6 | 9,799 | 9,500 | 10,000 | 156 | 1000 | 0 |
| ------- |  -------- |  -------- |  -------- |
| 10 millions  |      5     | 1227 | 1,421.9 | 1,121 | 2,863 | 327.2 | 1,227 | 1,000 | 1,410 | 160 | 100 | 0 |
| 10 millions  |      10     | 1206 | 1,376.5 | 1,098 | 1,887 | 151.3 | 1,206 | 1,000 | 1,410 | 165 | 200 | 0 |
| 10 millions  |      20     | 1207 | 1,412.7 | 1,095 | 2,218 | 180.8 | 1,207 | 1,000 | 1,410 | 168 | 400 | 0 |
| 10 millions  |      30     | 1222 | 1,445.4 | 1,104 | 2,405 | 195.7 | 1,222 | 1,000 | 1,420 | 166 | 600 | 0 |
| 10 millions  |      40     | 1215 | 1,506.1 | 1,119 | 2,904 | 256.3 | 1,215 | 1,000 | 1,410 | 159 | 800 | 0 |
| 10 millions  |      50     | 1210 | 1,599 | 1,169 | 3,112 | 300.5 | 1,210 | 1,000 | 1,420 | 167 | 1000 | 0 |
| -------- |
| 10 millions  |      5     | 5236 | 2,266.8 | 1,911 | 3,430 | 297.1 | 5,236 | 5,000 | 5,420 | 168 | 100 | 0 |
| 10 millions  |      10     | 5223 | 2,335.2 | 1,875 | 6,605 | 399.6 | 5,223 | 5,000 | 5,420 | 159 | 200 | 0 |
| 10 millions  |      20     | 5217 | 4,984.5 | 2,055 | 52,522 | 6,505.8 | 5,218 | 5,000 | 5,430 | 163 | 400 | 0 |
| 10 millions  |      30     | 5233 | 6,894.5 | 2,780 | 41,169 | 7,559 | 5,234 | 5,000 | 5,430 | 160 | 600 | 0 |
| 10 millions  |      40     | 5231 | 5,254.9 | 3,227 | 12,417 | 1,397.3 | 5,232 | 5,000 | 5,430 | 162 | 800 | 0 |
| 10 millions  |      50     | 5227 | 13,125.2 | 3,454 | 117,848 | 15,337 | 5,227 | 5,000 | 5,430 | 161 | 1000 | 0 |
| -------- |
| 10 millions  |      5     | 9740 | 2,947.5 | 2,282 | 5,277 | 626.8 | 9,740 | 9,600 | 10,000 | 121 | 100 | 0 |
| 10 millions  |      10     | 9750 | 4,191.8 | 2,276 | 25,201 | 3,856.2 | 9,751 | 9,600 | 10,000 | 118 | 200 | 0 |
| 10 millions  |      20     | 9744 | 5,918.9 | 3,115 | 29,109 | 4,224 | 9,744 | 9,600 | 10,000 | 121 | 400 | 0 |
| 10 millions  |      30     | 9742 | 8,315.5 | 3,841 | 29,076 | 4,325.9 | 9,743 | 9,600 | 10,000 | 119 | 600 | 0 |
| 10 millions  |      40     | 9744 | 9,731.6 | 3,903 | 28,046 | 3,291.4 | 9,745 | 9,600 | 10,000 | 119 | 800 | 0 |
| 10 millions  |      50     | 9743 | 12,189.4 | 4,620 | 30,102 | 4,544 | 9,744 | 9,600 | 10,000 | 116 | 1000 | 0 |


Sample commands:
`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 50 1000 ./test_outputs/query/planes_10m_fl_querying_5k_50thread_1000req.txt ./random_extents/10m_extents_5k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 50 1000 ./test_outputs/query/planes_1m_fl_querying_10k_50thread_1000req.txt ./random_extents/1m_extents_10k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 50 1000 ./test_outputs/query/planes_100k_fl_querying_10k_50thread_1000req.txt ./random_extents/100k_extents_10k_features.txt 2100`


## 3. ES Aggregation performance with FeatureServer

### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 78,158 | 1,029 | 620 | 2,700 | 603.9 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash | 78,158 | 839.8 | 515 | 1,210 | 241.2 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash | 78,158 | 820.4 | 389 | 1,861 | 388.2 | 78,158 | 52,062 | 98,558 | 16,553 |
|  Average |        | 896.4 |
|  square  | 78,036 | 1,165.8 | 897 | 1,598 | 194.5 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square  | 78,036 | 1,011.1 | 712 | 1,698 | 259.2 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square  | 78,036 | 1,146.1 | 915 | 1,632 | 213.2 | 78,036 | 54,184 | 98,516 | 16,523 |
|  Average |        | 1,107.7 |
|  pointy triangle | 78,755 | 2,319.6 | 1,215 | 3,915 | 761.2 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 1,307 | 1,034 | 2,282 | 358.3 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 1,326 | 1,127 | 1,930 | 224.1 | 78,755 | 54,886 | 98,576 | 15,829 |
|  Average |        | 1,650.9 |
|  pointy hexagon  | 78,306 | 2,316.8 | 1,849 | 2,749 | 309.6 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 1,370 | 1,048 | 1,906 | 273.4 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 1,335.5 | 917 | 1,669 | 246.3 | 78,306 | 54,716 | 98,218 | 15,938 |
|  Average |        | 1,764.1 |

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 6 pointyHexagon`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 781,420 | 839.5 | 593 | 1,822 | 353.5 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash | 781,420 | 877.5 | 664 | 1,416 | 213.2 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash | 781,420 | 831.8 | 639 | 1,300 | 202.3 | 781,420 | 525,520 | 977,340 | 162,638 |
|  Average |        | 849.6 |
|  square  | 784,216 | 1,204.2 | 936 | 1,633 | 196.9 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square  | 784,216 | 1,236.1 | 950 | 2,163 | 344.7 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square  | 784,216 | 1,369.8 | 983 | 2,762 | 531.9 | 784,216 | 532,000 | 984,180 | 159,896 |
|  Average |        | 1,270 |
|  pointy triangle | 786,362 | 1,571.3 | 1,191 | 2,918 | 488.7 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 2,101.6 | 1,296 | 3,876 | 747.1 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 1,382.2 | 1,076 | 2,311 | 343.1 | 786,362 | 534,840 | 982,800 | 155,520 |
|  Average |        | 1,685 |
|  pointy hexagon  | 778,464 | 1,428.7 | 1,010 | 1,776 | 268 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon  | 778,464 | 1,330.3 | 817 | 1,612 | 303.1 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon  | 778,464 | 1,461.7 | 1,171 | 2,490 | 388.5 | 778,464 | 519,580 | 985,420 | 167,926 |
|  Average |        | 1,406.9 |

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 4 pointyTriangle`

### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 7,798,087 | 1,007.5 | 744 | 2,027 | 374.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash | 7,798,087 | 804.5 | 385 | 1,201 | 254.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash | 7,798,087 | 866.8 | 605 | 1,278 | 206.7 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  Average |        | 893.0 |
|  square  | 7,809,003 | 1,270.9 | 1,053 | 1,490 | 164.9 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square  | 7,809,003 | 1,060.3 | 675 | 1,418 | 277.8 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square  | 7,809,003 | 1,132.9 | 728 | 2,246 | 421.2 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  Average |        | 1,154.7 |
|  pointy triangle | 7,812,145 | 1,786 | 1,415 | 3,047 | 510.9 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 1,320.5 | 1,006 | 2,142 | 320.6 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 1,675 | 1,246 | 3,344 | 613.9 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  Average |        | 1,593.8 |
|  pointy hexagon  | 7,856,450 | 2,026.4 | 1,765 | 2,446 | 231.2 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 1,673.9 | 1,055 | 2,419 | 374 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 1,670 | 1,255 | 2,570 | 380 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  Average |        | 1,790.1 |

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 0 square`


### Multi-Threads:

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |      5      | 4795 | 2,014.7 | 1,451 | 3,140 | 535 | 4,795 | 3,107 | 6,452 | 1,114 | 25 | 0 |
| 100,000  | geohash         |      10     | 4785 | 1,350.9 | 1,000 | 1,934 | 204.8 | 4,786 | 2,994 | 6,445 | 1,109 | 50 | 0 |
| 100,000  | geohash         |      20     | 4797 | 1,614.2 | 1,021 | 2,087 | 266.9 | 4,797 | 2,955 | 6,458 | 1,091 | 100 | 0 |
| 100,000  | geohash         |      30     | 4799 | 4,866.1 | 1,117 | 22,330 | 5,620.2 | 4,800 | 2,891 | 6,455 | 1,107 | 150 | 0 |
| 100,000  | geohash         |      40     | 4807 | 2,531.6 | 1,370 | 4,666 | 571.9 | 4,808 | 2,885 | 6,456 | 1,101 | 200 | 0 |
| 100,000  | geohash         |      50     | 4791 | 3,732.7 | 1,603 | 6,785 | 1,085.6 | 4,791 | 2,932 | 6,461 | 1,104 | 250 | 0 |
| --------- |
| 100,000  | square          |      5      | 5681 | 2,412.5 | 1,751 | 4,105 | 746.6 | 5,682 | 3,035 | 7,810 | 1,405 | 25 | 0 |
| 100,000  | square          |      10     | 5639 | 2,080.8 | 1,275 | 2,737 | 420.6 | 5,639 | 3,110 | 7,778 | 1,390 | 50 | 0 |
| 100,000  | square          |      20     | 5677 | 2,522.8 | 1,590 | 3,848 | 476.3 | 5,678 | 3,096 | 7,801 | 1,382 | 100 | 0 |
| 100,000  | square          |      30     | 5694 | 3,928.1 | 2,195 | 6,498 | 705.8 | 5,695 | 3,332 | 7,800 | 1,367 | 150 | 0 |
| 100,000  | square          |      40     | 5655 | 4,733.4 | 2,443 | 9,247 | 1,384.4 | 5,656 | 3,095 | 7,818 | 1,391 | 200 | 0 |
| 100,000  | square          |      50     | 5662 | 5,876.6 | 2,581 | 12,141 | 1,975.5 | 5,663 | 3,176 | 7,812 | 1,425 | 250 | 0 |
| --------- |
| 100,000  | pointy triangle |      5      | 8677 | 2,162.3 | 1,757 | 3,045 | 388.4 | 8,677 | 5,061 | 10,000 | 1,499 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 8768 | 2,333.2 | 1,579 | 3,080 | 481.6 | 8,768 | 5,301 | 10,000 | 1,466 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 8636 | 7,087.6 | 1,889 | 24,772 | 6,834.4 | 8,637 | 5,020 | 10,000 | 1,558 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 8620 | 4,766.2 | 2,535 | 10,939 | 1,368.9 | 8,621 | 5,170 | 10,000 | 1,535 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 8668 | 6,239.6 | 3,199 | 12,364 | 1,937 | 8,668 | 5,119 | 10,000 | 1,497 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 8657 | 7,788 | 3,012 | 17,362 | 2,718.5 | 8,657 | 5,042 | 10,000 | 1,516 | 250 | 0 |
| --------- |
| 100,000  | pointy hexagon  |      5      | 6626 | 2,511.1 | 1,639 | 3,940 | 738.8 | 6,627 | 3,886 | 9,186 | 1,732 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 6787 | 2,361.9 | 1,689 | 3,501 | 482.4 | 6,788 | 3,745 | 9,190 | 1,594 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 6808 | 3,660.1 | 2,069 | 6,722 | 926 | 6,808 | 3,740 | 9,219 | 1,548 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 6744 | 5,392.9 | 2,011 | 10,714 | 1,760.2 | 6,744 | 3,671 | 9,247 | 1,669 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 6698 | 7,131.3 | 2,658 | 17,521 | 2,698.7 | 6,698 | 3,654 | 9,232 | 1,634 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 6762 | 8,907 | 3,533 | 22,090 | 3,355.9 | 6,762 | 3,678 | 9,245 | 1,633 | 250 | 0 |
| -------- | --------| ----- | ------ | ------| ----- | ----- | ------ | ---- | ----- |
| 1 million  | geohash         |      5      | 4762 | 1,724.8 | 1,303 | 2,423 | 359.7 | 4,762 | 3,014 | 6,371 | 1,078 | 25 | 0 |
| 1 million  | geohash         |      10     | 4788 | 1,507.4 | 998 | 2,177 | 355.8 | 4,789 | 2,880 | 6,447 | 1,103 | 50 | 0 |
| 1 million  | geohash         |      20     | 4801 | 1,573.3 | 1,009 | 2,317 | 357.2 | 4,801 | 2,988 | 6,463 | 1,097 | 100 | 0 |
| 1 million  | geohash         |      30     | 4806 | 2,011.2 | 1,132 | 2,571 | 314.3 | 4,806 | 2,756 | 6,465 | 1,084 | 150 | 0 |
| 1 million  | geohash         |      40     | 4798 | 2,532.3 | 1,192 | 3,390 | 457.4 | 4,798 | 2,887 | 6,452 | 1,086 | 200 | 0 |
| 1 million  | geohash         |      50     | 4789 | 3,167.9 | 1,849 | 6,787 | 735.6 | 4,790 | 2,904 | 6,459 | 1,100 | 250 | 0 |
| ------- |
| 1 million  | square          |      5      | 5752 | 2,159.8 | 1,820 | 2,977 | 248.7 | 5,752 | 3,120 | 7,759 | 1,297 | 25 | 0 |
| 1 million  | square          |      10     | 5689 | 1,825.6 | 1,247 | 2,668 | 341 | 5,689 | 3,197 | 7,779 | 1,371 | 50 | 0 |
| 1 million  | square          |      20     | 5637 | 2,479.1 | 1,304 | 3,861 | 502.6 | 5,637 | 3,103 | 7,817 | 1,406 | 100 | 0 |
| 1 million  | square          |      30     | 5670 | 10,199.8 | 2,119 | 40,754 | 11,844.3 | 5,670 | 3,131 | 7,820 | 1,394 | 150 | 0 |
| 1 million  | square          |      40     | 5682 | 4,780.7 | 2,613 | 12,907 | 1,418.8 | 5,682 | 3,067 | 7,812 | 1,398 | 200 | 0 |
| 1 million  | square          |      50     | 5699 | 5,933 | 3,271 | 13,954 | 1,765.6 | 5,700 | 3,090 | 7,822 | 1,377 | 250 | 0 |
| ------- |
| 1 million  | pointy triangle |      5      | 8633 | 2,133.2 | 1,702 | 2,814 | 255.2 | 8,633 | 5,537 | 10,000 | 1,465 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 8537 | 2,224.2 | 1,582 | 3,187 | 422 | 8,538 | 5,036 | 10,000 | 1,632 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 8661 | 3,497.1 | 2,183 | 4,293 | 579.1 | 8,662 | 5,111 | 10,000 | 1,558 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 8651 | 4,743.7 | 3,059 | 9,218 | 1,218.3 | 8,651 | 5,117 | 10,000 | 1,525 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 8683 | 6,348 | 3,309 | 14,168 | 1,969.2 | 8,684 | 5,073 | 10,000 | 1,503 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 8631 | 7,911.4 | 3,825 | 19,515 | 2,857.7 | 8,632 | 5,006 | 10,000 | 1,568 | 250 | 0 |
| ------- |
| 1 million  | pointy hexagon  |      5      | 6694 | 2,483.9 | 1,817 | 3,630 | 417 | 6,695 | 3,803 | 9,238 | 1,667 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 6773 | 2,459.3 | 1,770 | 4,291 | 568.9 | 6,773 | 3,747 | 9,245 | 1,630 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 6763 | 3,655.9 | 2,031 | 5,273 | 839.7 | 6,763 | 3,715 | 9,228 | 1,575 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 6722 | 5,565.9 | 2,268 | 11,286 | 1,483.3 | 6,723 | 3,640 | 9,232 | 1,653 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 6723 | 7,119.4 | 3,836 | 19,509 | 2,410.2 | 6,723 | 3,657 | 9,231 | 1,641 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 6739 | 8,943.7 | 3,970 | 19,544 | 3,335.5 | 6,740 | 3,580 | 9,240 | 1,626 | 250 | 0 |
| ------- | ------| ------ | ------- | ------| ----- | ----- | ------ | ----- | ---- | 
| 10 millions  | geohash         |      5      | 4779 | 2,026.1 | 1,470 | 2,993 | 468.4 | 4,780 | 3,091 | 6,439 | 1,083 | 25 | 0 |
| 10 millions  | geohash         |      10     | 4776 | 1,718.6 | 1,301 | 2,506 | 383.1 | 4,777 | 2,944 | 6,454 | 1,128 | 50 | 0 |
| 10 millions  | geohash         |      20     | 4790 | 2,205.1 | 1,336 | 3,197 | 442.9 | 4,790 | 2,976 | 6,455 | 1,113 | 100 | 0 |
| 10 millions  | geohash         |      30     | 4794 | 2,933.4 | 1,817 | 4,251 | 517.3 | 4,794 | 2,815 | 6,459 | 1,098 | 150 | 0 |
| 10 millions  | geohash         |      40     | 4789 | 3,714 | 1,782 | 5,160 | 660.7 | 4,789 | 2,900 | 6,450 | 1,095 | 200 | 0 |
| 10 millions  | geohash         |      50     | 4792 | 4,539.1 | 1,911 | 7,061 | 1,081.2 | 4,793 | 2,798 | 6,456 | 1,097 | 250 | 0 |
| -------- |
| 10 millions  | square          |      5      | 5540 | 2,307.1 | 1,819 | 3,034 | 302.9 | 5,541 | 3,117 | 7,793 | 1,504 | 25 | 0 |
| 10 millions  | square          |      10     | 5727 | 2,622.2 | 2,154 | 3,193 | 306.8 | 5,727 | 3,122 | 7,774 | 1,357 | 50 | 0 |
| 10 millions  | square          |      20     | 5653 | 2,804.2 | 1,768 | 4,108 | 623.4 | 5,654 | 3,121 | 7,820 | 1,412 | 100 | 0 |
| 10 millions  | square          |      30     | 5662 | 3,862.9 | 2,473 | 6,539 | 879.5 | 5,663 | 3,088 | 7,818 | 1,421 | 150 | 0 |
| 10 millions  | square          |      40     | 5667 | 5,085 | 2,149 | 10,792 | 1,464.6 | 5,667 | 3,136 | 7,815 | 1,427 | 200 | 0 |
| 10 millions  | square          |      50     | 5656 | 6,249 | 2,281 | 12,565 | 1,952.9 | 5,656 | 3,050 | 7,817 | 1,422 | 250 | 0 |
| ------- |
| 10 millions  | pointy triangle |      5      | 8613 | 2,532.9 | 1,996 | 3,424 | 480.7 | 8,613 | 5,155 | 10,000 | 1,741 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 8629 | 2,813.8 | 2,220 | 3,927 | 402.8 | 8,629 | 5,230 | 10,000 | 1,585 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 8598 | 3,353.6 | 2,055 | 5,260 | 684.5 | 8,599 | 5,105 | 10,000 | 1,594 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 8655 | 4,917 | 2,551 | 9,717 | 1,145.7 | 8,655 | 5,016 | 10,000 | 1,498 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 8677 | 6,520 | 3,227 | 13,772 | 1,948.4 | 8,678 | 5,113 | 10,000 | 1,500 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 8627 | 8,093.5 | 3,465 | 16,176 | 2,520.6 | 8,628 | 5,103 | 10,000 | 1,533 | 250 | 0 |
| ------ |
| 10 millions  | pointy hexagon  |      5      | 6796 | 3,560.6 | 2,767 | 4,491 | 458.8 | 6,796 | 4,058 | 9,227 | 1,627 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 6727 | 8,851.5 | 2,647 | 27,100 | 5,744 | 6,727 | 3,720 | 9,197 | 1,606 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 6758 | 6,112.2 | 3,546 | 10,001 | 1,302.2 | 6,758 | 3,770 | 9,228 | 1,644 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 6781 | 8,699.3 | 2,763 | 12,142 | 1,890.3 | 6,781 | 3,751 | 9,245 | 1,624 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 6723 | 11,212.1 | 3,147 | 17,188 | 3,103.1 | 6,723 | 3,717 | 9,245 | 1,646 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 6713 | 13,926.7 | 4,752 | 31,236 | 5,648.6 | 6,713 | 3,582 | 9,242 | 1,674 | 250 | 0 |


## 4. ES Aggregation performance with MapServer (ExportImage)

### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 78,158 | 739 | 365 | 2,376 | 608 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash   | 78,158 | 552.5 | 352 | 955 | 213.4 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash   | 78,158 | 473 | 264 | 975 | 193.3 | 78,158 | 52,062 | 98,558 | 16,553 |
|  Average |        | 588.2 |
|  square     | 78,036 | 523.6 | 358 | 991 | 193.1 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square     | 78,036 | 493.6 | 358 | 960 | 178.4 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square     | 78,036 | 486.4 | 346 | 965 | 194.1 | 78,036 | 54,184 | 98,516 | 16,523 |
|  Average |        | 501.2 |
|  pointy triangle | 78,755 | 530.7 | 406 | 1,060 | 194.3 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 554.4 | 337 | 1,840 | 456.7 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 667.1 | 348 | 1,835 | 462.2 | 78,755 | 54,886 | 98,576 | 15,829 |
|  Average |        | 584.1 |
|  pointy hexagon  | 78,306 | 550.3 | 361 | 1,326 | 306.4 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 492.6 | 352 | 1,061 | 212.5 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 465.4 | 337 | 1,025 | 206.7 | 78,306 | 54,716 | 98,218 | 15,938 |
|  Average |        | 502.8 |

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 2 square`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 781,420 | 680.4 | 453 | 1,518 | 327.7 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash   | 781,420 | 551 | 393 | 861 | 163.5 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash   | 781,420 | 559.3 | 258 | 1,078 | 267.8 | 781,420 | 525,520 | 977,340 | 162,638 |
|  Average |        | 596.9 |
|  square     | 784,216 | 671.4 | 525 | 1,113 | 176.6 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square     | 784,216 | 517 | 362 | 932 | 161.4 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square     | 784,216 | 550.5 | 340 | 1,098 | 216.1 | 784,216 | 532,000 | 984,180 | 159,896 |
|  Average |        | 579.6 |
|  pointy triangle | 786,362 | 657.2 | 438 | 1,215 | 225.6 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 573 | 437 | 1,103 | 193.6 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 541 | 345 | 1,049 | 205 | 786,362 | 534,840 | 982,800 | 155,520 |
|  Average |        | 590.4 |
|  pointy hexagon | 778,464 | 587.8 | 448 | 1,056 | 178.4 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon | 778,464 | 607.8 | 386 | 1,095 | 204.2 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon | 778,464 | 557.7 | 341 | 1,911 | 479.2 | 778,464 | 519,580 | 985,420 | 167,926 |
|  Average |        | 584.3|

Sample command: ` java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 6 pointyHexagon`

### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 7,798,087 | 1,260.3 | 1,019 | 1,830 | 244.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash   | 7,798,087 | 886 | 769 | 1,135 | 118.7 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash   | 7,798,087 | 709.5 | 409 | 1,574 | 357 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  Average |             | 951.9 |
|  square     | 7,809,003 | 1,194 | 1,010 | 1,512 | 139.7 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square     | 7,809,003 | 864.1 | 445 | 1,257 | 303 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square     | 7,809,003 | 788.2 | 514 | 1,066 | 193.9 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  Average |              | 948.8 |
|  pointy triangle | 7,812,145 | 1,233.4 | 1,063 | 1,457 | 134.7 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 820.1 | 482 | 1,909 | 456.8 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 806.5 | 348 | 1,288 | 342.1 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  Average |                   | 953.3 |
|  pointy hexagon  | 7,856,450 | 1,283 | 1,133 | 1,655 | 155.1 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 921.6 | 730 | 1,315 | 160.3 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 825.1 | 508 | 1,342 | 235 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  Average |                   | 1,009.9 |

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 4 pointyTriangle`


### Multi-Threads: 

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |       5     | 78353 | 1,387.8 | 692 | 3,936 | 1,209.4 | 78,353 | 51,292 | 98,614 | 15,740 | 25 | 0 |
| 100,000  | geohash         |      10     | 78635 | 858.6 | 670 | 1,155 | 140.7 | 78,635 | 51,966 | 98,584 | 15,112 | 50 | 0 |
| 100,000  | geohash         |      20     | 78664 | 956.7 | 661 | 1,549 | 231.8 | 78,665 | 50,678 | 98,586 | 15,046 | 100 | 0 |
| 100,000  | geohash         |      30     | 78476 | 973.7 | 664 | 1,823 | 288.4 | 78,476 | 50,300 | 98,592 | 15,198 | 150 | 0 |
| 100,000  | geohash         |      40     | 78472 | 1,020.3 | 692 | 2,037 | 330.6 | 78,473 | 50,016 | 98,552 | 15,201 | 200 | 0 |
| 100,000  | geohash         |      50     | 78466 | 1,230.5 | 822 | 2,564 | 400.8 | 78,466 | 50,532 | 98,560 | 15,160 | 250 | 0 |
| -------- |
| 100,000  | square          |       5     | 78543 | 829.3 | 673 | 1,084 | 107.3 | 78,543 | 50,050 | 98,498 | 15,560 | 25 | 0 |
| 100,000  | square          |      10     | 78042 | 867.9 | 677 | 1,208 | 163.3 | 78,043 | 50,580 | 98,490 | 15,765 | 50 | 0 |
| 100,000  | square          |      20     | 78379 | 978.2 | 659 | 1,545 | 252.7 | 78,380 | 50,288 | 98,510 | 15,280 | 100 | 0 |
| 100,000  | square          |      30     | 78670 | 987.1 | 728 | 1,714 | 270.3 | 78,670 | 51,146 | 98,522 | 14,975 | 150 | 0 |
| 100,000  | square          |      40     | 78619 | 1,030.4 | 677 | 2,175 | 353.3 | 78,619 | 50,076 | 98,622 | 14,970 | 200 | 0 |
| 100,000  | square          |      50     | 78369 | 1,201.2 | 782 | 2,428 | 335.7 | 78,370 | 50,058 | 98,606 | 15,346 | 250 | 0 |
| -------- |
| 100,000  | pointy triangle |       5     | 78447 | 848.8 | 652 | 1,165 | 153.6 | 78,448 | 50,966 | 98,498 | 15,444 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 78787 | 897.1 | 701 | 1,150 | 152.4 | 78,787 | 51,614 | 98,550 | 14,868 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 78480 | 939.1 | 652 | 1,562 | 243 | 78,480 | 50,496 | 98,582 | 15,201 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 78476 | 960.2 | 663 | 1,893 | 295.9 | 78,477 | 50,886 | 98,594 | 15,001 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 78516 | 1,051.8 | 716 | 2,045 | 332.5 | 78,517 | 50,296 | 98,580 | 15,085 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 78391 | 1,232.8 | 846 | 2,485 | 333.4 | 78,391 | 50,114 | 98,606 | 15,338 | 250 | 0 |
| -------- |
| 100,000  | pointy hexagon  |       5     | 78152 | 817.6 | 664 | 1,005 | 99 | 78,152 | 53,064 | 98,490 | 15,791 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 78634 | 847.5 | 702 | 1,084 | 106.9 | 78,634 | 51,750 | 98,492 | 14,987 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 78785 | 983.7 | 681 | 2,131 | 290.8 | 78,786 | 51,718 | 98,560 | 14,686 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 78470 | 1,010 | 688 | 1,780 | 300.7 | 78,471 | 50,306 | 98,592 | 15,239 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 78423 | 1,019.2 | 674 | 2,156 | 342.7 | 78,423 | 50,448 | 98,566 | 15,213 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 78566 | 1,219.2 | 815 | 2,373 | 334.5 | 78,566 | 50,212 | 98,606 | 15,032 | 250 | 0 |
| -------- | ------- | ------- |
| 1 million  | geohash         |       5     | 787327 | 1,140 | 731 | 2,183 | 515.3 | 787,327 | 531,780 | 982,700 | 148,633 | 25 | 0 |
| 1 million  | geohash         |      10     | 783848 | 987 | 793 | 1,474 | 181 | 783,849 | 505,960 | 985,120 | 154,081 | 50 | 0 |
| 1 million  | geohash         |      20     | 784349 | 1,114.3 | 768 | 1,805 | 280.6 | 784,349 | 506,660 | 985,880 | 152,565 | 100 | 0 |
| 1 million  | geohash         |      30     | 786528 | 1,143.8 | 788 | 2,058 | 280.5 | 786,529 | 502,200 | 986,060 | 149,918 | 150 | 0 |
| 1 million  | geohash         |      40     | 784713 | 1,365 | 849 | 2,344 | 318.6 | 784,714 | 500,540 | 985,800 | 152,211 | 200 | 0 |
| 1 million  | geohash         |      50     | 783301 | 1,597.9 | 996 | 2,657 | 303.2 | 783,301 | 500,900 | 985,540 | 153,256 | 250 | 0 |
| ------- |
| 1 million  | square          |       5     | 788332 | 983.2 | 810 | 1,355 | 154.8 | 788,333 | 507,860 | 983,880 | 148,315 | 25 | 0 |
| 1 million  | square          |      10     | 786372 | 977.4 | 743 | 1,363 | 146.5 | 786,372 | 522,340 | 985,120 | 149,614 | 50 | 0 |
| 1 million  | square          |      20     | 782078 | 1,050.3 | 748 | 1,696 | 225.4 | 782,078 | 504,920 | 985,600 | 154,316 | 100 | 0 |
| 1 million  | square          |      30     | 785687 | 1,130.4 | 726 | 1,975 | 269.4 | 785,687 | 502,700 | 985,820 | 150,902 | 150 | 0 |
| 1 million  | square          |      40     | 784927 | 1,315.7 | 895 | 2,330 | 299.4 | 784,927 | 500,820 | 985,500 | 151,754 | 200 | 0 |
| 1 million  | square          |      50     | 786074 | 1,601.5 | 1,111 | 3,192 | 339.4 | 786,074 | 500,060 | 985,980 | 149,761 | 250 | 0 |
| ------- |
| 1 million  | pointy triangle |       5     | 787129 | 945.7 | 742 | 1,159 | 131.9 | 787,130 | 544,760 | 986,140 | 149,310 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 783600 | 987.2 | 732 | 1,415 | 172.4 | 783,600 | 502,560 | 985,060 | 154,281 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 785808 | 1,043.6 | 793 | 1,770 | 260.3 | 785,808 | 509,800 | 985,460 | 150,969 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 784981 | 1,117.3 | 718 | 1,980 | 274.2 | 784,981 | 500,420 | 985,620 | 151,312 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 784980 | 1,299.5 | 834 | 2,411 | 316 | 784,981 | 506,120 | 986,080 | 151,725 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 783898 | 1,595.2 | 1,197 | 2,653 | 271.9 | 783,899 | 502,060 | 985,560 | 152,561 | 250 | 0 |
| ------ |
| 1 million  | pointy hexagon  |       5     | 784920 | 964.6 | 815 | 1,127 | 92 | 784,921 | 514,500 | 985,500 | 155,578 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 785432 | 981.5 | 797 | 1,446 | 183.9 | 785,433 | 509,660 | 986,060 | 151,358 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 785155 | 1,044.1 | 755 | 1,578 | 197.9 | 785,155 | 507,000 | 985,780 | 151,317 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 784488 | 1,157.3 | 801 | 2,077 | 310.9 | 784,489 | 512,480 | 986,140 | 152,459 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 785256 | 1,314.4 | 910 | 2,444 | 299.5 | 785,257 | 503,400 | 985,740 | 150,277 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 784955 | 1,577.6 | 1,085 | 2,746 | 315.3 | 784,955 | 502,320 | 985,720 | 151,576 | 250 | 0 |
| ------ | --------- | ------ |
| 10 millions  | geohash         |       5     | 7880231 | 2,003.3 | 1,622 | 2,856 | 434.9 | 7,880,231 | 5,507,000 | 9,861,060 | 1,487,360 | 25 | 0 |
| 10 millions  | geohash         |      10     | 7869753 | 2,517.7 | 1,544 | 3,290 | 396.6 | 7,869,754 | 5,295,540 | 9,869,230 | 1,506,795 | 50 | 0 |
| 10 millions  | geohash         |      20     | 7857937 | 4,477.5 | 2,548 | 6,060 | 758.5 | 7,857,938 | 5,093,060 | 9,876,250 | 1,526,739 | 100 | 0 |
| 10 millions  | geohash         |      30     | 7852079 | 6,497.4 | 2,850 | 10,171 | 1,531.2 | 7,852,079 | 5,047,720 | 9,870,230 | 1,520,248 | 150 | 0 |
| 10 millions  | geohash         |      40     | 7832555 | 8,622.1 | 2,810 | 16,276 | 2,536.4 | 7,832,555 | 5,021,580 | 9,875,250 | 1,539,881 | 200 | 0 |
| 10 millions  | geohash         |      50     | 7840104 | 10,713.6 | 3,367 | 17,245 | 2,930.4 | 7,840,104 | 5,038,960 | 9,874,830 | 1,537,670 | 250 | 0 |
| ------- |
| 10 millions  | square          |       5     | 7805555 | 1,865.6 | 1,673 | 2,164 | 164.5 | 7,805,555 | 5,138,350 | 9,860,630 | 1,600,275 | 25 | 0 |
| 10 millions  | square          |      10     | 7817883 | 2,393.4 | 1,669 | 3,278 | 304.9 | 7,817,884 | 5,005,720 | 9,856,400 | 1,570,261 | 50 | 0 |
| 10 millions  | square          |      20     | 7838387 | 4,397.4 | 2,549 | 5,895 | 742.4 | 7,838,387 | 5,036,060 | 9,874,860 | 1,537,731 | 100 | 0 |
| 10 millions  | square          |      30     | 7846099 | 6,565.9 | 2,671 | 9,194 | 1,403.5 | 7,846,099 | 5,038,180 | 9,874,650 | 1,534,249 | 150 | 0 |
| 10 millions  | square          |      40     | 7855973 | 8,519.3 | 2,628 | 11,523 | 2,013.9 | 7,855,974 | 5,086,710 | 9,877,050 | 1,510,752 | 200 | 0 |
| 10 millions  | square          |      50     | 7841870 | 10,710.4 | 2,674 | 16,907 | 3,300.7 | 7,841,871 | 5,000,270 | 9,874,630 | 1,532,771 | 250 | 0 |
| ------ |
| 10 millions  | pointy triangle |       5     | 7803605 | 1,824.4 | 1,416 | 2,158 | 214.7 | 7,803,606 | 5,073,930 | 9,865,050 | 1,615,696 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 7852677 | 2,416.7 | 1,562 | 3,108 | 377.1 | 7,852,677 | 5,138,870 | 9,871,650 | 1,544,173 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 7837179 | 4,510.8 | 2,859 | 5,963 | 704.3 | 7,837,180 | 5,064,970 | 9,872,040 | 1,539,946 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 7857756 | 6,574.9 | 2,470 | 10,842 | 1,444.3 | 7,857,756 | 5,033,960 | 9,872,240 | 1,515,985 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 7850945 | 8,688.2 | 2,259 | 20,295 | 2,423.1 | 7,850,946 | 5,021,460 | 9,873,280 | 1,511,228 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 7836840 | 10,681.9 | 2,984 | 18,891 | 3,165.2 | 7,836,841 | 5,029,990 | 9,875,460 | 1,532,940 | 250 | 0 |
| ------ |
| 10 millions  | pointy hexagon  |       5     | 7890944 | 1,793.2 | 1,478 | 2,210 | 205.9 | 7,890,944 | 5,384,610 | 9,868,650 | 1,492,154 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 7854626 | 2,482.7 | 1,652 | 3,302 | 354.5 | 7,854,627 | 5,005,740 | 9,864,830 | 1,530,594 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 7864260 | 4,487.2 | 2,352 | 5,946 | 775.4 | 7,864,260 | 5,296,300 | 9,877,450 | 1,504,252 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 7858584 | 6,589.1 | 2,607 | 12,436 | 1,638.6 | 7,858,584 | 5,113,540 | 9,873,040 | 1,506,946 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 7852690 | 8,643.5 | 2,986 | 24,807 | 3,566.8 | 7,852,690 | 5,055,430 | 9,877,250 | 1,513,736 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 7849733 | 10,792.9 | 3,129 | 17,114 | 3,028.5 | 7,849,734 | 5,010,290 | 9,873,260 | 1,526,137 | 250 | 0 |



# 11-30-2021

# ES/OS case

## 1. ES Datastore: 100k, 1 million, 10 million dataset, single thread, querying features with 20 consecutive requests.
The stats are generated in the same testing program.

| Dataset Size | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ------------ | --------------| ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ |
| 100,000      | 1,287 | 506.9 | 306 | 2,160 | 401.2 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 1,287 | 594.1 | 344 | 1,169 | 174.4 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 1,287 | 462.4 | 293 | 1,014 | 151.8 | 1,287 | 1,022 | 1,500 | 171 |
|          | Average   |   521.3   | 
| 100,000      | 5,291 | 1,698.7 | 1,014 | 3,630 | 615.8 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 5,291 | 1,056 | 877 | 2,026 | 260.5 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 5,291 | 1,751.2 | 1,145 | 3,238 | 520.7 | 5,291 | 5,022 | 5,500 | 168 |
|          | Average   |  1,502    | 
| 100,000      | 9,955 | 1,333.7 | 822 | 2,034 | 333.5 | 9,955 | 9,904 | 10,000 | 27 |
| 100,000      | 9,955 | 1,523.9 | 1,124 | 2,566 | 355.3 | 9,955 | 9,904 | 10,000 | 27 |
| 100,000      | 9,955 | 1,573 | 1,308 | 2,682 | 293.1 | 9,955 | 9,904 | 10,000 | 27 |
|          | Average   | 1,476.9  | 
| ------- |
| 1 million    | 1,272 | 523 | 229 | 1,688 | 297.6 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 1,272 | 502.1 | 365 | 1,450 | 232.6 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 1,272 | 579.6 | 453 | 1,084 | 132.1 | 1,272 | 1,000 | 1,500 | 182 | 
|          | Average   |  534.9    | 
| 1 million    | 5,270 | 1,062.4 | 915 | 1,866 | 201.5 | 5,270 | 5,060 | 5,480 | 141 |
| 1 million    | 5,270 | 1,112.5 | 854 | 2,281 | 304.6 | 5,270 | 5,060 | 5,480 | 141 |
| 1 million    | 5,270 | 1,237 | 836 | 2,983 | 520.1 | 5,270 | 5,060 | 5,480 | 141 |
|          | Average   | 1,137.3     | 
| 1 million    | 9,756 | 1,515.5 | 1,097 | 2,389 | 281.2 | 9,756 | 9,520 | 10,000 | 160 |
| 1 million    | 9,756 | 1,596.6 | 1,370 | 2,369 | 236.1 | 9,756 | 9,520 | 10,000 | 160 |
| 1 million    | 9,756 | 1,601.5 | 1,296 | 3,187 | 395 | 9,756 | 9,520 | 10,000 | 160 |
|          | Average   | 1,571.2 | 
| ------ |
| 10 millions  | 1,171 | 608.7 | 414 | 1,979 | 340.7 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions  | 1,171 | 496.8 | 302 | 1,209 | 216.3 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions  | 1,171 | 410.6 | 296 | 1,129 | 190.5 | 1,171 | 1,000 | 1,410 | 163 |
|          | Average   | 505.4 | 
| 10 millions  | 5,199 | 1,072.7 | 804 | 1,879 | 223.2 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions  | 5,199 | 1,182.2 | 813 | 1,748 | 264.7 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions  | 5,199 | 1,241.2 | 893 | 2,615 | 429.9 | 5,199 | 5,000 | 5,420 | 170 |
|          | Average   | 1,165.4     | 
| 10 millions  | 9,733 | 1,590 | 1,359 | 2,683 | 284.4 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 1,573.2 | 1,272 | 2,158 | 204.9 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 1,626.2 | 1,304 | 2,729 | 280.3 | 9,733 | 9,600 | 10,000 | 119 |
|          | Average   | 1,124.5     | 

Sample testing command:
`java -cp ./target/ms-fs-performance-test-1.0.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch01/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services/ planes_1_million_bat_fl ./1m_extents_10k_features.txt 20 120 0`

## 2. ES Datastore: 100k, 1 million, 10 million dataset, multi-threads, querying features with average 20 requests for each thread.
The stats are generated in a separate program.

| Dataset Size |  # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | --------------| ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  |      5     | 1254 | 1,117.3 | 842 | 2,507 | 312.3 | 1,254 | 1,000 | 1,500 | 150 | 100 | 0 |
| 100,000  |      10     | 1302 | 1,176.4 | 973 | 1,648 | 116.1 | 1,303 | 1,006 | 1,500 | 152 | 200 | 0 |
| 100,000  |      20     | 1268 | 1,197.2 | 940 | 1,820 | 148.6 | 1,268 | 1,000 | 1,500 | 153 | 400 | 0 |
| 100,000  |      30     | 1265 | 1,250.4 | 980 | 2,104 | 182.4 | 1,266 | 1,002 | 1,500 | 159 | 600 | 0 |
| 100,000  |      40     | 1269 | 1,331.8 | 995 | 3,044 | 244.2 | 1,269 | 1,000 | 1,500 | 154 | 800 | 0 |
| 100,000  |      50     | 1269 | 1,635.3 | 1,270 | 3,031 | 230.1 | 1,269 | 1,000 | 1,500 | 155 | 1000 | 0 |
| -------- |   
| 100,000  |      5     | 5279 | 2,298.7 | 1,695 | 3,347 | 370 | 5,279 | 5,002 | 5,500 | 158 | 100 | 0 |
| 100,000  |      10     | 5282 | 2,366.3 | 1,761 | 3,974 | 399.5 | 5,283 | 5,002 | 5,500 | 151 | 200 | 0 |
| 100,000  |      20     | 5293 | 3,729.5 | 1,928 | 22,956 | 3,415 | 5,293 | 5,002 | 5,500 | 149 | 400 | 0 |
| 100,000  |      30     | 5281 | 3,993.1 | 2,835 | 7,814 | 647.3 | 5,282 | 5,000 | 5,500 | 152 | 600 | 0 |
| 100,000  |      40     | 5280 | 5,300 | 2,795 | 12,809 | 1,346.4 | 5,281 | 5,000 | 5,500 | 154 | 800 | 0 |
| 100,000  |      50     | 5278 | 6,640.9 | 3,205 | 18,451 | 2,010.8 | 5,278 | 5,000 | 5,500 | 155 | 1000 | 0 |
| -------- |   
| 100,000  |      5     | 9954 | 3,069.3 | 2,154 | 5,464 | 739.5 | 9,954 | 9,900 | 10,000 | 30 | 100 | 0 |
| 100,000  |      10     | 9955 | 4,992.5 | 2,201 | 41,503 | 5,727.2 | 9,955 | 9,900 | 10,000 | 31 | 200 | 0 |
| 100,000  |      20     | 9954 | 5,088.7 | 3,080 | 10,978 | 1,169.2 | 9,955 | 9,900 | 10,000 | 31 | 400 | 0 |
| 100,000  |      30     | 9954 | 7,555.2 | 3,680 | 15,427 | 2,127.5 | 9,954 | 9,900 | 10,000 | 31 | 600 | 0 |
| 100,000  |      40     | 9954 | 9,979.3 | 4,463 | 23,476 | 3,091.5 | 9,955 | 9,900 | 10,000 | 32 | 800 | 0 |
| 100,000  |      50     | 9957 | 13,132.7 | 5,274 | 28,621 | 3,499.3 | 9,957 | 9,900 | 10,000 | 31 | 1000 | 381 |
| 100,000  |      50     | 9956 | 13,339.3 | 4,577 | 40,397 | 5,818.9 | 9,957 | 9,900 | 10,000 | 31 | 1000 | 0 |
| -------- |  -------- |  -------- |
| 1 million  |      5     | 1268 | 1,528.5 | 930 | 8,727 | 1,633.3 | 1,268 | 1,000 | 1,500 | 165 | 100 | 0 |
| 1 million  |      10     | 1239 | 1,154.5 | 882 | 1,488 | 111 | 1,240 | 1,000 | 1,500 | 171 | 200 | 0 |
| 1 million  |      20     | 1250 | 1,197 | 913 | 1,937 | 167 | 1,251 | 1,000 | 1,500 | 173 | 400 | 0 |
| 1 million  |      30     | 1244 | 1,248.8 | 938 | 2,046 | 180.2 | 1,244 | 1,000 | 1,500 | 170 | 600 | 0 |
| 1 million  |      40     | 1244 | 1,360.4 | 1,013 | 2,681 | 264.6 | 1,244 | 1,000 | 1,500 | 172 | 800 | 0 |
| 1 million  |      50     | 1243 | 1,607.8 | 1,120 | 2,933 | 269.4 | 1,243 | 1,000 | 1,500 | 167 | 1000 | 0 |
| -------- |
| 1 million  |      5     | 5305 | 2,300.4 | 1,700 | 3,357 | 357.6 | 5,306 | 5,000 | 5,500 | 159 | 100 | 0 |
| 1 million  |      10     | 5301 | 2,371.2 | 1,752 | 3,714 | 398.1 | 5,302 | 5,000 | 5,500 | 148 | 200 | 0 |
| 1 million  |      20     | 5281 | 2,715.4 | 2,006 | 4,457 | 376.5 | 5,282 | 5,000 | 5,500 | 161 | 400 | 0 |
| 1 million  |      30     | 5278 | 4,005.8 | 2,975 | 6,602 | 563.3 | 5,279 | 5,000 | 5,500 | 156 | 600 | 0 |
| 1 million  |      40     | 5286 | 5,383.8 | 2,850 | 12,520 | 1,393.9 | 5,286 | 5,000 | 5,500 | 157 | 800 | 0 |
| 1 million  |      50     | 5284 | 6,712.1 | 3,434 | 15,116 | 1,990.4 | 5,285 | 5,000 | 5,500 | 158 | 1000 | 0 |
| -------- |
| 1 million  |      5     | 9950 | 2,990.3 | 2,110 | 5,247 | 682.1 | 9,951 | 9,900 | 10,000 | 34 | 100 | 0 |
| 1 million  |      10     | 9792 | 3,163.5 | 2,307 | 6,349 | 692.7 | 9,792 | 9,500 | 10,000 | 160 | 200 | 0 |
| 1 million  |      20     | 9809 | 4,968 | 2,944 | 9,281 | 1,036.6 | 9,810 | 9,500 | 10,000 | 149 | 400 | 0 |
| 1 million  |      30     | 9799 | 7,452.9 | 3,758 | 14,777 | 2,075.6 | 9,800 | 9,500 | 10,000 | 156 | 600 | 0 |
| 1 million  |      40     | 9798 | 10,703.7 | 4,348 | 36,765 | 4,952.5 | 9,798 | 9,500 | 10,000 | 156 | 800 | 0 |
| 1 million  |      50     | 9798 | 12,314.9 | 4,547 | 28,602 | 3,963.9 | 9,799 | 9,500 | 10,000 | 156 | 1000 | 0 |
| ----- |  ---- |  ---- |
| 10 millions  |      5     | 1227 | 1,306.4 | 959 | 2,236 | 245.2 | 1,227 | 1,000 | 1,410 | 160 | 100 | 0 |
| 10 millions  |      10     | 1206 | 1,281.9 | 946 | 1,906 | 172 | 1,206 | 1,000 | 1,410 | 165 | 200 | 0 |
| 10 millions  |      20     | 1207 | 1,314.8 | 945 | 2,142 | 194.5 | 1,207 | 1,000 | 1,410 | 168 | 400 | 0 |
| 10 millions  |      30     | 1222 | 2,994.5 | 1,045 | 19,183 | 2,999.4 | 1,222 | 1,000 | 1,420 | 166 | 600 | 0 |
| 10 millions  |      40     | 1215 | 1,786.7 | 1,390 | 3,096 | 239.5 | 1,215 | 1,000 | 1,410 | 159 | 800 | 0 |
| 10 millions  |      50     | 1210 | 1,832.6 | 1,255 | 3,526 | 334.9 | 1,210 | 1,000 | 1,420 | 167 | 1000 | 0 |
| ----- |
| 10 millions  |      5     | 5236 | 2,330.8 | 1,922 | 4,183 | 460 | 5,236 | 5,000 | 5,420 | 168 | 100 | 0 |
| 10 millions  |      10     | 5223 | 2,398.8 | 1,900 | 4,509 | 525.3 | 5,223 | 5,000 | 5,420 | 159 | 200 | 0 |
| 10 millions  |      20     | 5217 | 2,723.7 | 2,133 | 6,724 | 490.9 | 5,218 | 5,000 | 5,430 | 163 | 400 | 0 |
| 10 millions  |      30     | 5233 | 5,237.9 | 2,819 | 32,936 | 4,977.2 | 5,234 | 5,000 | 5,430 | 160 | 600 | 0 |
| 10 millions  |      40     | 5231 | 5,420.4 | 3,248 | 13,251 | 1,479 | 5,232 | 5,000 | 5,430 | 162 | 800 | 0 |
| 10 millions  |      50     | 5227 | 7,570.6 | 3,479 | 40,222 | 4,817.1 | 5,227 | 5,000 | 5,430 | 161 | 1000 | 0 |
| ------ |
| 10 millions  |      5     | 9740 | 4,169.7 | 2,268 | 16,076 | 3,089.3 | 9,740 | 9,600 | 10,000 | 121 | 100 | 0 |
| 10 millions  |      10     | 9750 | 3,077.6 | 2,183 | 4,796 | 503 | 9,751 | 9,600 | 10,000 | 118 | 200 | 0 |
| 10 millions  |      20     | 9744 | 5,006.3 | 3,124 | 9,938 | 1,048.5 | 9,744 | 9,600 | 10,000 | 121 | 400 | 0 |
| 10 millions  |      30     | 9742 | 7,526 | 3,769 | 18,824 | 2,491.1 | 9,743 | 9,600 | 10,000 | 119 | 600 | 0 |
| 10 millions  |      40     | 9744 | 9,767.4 | 4,016 | 23,917 | 3,515.7 | 9,745 | 9,600 | 10,000 | 119 | 800 | 0 |
| 10 millions  |      50     | 9743 | 12,301.1 | 4,596 | 33,107 | 4,430.9 | 9,744 | 9,600 | 10,000 | 116 | 1000 | 0 |


Sample commands:
`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 50 1000 ./test_outputs/query/planes_10m_fl_querying_5k_50thread_1000req.txt ./random_extents/10m_extents_5k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 50 1000 ./test_outputs/query/planes_1m_fl_querying_10k_50thread_1000req.txt ./random_extents/1m_extents_10k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 50 1000 ./test_outputs/query/planes_100k_fl_querying_10k_50thread_1000req.txt ./random_extents/100k_extents_10k_features.txt 2100`

## 3. ES Aggregation performance with FeatureServer

### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 78,158 | 1,011.3 | 571 | 3,120 | 753.5 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash | 78,158 | 804.2 | 567 | 1,372 | 229.1 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash | 78,158 | 488.5 | 356 | 1,096 | 217.2 | 78,158 | 52,062 | 98,558 | 16,553 |
|  Average |        | 768.0 |
|  square  | 78,036 | 1,339.1 | 772 | 3,880 | 957.9 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square  | 78,036 | 957.3 | 676 | 1,542 | 247.9 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square  | 78,036 | 1,094.9 | 776 | 1,726 | 263.2 | 78,036 | 54,184 | 98,516 | 16,523 |
|  Average |        | 1130.4 |
|  pointy triangle | 78,755 | 1,337.9 | 949 | 2,645 | 485.3 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 1,341.3 | 1,103 | 2,257 | 345.4 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 1,444.1 | 1,094 | 3,137 | 612 | 78,755 | 54,886 | 98,576 | 15,829 |
|  Average |                | 1,374.4 |
|  pointy hexagon  | 78,306 | 1,525.1 | 1,082 | 2,754 | 473.3 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 1,145.1 | 909 | 1,687 | 217.7 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 2,320.4 | 1,088 | 3,588 | 864.6 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 1,368.6 | 937 | 2,116 | 322.9 | 78,306 | 54,716 | 98,218 | 15,938 |
|  Average |                | 1,589.8 |

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 6 pointyHexagon`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 781,420 | 791 | 518 | 1,618 | 303.2 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash | 781,420 | 799.8 | 491 | 1,303 | 218.6 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash | 781,420 | 819 | 578 | 1,900 | 388.6 | 781,420 | 525,520 | 977,340 | 162,638 |
|  Average |         | 803.3 |
|  square  | 784,216 | 933.4 | 727 | 1,362 | 177.8 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square  | 784,216 | 1,174.7 | 944 | 1,959 | 298.6 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square  | 784,216 | 1,056.4 | 835 | 1,462 | 174.6 | 784,216 | 532,000 | 984,180 | 159,896 |
|  Average |         | 1,054.8 |
|  pointy triangle | 786,362 | 1,550.1 | 1,223 | 3,068 | 554.3 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 1,290.1 | 993 | 1,990 | 272.7 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 1,336.7 | 946 | 2,959 | 618.6 | 786,362 | 534,840 | 982,800 | 155,520 |
|  Average |                 | 992.3|
|  pointy hexagon  | 778,464 | 1,224.6 | 905 | 1,734 | 215.7 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon  | 778,464 | 1,375.7 | 1,036 | 1,687 | 254 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon  | 778,464 | 1,299.2 | 887 | 1,741 | 285.1 | 778,464 | 519,580 | 985,420 | 167,926 |
|  Average |                 | 1,299.8 |

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 4 pointyTriangle`

### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 7,798,087 | 1,253.2 | 1,035 | 2,203 | 341.6 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash | 7,798,087 | 807.7 | 581 | 1,657 | 308.6 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash | 7,798,087 | 1,553.2 | 1,013 | 2,783 | 582.9 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  Average |           | 1,204.7 |
|  square  | 7,809,003 | 1,539.8 | 1,336 | 2,109 | 219.5 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square  | 7,809,003 | 1,062.3 | 669 | 1,464 | 238.8 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square  | 7,809,003 | 1,225.9 | 941 | 1,899 | 271.3 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  Average |           | 1,276 |
|  pointy triangle | 7,812,145 | 1,698.8 | 1,406 | 2,999 | 478.1 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 1,372.1 | 959 | 2,319 | 369.7 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 1,403.5 | 1,009 | 2,005 | 287.4 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  Average |                   | 1,491.5 |
|  pointy hexagon  | 7,856,450 | 2,251.8 | 1,990 | 2,557 | 211.3 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 1,665.2 | 1,403 | 2,054 | 195.7 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 2,076 | 1,641 | 3,949 | 699.7 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  Average |                   | 1997.7 |

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 0 square`


### Multi-Threads:

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |      5     | 4795 | 1,853.5 | 1,377 | 2,934 | 519.6 | 4,795 | 3,107 | 6,452 | 1,114 | 25 | 0 |
| 100,000  | geohash         |      10     | 4785 | 1,402.6 | 942 | 2,051 | 335.1 | 4,786 | 2,994 | 6,445 | 1,109 | 50 | 0 |
| 100,000  | geohash         |      20     | 4797 | 1,624.2 | 1,091 | 2,182 | 317.7 | 4,797 | 2,955 | 6,458 | 1,091 | 100 | 0 |
| 100,000  | geohash         |      30     | 4799 | 2,116.2 | 1,001 | 2,970 | 511.1 | 4,800 | 2,891 | 6,455 | 1,107 | 150 | 0 |
| 100,000  | geohash         |      40     | 4807 | 3,007.1 | 1,576 | 4,748 | 852.3 | 4,808 | 2,885 | 6,456 | 1,101 | 200 | 0 |
| 100,000  | geohash         |      50     | 4791 | 3,187.6 | 1,722 | 7,326 | 749.1 | 4,791 | 2,932 | 6,461 | 1,104 | 250 | 0 |
| -------- |
| 100,000  | square          |      5     | 5681 | 2,831.6 | 1,850 | 5,630 | 1,397.4 | 5,682 | 3,035 | 7,810 | 1,405 | 25 | 0 |
| 100,000  | square          |      10     | 5639 | 2,037.6 | 1,256 | 2,811 | 377.7 | 5,639 | 3,110 | 7,778 | 1,390 | 50 | 0 |
| 100,000  | square          |      20     | 5677 | 2,527 | 1,476 | 3,489 | 503.2 | 5,678 | 3,096 | 7,801 | 1,382 | 100 | 0 |
| 100,000  | square          |      30     | 5694 | 3,589.7 | 1,655 | 6,794 | 883.9 | 5,695 | 3,332 | 7,800 | 1,367 | 150 | 0 |
| 100,000  | square          |      40     | 5655 | 4,769.7 | 2,000 | 9,642 | 1,361.3 | 5,656 | 3,095 | 7,818 | 1,391 | 200 | 0 |
| 100,000  | square          |      50     | 5662 | 5,980.9 | 2,742 | 16,588 | 2,301 | 5,663 | 3,176 | 7,812 | 1,425 | 250 | 0 |
| ------ |
| 100,000  | pointy triangle |      5     | 8677 | 2,248.1 | 1,556 | 3,245 | 384.7 | 8,677 | 5,061 | 10,000 | 1,499 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 8768 | 2,477.1 | 1,926 | 3,367 | 370 | 8,768 | 5,301 | 10,000 | 1,466 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 8636 | 3,298.4 | 1,691 | 4,972 | 731.9 | 8,637 | 5,020 | 10,000 | 1,558 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 8620 | 4,778.8 | 2,105 | 9,480 | 1,607.8 | 8,621 | 5,170 | 10,000 | 1,535 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 8668 | 6,323 | 3,758 | 12,524 | 1,759.9 | 8,668 | 5,119 | 10,000 | 1,497 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 8657 | 7,882.4 | 3,319 | 20,011 | 3,241.7 | 8,657 | 5,042 | 10,000 | 1,516 | 250 | 0 |
| ------- |
| 100,000  | pointy hexagon  |      5     | 6626 | 2,187.5 | 1,422 | 3,680 | 552 | 6,627 | 3,886 | 9,186 | 1,732 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 6787 | 2,653.4 | 1,945 | 3,609 | 469 | 6,788 | 3,745 | 9,190 | 1,594 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 6808 | 3,744.9 | 2,134 | 5,319 | 768.2 | 6,808 | 3,740 | 9,219 | 1,548 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 6744 | 5,395 | 2,334 | 10,924 | 1,625.9 | 6,744 | 3,671 | 9,247 | 1,669 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 6698 | 7,112.7 | 2,430 | 17,664 | 2,755.3 | 6,698 | 3,654 | 9,232 | 1,634 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 6762 | 9,471.8 | 3,829 | 22,347 | 3,033.4 | 6,762 | 3,678 | 9,245 | 1,633 | 250 | 0 |
| ------ | ------ |
| 1 million  | geohash         |      5     | 4762 | 1,768.8 | 1,080 | 2,619 | 405.1 | 4,762 | 3,014 | 6,371 | 1,078 | 25 | 0 |
| 1 million  | geohash         |      10     | 4788 | 1,472.6 | 1,031 | 2,091 | 350.9 | 4,789 | 2,880 | 6,447 | 1,103 | 50 | 0 |
| 1 million  | geohash         |      20     | 4801 | 1,569.7 | 990 | 2,156 | 291.2 | 4,801 | 2,988 | 6,463 | 1,097 | 100 | 0 |
| 1 million  | geohash         |      30     | 4806 | 2,235.2 | 1,204 | 3,949 | 681.6 | 4,806 | 2,756 | 6,465 | 1,084 | 150 | 0 |
| 1 million  | geohash         |      40     | 4798 | 2,569.6 | 1,341 | 3,543 | 445.4 | 4,798 | 2,887 | 6,452 | 1,086 | 200 | 0 |
| 1 million  | geohash         |      50     | 4789 | 3,179.5 | 1,650 | 9,089 | 988.3 | 4,790 | 2,904 | 6,459 | 1,100 | 250 | 0 |
| ------ |
| 1 million  | square          |      5     | 5752 | 2,037.9 | 1,456 | 2,449 | 310.2 | 5,752 | 3,120 | 7,759 | 1,297 | 25 | 0 |
| 1 million  | square          |      10     | 5689 | 1,938 | 1,266 | 2,978 | 444.1 | 5,689 | 3,197 | 7,779 | 1,371 | 50 | 0 |
| 1 million  | square          |      20     | 5637 | 2,647.2 | 1,732 | 3,553 | 390.5 | 5,637 | 3,103 | 7,817 | 1,406 | 100 | 0 |
| 1 million  | square          |      30     | 5670 | 3,675.6 | 2,299 | 5,969 | 807.3 | 5,670 | 3,131 | 7,820 | 1,394 | 150 | 0 |
| 1 million  | square          |      40     | 5682 | 4,800.6 | 2,551 | 13,418 | 1,642.3 | 5,682 | 3,067 | 7,812 | 1,398 | 200 | 0 |
| 1 million  | square          |      50     | 5699 | 6,064.8 | 2,286 | 13,908 | 2,131 | 5,700 | 3,090 | 7,822 | 1,377 | 250 | 0 |
| ------ |
| 1 million  | pointy triangle |      5     | 8633 | 2,195.9 | 1,687 | 3,039 | 353 | 8,633 | 5,537 | 10,000 | 1,465 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 8537 | 2,303.8 | 1,509 | 3,831 | 524.2 | 8,538 | 5,036 | 10,000 | 1,632 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 8661 | 3,224.8 | 2,081 | 4,976 | 665 | 8,662 | 5,111 | 10,000 | 1,558 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 8651 | 12,930.1 | 1,696 | 54,313 | 10,020.3 | 8,651 | 5,117 | 10,000 | 1,525 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 8683 | 6,281.3 | 2,876 | 13,108 | 2,064.4 | 8,684 | 5,073 | 10,000 | 1,503 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 8631 | 14,757.3 | 3,108 | 43,291 | 10,296.2 | 8,632 | 5,006 | 10,000 | 1,568 | 250 | 0 |
| ----- |
| 1 million  | pointy hexagon  |      5     | 6694 | 2,458.4 | 1,593 | 3,621 | 461.5 | 6,695 | 3,803 | 9,238 | 1,667 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 6773 | 2,545.3 | 1,613 | 3,700 | 652.6 | 6,773 | 3,747 | 9,245 | 1,630 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 6763 | 3,694 | 1,774 | 7,196 | 875.2 | 6,763 | 3,715 | 9,228 | 1,575 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 6722 | 5,348.5 | 1,934 | 12,658 | 1,651.8 | 6,723 | 3,640 | 9,232 | 1,653 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 6723 | 7,130.6 | 2,980 | 16,058 | 2,620.3 | 6,723 | 3,657 | 9,231 | 1,641 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 6739 | 8,938.4 | 4,172 | 18,589 | 3,231.3 | 6,740 | 3,580 | 9,240 | 1,626 | 250 | 0 |
| ----- | ------- |
| 10 millions  | geohash         |      5     | 4779 | 2,940.5 | 1,642 | 10,496 | 2,413.4 | 4,780 | 3,091 | 6,439 | 1,083 | 25 | 0 |
| 10 millions  | geohash         |      10     | 4776 | 1,821 | 1,342 | 2,319 | 217.6 | 4,777 | 2,944 | 6,454 | 1,128 | 50 | 0 |
| 10 millions  | geohash         |      20     | 4790 | 2,108 | 1,352 | 2,919 | 336.4 | 4,790 | 2,976 | 6,455 | 1,113 | 100 | 0 |
| 10 millions  | geohash         |      30     | 4794 | 2,906.6 | 1,878 | 3,877 | 453.3 | 4,794 | 2,815 | 6,459 | 1,098 | 150 | 0 |
| 10 millions  | geohash         |      40     | 4789 | 3,810.7 | 1,932 | 5,620 | 741.5 | 4,789 | 2,900 | 6,450 | 1,095 | 200 | 0 |
| 10 millions  | geohash         |      50     | 4792 | 4,671.9 | 2,047 | 9,164 | 1,154.9 | 4,793 | 2,798 | 6,456 | 1,097 | 250 | 0 |
| ------ |
| 10 millions  | square          |      5     | 5540 | 2,829.2 | 1,943 | 5,245 | 786.3 | 5,541 | 3,117 | 7,793 | 1,504 | 25 | 0 |
| 10 millions  | square          |      10     | 5727 | 2,243.2 | 1,611 | 3,050 | 360.9 | 5,727 | 3,122 | 7,774 | 1,357 | 50 | 0 |
| 10 millions  | square          |      20     | 5653 | 2,782.1 | 1,745 | 4,170 | 572.1 | 5,654 | 3,121 | 7,820 | 1,412 | 100 | 0 |
| 10 millions  | square          |      30     | 5662 | 3,873.2 | 2,097 | 6,253 | 928.1 | 5,663 | 3,088 | 7,818 | 1,421 | 150 | 0 |
| 10 millions  | square          |      40     | 5667 | 5,076.1 | 2,232 | 8,966 | 1,367.4 | 5,667 | 3,136 | 7,815 | 1,427 | 200 | 0 |
| 10 millions  | square          |      50     | 5656 | 6,277 | 1,967 | 15,936 | 2,068.9 | 5,656 | 3,050 | 7,817 | 1,422 | 250 | 0 |
| ------ |
| 10 millions  | pointy triangle |      5     | 8613 | 2,791.1 | 1,866 | 4,096 | 690.1 | 8,613 | 5,155 | 10,000 | 1,741 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 8629 | 2,597.4 | 1,864 | 3,638 | 439.2 | 8,629 | 5,230 | 10,000 | 1,585 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 8598 | 3,386.9 | 1,726 | 4,783 | 763 | 8,599 | 5,105 | 10,000 | 1,594 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 8655 | 4,935.2 | 2,645 | 8,918 | 1,088.1 | 8,655 | 5,016 | 10,000 | 1,498 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 8677 | 6,873.4 | 3,166 | 17,796 | 2,445.7 | 8,678 | 5,113 | 10,000 | 1,500 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 8627 | 8,114.1 | 3,486 | 18,558 | 2,875.5 | 8,628 | 5,103 | 10,000 | 1,533 | 250 | 0 |
| ------ |
| 10 millions  | pointy hexagon  |      5     | 6796 | 3,217.8 | 2,584 | 4,413 | 460.7 | 6,796 | 4,058 | 9,227 | 1,627 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 6727 | 3,703 | 2,551 | 5,002 | 618.9 | 6,727 | 3,720 | 9,197 | 1,606 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 6758 | 6,122.1 | 3,091 | 9,186 | 1,298.5 | 6,758 | 3,770 | 9,228 | 1,644 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 6781 | 8,813 | 3,127 | 12,492 | 1,865.2 | 6,781 | 3,751 | 9,245 | 1,624 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 6723 | 11,455.5 | 4,896 | 33,625 | 3,070.9 | 6,723 | 3,717 | 9,245 | 1,646 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 6713 | 13,791.4 | 3,420 | 26,896 | 4,414.4 | 6,713 | 3,582 | 9,242 | 1,674 | 250 | 0 |


## 4. ES Aggregation performance with MapServer (ExportImage)

### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 78,158 | 561.2 | 268 | 2,074 | 539.2 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash   | 78,158 | 462.9 | 307 | 901 | 171 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash   | 78,158 | 465.1 | 265 | 890 | 185.9 | 78,158 | 52,062 | 98,558 | 16,553 |
| Average    |        |   496.4    |
|  square    | 78,036 | 454.5 | 280 | 1,418 | 345.5 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square    | 78,036 | 429.4 | 264 | 923 | 189 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square    | 78,036 | 473.1 | 334 | 938 | 176.8 | 78,036 | 54,184 | 98,516 | 16,523 |
| Average    |        |  452.3     |
|  pointy triangle | 78,755 | 484.5 | 346 | 929 | 198.4 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 414.4 | 292 | 913 | 179.4 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 465.1 | 326 | 961 | 181.8 | 78,755 | 54,886 | 98,576 | 15,829 |
| Average    |        |  454.7     |
|  pointy hexagon  | 78,306 | 422.5 | 277 | 928 | 187 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 437.5 | 263 | 964 | 202.3 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 432.7 | 257 | 956 | 195.8 | 78,306 | 54,716 | 98,218 | 15,938 |
| Average    |        |  430.9     |

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 2 square`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 781,420 | 695 | 493 | 1,968 | 450.2 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash   | 781,420 | 517.7 | 401 | 908 | 153.2 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash   | 781,420 | 489.7 | 359 | 1,091 | 215.2 | 781,420 | 525,520 | 977,340 | 162,638 |
|  Average |           | 567.5 |
|  square    | 784,216 | 613.1 | 490 | 1,047 | 174.1 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square    | 784,216 | 506.6 | 341 | 1,166 | 239.4 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square    | 784,216 | 543.8 | 384 | 1,030 | 186.5 | 784,216 | 532,000 | 984,180 | 159,896 |
|  Average |           | 893.0 |
|  pointy triangle | 786,362 | 608.4 | 408 | 1,145 | 204.6 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 498.6 | 341 | 1,070 | 204.4 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 508.5 | 321 | 1,033 | 205.3 | 786,362 | 534,840 | 982,800 | 155,520 |
|  Average |                 | 554.5 |
|  pointy hexagon | 778,464 | 621.7 | 432 | 1,069 | 178.5 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon | 778,464 | 488.2 | 344 | 945 | 177.7 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon | 778,464 | 526 | 379 | 942 | 159.2 | 778,464 | 519,580 | 985,420 | 167,926 |
|  Average |                | 545.3 |

Sample command: ` java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 6 pointyHexagon`

### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 7,798,087 | 1,287.6 | 1,088 | 2,009 | 274.1 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash   | 7,798,087 | 906.2 | 716 | 1,206 | 149.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash   | 7,798,087 | 853.8 | 339 | 1,717 | 388.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  Average |             | 1,015.9 |
|  square     | 7,809,003 | 1,239 | 1,051 | 1,470 | 133.9 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square     | 7,809,003 | 751.8 | 403 | 1,264 | 353.6 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square     | 7,809,003 | 584.6 | 358 | 1,072 | 232.3 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  Average |              | 858.5 |
|  pointy triangle | 7,812,145 | 1,230.7 | 1,009 | 1,562 | 185.1 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 752.4 | 337 | 1,228 | 340.7 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 606.5 | 352 | 1,448 | 308.7 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  Average |                   | 863.2 |
|  pointy hexagon  | 7,856,450 | 1,218 | 1,037 | 1,460 | 112.4 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 652.3 | 336 | 1,450 | 360.4 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 574.5 | 341 | 963 | 244 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  Average |                   | 814.9 |

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 4 pointyTriangle`


### Multi-Threads:

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |      5     | 78353 | 1,911.4 | 693 | 4,356 | 1,258.7 | 78,353 | 51,292 | 98,614 | 15,740 | 25 | 0 |
| 100,000  | geohash         |      10     | 78635 | 1,576.9 | 744 | 2,621 | 576.4 | 78,635 | 51,966 | 98,584 | 15,112 | 50 | 0 |
| 100,000  | geohash         |      20     | 78664 | 1,028.5 | 667 | 1,901 | 281.2 | 78,665 | 50,678 | 98,586 | 15,046 | 100 | 0 |
| 100,000  | geohash         |      30     | 78476 | 1,049.5 | 679 | 1,997 | 318.1 | 78,476 | 50,300 | 98,592 | 15,198 | 150 | 0 |
| 100,000  | geohash         |      40     | 78472 | 1,094.1 | 665 | 2,462 | 391.4 | 78,473 | 50,016 | 98,552 | 15,201 | 200 | 0 |
| 100,000  | geohash         |      50     | 78466 | 3,462.8 | 709 | 13,977 | 2,223.7 | 78,466 | 50,532 | 98,560 | 15,160 | 250 | 0 |
| ------- |
| 100,000  | pointy hexagon  |      5     | 78152 | 1,697.8 | 895 | 3,512 | 868.2 | 78,152 | 53,064 | 98,490 | 15,791 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 78634 | 1,017.2 | 640 | 1,543 | 244.7 | 78,634 | 51,750 | 98,492 | 14,987 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 78785 | 1,034.9 | 639 | 1,917 | 295.8 | 78,786 | 51,718 | 98,560 | 14,686 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 78470 | 1,051.5 | 635 | 2,198 | 345.2 | 78,471 | 50,306 | 98,592 | 15,239 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 78423 | 1,134 | 663 | 2,301 | 388.7 | 78,423 | 50,448 | 98,566 | 15,213 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 78566 | 2,897.1 | 967 | 10,149 | 1,763.4 | 78,566 | 50,212 | 98,606 | 15,032 | 250 | 0 |
| ------ |
| 100,000  | square          |      5     | 78543 | 1,044.6 | 689 | 1,451 | 232.4 | 78,543 | 50,050 | 98,498 | 15,560 | 25 | 0 |
| 100,000  | square          |      10     | 78042 | 1,017.1 | 664 | 1,645 | 278.9 | 78,043 | 50,580 | 98,490 | 15,765 | 50 | 0 |
| 100,000  | square          |      20     | 78379 | 1,079 | 673 | 1,883 | 314.9 | 78,380 | 50,288 | 98,510 | 15,280 | 100 | 0 |
| 100,000  | square          |      30     | 78670 | 1,062.4 | 674 | 2,052 | 317.4 | 78,670 | 51,146 | 98,522 | 14,975 | 150 | 0 |
| 100,000  | square          |      40     | 78619 | 1,090.7 | 664 | 2,341 | 382.6 | 78,619 | 50,076 | 98,622 | 14,970 | 200 | 0 |
| 100,000  | square          |      50     | 78369 | 1,980.1 | 868 | 6,843 | 1,341.3 | 78,370 | 50,058 | 98,606 | 15,346 | 250 | 0 |
| ------ |
| 100,000  | pointy triangle |      5     | 78447 | 1,088 | 698 | 1,618 | 214.9 | 78,448 | 50,966 | 98,498 | 15,444 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 78787 | 986.8 | 738 | 1,592 | 238.8 | 78,787 | 51,614 | 98,550 | 14,868 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 78480 | 1,042.1 | 637 | 1,939 | 295.7 | 78,480 | 50,496 | 98,582 | 15,201 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 78476 | 1,023.4 | 638 | 2,099 | 343.9 | 78,477 | 50,886 | 98,594 | 15,001 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 78516 | 1,116.5 | 673 | 2,502 | 408.2 | 78,517 | 50,296 | 98,580 | 15,085 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 78391 | 4,110.2 | 1,046 | 10,380 | 2,170.4 | 78,391 | 50,114 | 98,606 | 15,338 | 250 | 0 |
| ------ | ------ |
| 1 million  | geohash         |      5     | 787327 | 2,050.1 | 948 | 2,797 | 471.7 | 787,327 | 531,780 | 982,700 | 148,633 | 25 | 0 |
| 1 million  | geohash         |      10     | 783848 | 1,258.2 | 980 | 1,884 | 223.4 | 783,849 | 505,960 | 985,120 | 154,081 | 50 | 0 |
| 1 million  | geohash         |      20     | 784349 | 1,240.3 | 873 | 2,027 | 302.4 | 784,349 | 506,660 | 985,880 | 152,565 | 100 | 0 |
| 1 million  | geohash         |      30     | 786528 | 1,271 | 862 | 2,233 | 305.9 | 786,529 | 502,200 | 986,060 | 149,918 | 150 | 0 |
| 1 million  | geohash         |      40     | 784713 | 1,475.4 | 904 | 2,750 | 393.5 | 784,714 | 500,540 | 985,800 | 152,211 | 200 | 0 |
| 1 million  | geohash         |      50     | 783301 | 2,427.6 | 978 | 9,476 | 1,706.3 | 783,301 | 500,900 | 985,540 | 153,256 | 250 | 0 |
| ------ |
| 1 million  | pointy hexagon  |      5     | 784920 | 1,247.1 | 892 | 1,509 | 173.4 | 784,921 | 514,500 | 985,500 | 155,578 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 785432 | 1,168 | 862 | 1,813 | 222.7 | 785,433 | 509,660 | 986,060 | 151,358 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 785155 | 1,177.8 | 816 | 1,905 | 245.3 | 785,155 | 507,000 | 985,780 | 151,317 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 784488 | 1,368.5 | 863 | 2,225 | 328.2 | 784,489 | 512,480 | 986,140 | 152,459 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 785256 | 1,491.1 | 807 | 2,920 | 430.5 | 785,257 | 503,400 | 985,740 | 150,277 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 784955 | 1,674.6 | 984 | 3,087 | 433.5 | 784,955 | 502,320 | 985,720 | 151,576 | 250 | 0 |
| ------ |
| 1 million  | square          |      5     | 788332 | 2,275.8 | 1,376 | 3,671 | 807.8 | 788,333 | 507,860 | 983,880 | 148,315 | 25 | 0 |
| 1 million  | square          |      10     | 786372 | 1,180 | 787 | 1,659 | 221.6 | 786,372 | 522,340 | 985,120 | 149,614 | 50 | 0 |
| 1 million  | square          |      20     | 782078 | 1,199.7 | 857 | 1,828 | 258.6 | 782,078 | 504,920 | 985,600 | 154,316 | 100 | 0 |
| 1 million  | square          |      30     | 785687 | 1,275.7 | 884 | 2,325 | 344.6 | 785,687 | 502,700 | 985,820 | 150,902 | 150 | 0 |
| 1 million  | square          |      40     | 784927 | 1,445.6 | 861 | 2,758 | 394.2 | 784,927 | 500,820 | 985,500 | 151,754 | 200 | 0 |
| 1 million  | square          |      50     | 786074 | 3,942.7 | 1,122 | 13,492 | 2,051.5 | 786,074 | 500,060 | 985,980 | 149,761 | 250 | 0 |
| ------ |
| 1 million  | pointy triangle |      5     | 787129 | 1,597.9 | 1,037 | 2,405 | 327.7 | 787,130 | 544,760 | 986,140 | 149,310 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 783600 | 1,170.5 | 815 | 1,619 | 214.2 | 783,600 | 502,560 | 985,060 | 154,281 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 785808 | 1,233.8 | 891 | 1,922 | 284.6 | 785,808 | 509,800 | 985,460 | 150,969 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 784981 | 2,814.2 | 1,186 | 7,314 | 1,225 | 784,981 | 500,420 | 985,620 | 151,312 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 784980 | 1,501.7 | 952 | 2,910 | 406.4 | 784,981 | 506,120 | 986,080 | 151,725 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 783898 | 2,385.1 | 968 | 7,819 | 1,607.7 | 783,899 | 502,060 | 985,560 | 152,561 | 250 | 0 |
| ---- | ------ |
| 10 millions  | geohash         |      5     | 7880231 | 2,944 | 1,687 | 4,972 | 938.6 | 7,880,231 | 5,507,000 | 9,861,060 | 1,487,360 | 25 | 0 |
| 10 millions  | geohash         |      10     | 7869753 | 2,502.5 | 1,670 | 3,411 | 365.5 | 7,869,754 | 5,295,540 | 9,869,230 | 1,506,795 | 50 | 0 |
| 10 millions  | geohash         |      20     | 7857937 | 4,593.8 | 2,963 | 7,254 | 849.6 | 7,857,938 | 5,093,060 | 9,876,250 | 1,526,739 | 100 | 0 |
| 10 millions  | geohash         |      30     | 7852079 | 6,626.1 | 2,932 | 14,727 | 1,467 | 7,852,079 | 5,047,720 | 9,870,230 | 1,520,248 | 150 | 0 |
| 10 millions  | geohash         |      40     | 7832555 | 8,632.2 | 2,774 | 17,141 | 2,579.8 | 7,832,555 | 5,021,580 | 9,875,250 | 1,539,881 | 200 | 0 |
| 10 millions  | geohash         |      50     | 7840104 | 10,837.4 | 3,098 | 29,347 | 5,928 | 7,840,104 | 5,038,960 | 9,874,830 | 1,537,670 | 250 | 0 |
| ------- |
| 10 millions  | pointy hexagon  |      5     | 7890944 | 2,008.2 | 1,640 | 2,656 | 305.1 | 7,890,944 | 5,384,610 | 9,868,650 | 1,492,154 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 7854626 | 2,878 | 1,791 | 4,645 | 692.4 | 7,854,627 | 5,005,740 | 9,864,830 | 1,530,594 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 7864260 | 4,520 | 2,596 | 5,798 | 747.8 | 7,864,260 | 5,296,300 | 9,877,450 | 1,504,252 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 7858584 | 6,562.6 | 2,737 | 8,990 | 1,300.8 | 7,858,584 | 5,113,540 | 9,873,040 | 1,506,946 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 7852690 | 8,603.7 | 2,612 | 18,261 | 2,978.7 | 7,852,690 | 5,055,430 | 9,877,250 | 1,513,736 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 7849733 | 10,823.2 | 2,936 | 19,796 | 3,216.4 | 7,849,734 | 5,010,290 | 9,873,260 | 1,526,137 | 250 | 0 |
| ------- |
| 10 millions  | square          |      5     | 7805555 | 2,134.2 | 1,797 | 2,624 | 219.7 | 7,805,555 | 5,138,350 | 9,860,630 | 1,600,275 | 25 | 0 |
| 10 millions  | square          |      10     | 7817883 | 2,530 | 1,547 | 3,130 | 371.6 | 7,817,884 | 5,005,720 | 9,856,400 | 1,570,261 | 50 | 0 |
| 10 millions  | square          |      20     | 7838387 | 4,427.2 | 2,267 | 5,959 | 709.1 | 7,838,387 | 5,036,060 | 9,874,860 | 1,537,731 | 100 | 0 |
| 10 millions  | square          |      30     | 7846099 | 6,744.1 | 2,679 | 10,550 | 1,496.6 | 7,846,099 | 5,038,180 | 9,874,650 | 1,534,249 | 150 | 0 |
| 10 millions  | square          |      40     | 7855973 | 8,676.6 | 2,273 | 20,077 | 3,280.6 | 7,855,974 | 5,086,710 | 9,877,050 | 1,510,752 | 200 | 0 |
| 10 millions  | square          |      50     | 7841870 | 10,827.5 | 3,508 | 24,172 | 4,186.2 | 7,841,871 | 5,000,270 | 9,874,630 | 1,532,771 | 250 | 0 |
| ------ |
| 10 millions  | pointy triangle |      5     | 7803605 | 2,036.2 | 1,527 | 2,618 | 311.7 | 7,803,606 | 5,073,930 | 9,865,050 | 1,615,696 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 7852677 | 2,539.8 | 1,610 | 3,403 | 442.4 | 7,852,677 | 5,138,870 | 9,871,650 | 1,544,173 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 7837179 | 4,592.3 | 2,739 | 6,859 | 789.7 | 7,837,180 | 5,064,970 | 9,872,040 | 1,539,946 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 7857756 | 6,632.4 | 2,933 | 10,851 | 1,292.1 | 7,857,756 | 5,033,960 | 9,872,240 | 1,515,985 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 7850945 | 8,715.6 | 2,911 | 24,239 | 3,413.2 | 7,850,946 | 5,021,460 | 9,873,280 | 1,511,228 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 7836840 | 10,810.8 | 3,673 | 29,098 | 5,381.1 | 7,836,841 | 5,029,990 | 9,875,460 | 1,532,940 | 250 | 0 |



