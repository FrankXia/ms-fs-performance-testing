
#### 12-09-2021

# OpenSearch (write)/OpenSearch (Read) case 

## 1. OS Datastore: 100k, 1 million, 10 million dataset, single thread, querying features with 20 consecutive requests. 
   The stats are generated in the same testing program. Tested 3 times, starting with 100k, and then 1m and 10m, 
   repeat 3 times for each returning feature groups (1k, 5k, 10k).

| Dataset Size | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ------------ | --------------| ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ |
| 100,000      | 1,287 | 651.3 | 459 | 1,588 | 253.8 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 1,287 | 564.8 | 409 | 1,154 | 146.8 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 1,287 | 544.1 | 427 | 1,092 | 144.4 | 1,287 | 1,022 | 1,500 | 171 |
|  Average     |       | 586.7 | 
| 100,000      | 5,291 | 1,243.2 | 926 | 3,256 | 492.3 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 5,291 | 1,218 | 829 | 2,489 | 410.4 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 5,291 | 1,425.1 | 1,077 | 3,335 | 506.3 | 5,291 | 5,022 | 5,500 | 168 |
|  Average     |       | 1,295.4 | 
| 100,000      | 9,955 | 1,562.6 | 1,097 | 2,689 | 427.4 | 9,955 | 9,904 | 10,000 | 27 |
| 100,000      | 9,955 | 1,584 | 1,270 | 2,908 | 402.8 | 9,955 | 9,904 | 10,000 | 27 |
| 100,000      | 9,955 | 1,771 | 1,339 | 2,895 | 344.1 | 9,955 | 9,904 | 10,000 | 27 |
|  Average     |       | 1,639.2 | 
| ------------ |
| 1 million    | 1,272 | 634.2 | 336 | 2,306 | 402.4 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 1,272 | 589.7 | 434 | 1,203 | 157.7 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 1,272 | 575.1 | 336 | 2,011 | 344.7 | 1,272 | 1,000 | 1,500 | 182 |
|  Average     |       | 599.7 | 
| 1 million    | 5,270 | 1,160.8 | 749 | 1,975 | 289.2 | 5,270 | 5,060 | 5,480 | 141 |
| 1 million    | 5,270 | 1,129.2 | 961 | 1,883 | 187.9 | 5,270 | 5,060 | 5,480 | 141 |
| 1 million    | 5,270 | 1,145.8 | 978 | 1,729 | 149.6 | 5,270 | 5,060 | 5,480 | 141 |
|  Average     |       | 1,145.3 | 
| 1 million    | 9,756 | 1,520.1 | 1,113 | 2,242 | 234.1 | 9,756 | 9,520 | 10,000 | 160 |
| 1 million    | 9,756 | 1,697.8 | 1,352 | 3,006 | 340.3 | 9,756 | 9,520 | 10,000 | 160 |
| 1 million    | 9,756 | 1,880.7 | 1,208 | 3,595 | 529.2 | 9,756 | 9,520 | 10,000 | 160 |
|  Average     |       | 1,699.5 | 
| ------------ | 
| 10 millions  | 1,171 | 673.8 | 497 | 2,106 | 346.5 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions  | 1,171 | 651.5 | 410 | 1,861 | 296.3 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions  | 1,171 | 543.5 | 401 | 1,315 | 191.5 | 1,171 | 1,000 | 1,410 | 163 |
|  Average     |       | 622.9 | 
| 10 millions  | 5,199 | 1,353 | 983 | 2,155 | 264.1 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions  | 5,199 | 1,150.1 | 902 | 1,924 | 213.4 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions  | 5,199 | 1,342.2 | 1,157 | 1,917 | 167.6 | 5,199 | 5,000 | 5,420 | 170 |
|  Average     |       | 1,281.8 | 
| 10 millions  | 9,733 | 1,766.8 | 1,450 | 2,704 | 265.3 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 2,517.6 | 1,253 | 6,123 | 1,020.8 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 1,661.3 | 1,478 | 2,557 | 225.2 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 1,879.5 | 1,299 | 3,754 | 509 | 9,733 | 9,600 | 10,000 | 119 |
|  Average     |       | 1,956.3 | 

Sample testing command: 
`java -cp ./target/ms-fs-performance-test-1.0.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch01/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services/ planes_1_million_bat_fl ./1m_extents_10k_features.txt 20 120 0`


## 2. OS Datastore: 100k, 1 million, 10 million dataset, multi-threads, querying features with average 20 requests for each thread. 
   The stats are generated in a separate program. 

| Dataset Size |  # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | --------------| ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  |      5     | 1254 | 1,275.8 | 940 | 3,180 | 321.8 | 1,254 | 1,000 | 1,500 | 150 | 100 | 0 |
| 100,000  |      10     | 1302 | 1,203.3 | 1,016 | 1,680 | 120.5 | 1,303 | 1,006 | 1,500 | 152 | 200 | 0 |
| 100,000  |      20     | 1268 | 1,212 | 1,002 | 1,879 | 138.8 | 1,268 | 1,000 | 1,500 | 153 | 400 | 0 |
| 100,000  |      30     | 1265 | 1,259.6 | 1,014 | 2,207 | 177.5 | 1,266 | 1,002 | 1,500 | 159 | 600 | 0 |
| 100,000  |      40     | 1269 | 1,340.2 | 1,031 | 2,588 | 217.2 | 1,269 | 1,000 | 1,500 | 154 | 800 | 0 |
| 100,000  |      50     | 1269 | 1,628.7 | 1,182 | 2,968 | 231.7 | 1,269 | 1,000 | 1,500 | 155 | 1000 | 0 |
| -------- |
| 100,000  |      5     | 5279 | 2,399.8 | 1,872 | 3,328 | 341.5 | 5,279 | 5,002 | 5,500 | 158 | 100 | 0 |
| 100,000  |      10     | 5282 | 2,343.3 | 1,697 | 3,662 | 336.8 | 5,283 | 5,002 | 5,500 | 151 | 200 | 0 |
| 100,000  |      20     | 5293 | 3,544.7 | 1,919 | 17,284 | 2,070.8 | 5,293 | 5,002 | 5,500 | 149 | 400 | 0 |
| 100,000  |      30     | 5281 | 4,550.6 | 2,409 | 15,742 | 1,936.1 | 5,282 | 5,000 | 5,500 | 152 | 600 | 0 |
| 100,000  |      40     | 5280 | 5,289.6 | 2,791 | 13,600 | 1,297.7 | 5,281 | 5,000 | 5,500 | 154 | 800 | 0 |
| 100,000  |      50     | 5278 | 6,634.6 | 2,968 | 14,524 | 2,032.8 | 5,278 | 5,000 | 5,500 | 155 | 1000 | 0 |
| -------- |
| 100,000  |      5     | 9954 | 3,074.2 | 2,280 | 5,467 | 679.9 | 9,954 | 9,900 | 10,000 | 30 | 100 | 0 |
| 100,000  |      10     | 9955 | 3,386.9 | 2,328 | 6,179 | 753.1 | 9,955 | 9,900 | 10,000 | 31 | 200 | 0 |
| 100,000  |      20     | 9954 | 5,041.9 | 3,085 | 8,742 | 1,045.2 | 9,955 | 9,900 | 10,000 | 31 | 400 | 0 |
| 100,000  |      30     | 9954 | 7,504.5 | 3,730 | 17,156 | 1,947.2 | 9,954 | 9,900 | 10,000 | 31 | 600 | 0 |
| 100,000  |      40     | 9954 | 10,783.7 | 4,434 | 24,627 | 3,723.1 | 9,955 | 9,900 | 10,000 | 32 | 800 | 0 |
| 100,000  |      50     | 9956 | 13,850.9 | 4,852 | 37,737 | 5,175.9 | 9,957 | 9,900 | 10,000 | 31 | 1000 | 0 |
| -------- |  -------- |  -------- |  -------- |
| 1 million  |      5     | 1268 | 1,493.3 | 1,196 | 2,635 | 267.7 | 1,268 | 1,000 | 1,500 | 165 | 100 | 0 |
| 1 million  |      10     | 1239 | 1,661.2 | 1,172 | 4,298 | 406.7 | 1,240 | 1,000 | 1,500 | 171 | 200 | 0 |
| 1 million  |      20     | 1250 | 1,599.5 | 1,230 | 2,315 | 176 | 1,251 | 1,000 | 1,500 | 173 | 400 | 0 |
| 1 million  |      30     | 1244 | 1,626.2 | 1,277 | 2,543 | 185.2 | 1,244 | 1,000 | 1,500 | 170 | 600 | 0 |
| 1 million  |      40     | 1244 | 1,668.7 | 1,269 | 2,732 | 205.8 | 1,244 | 1,000 | 1,500 | 172 | 800 | 0 |
| 1 million  |      50     | 1243 | 2,280.1 | 1,327 | 8,186 | 1,016.1 | 1,243 | 1,000 | 1,500 | 167 | 1000 | 0 |
| -------- |
| 1 million  |      5     | 5305 | 2,362.8 | 2,038 | 4,110 | 404.8 | 5,306 | 5,000 | 5,500 | 159 | 100 | 0 |
| 1 million  |      10     | 5301 | 2,339.4 | 1,958 | 3,364 | 246.2 | 5,302 | 5,000 | 5,500 | 148 | 200 | 0 |
| 1 million  |      20     | 5281 | 2,711.9 | 2,092 | 4,571 | 367 | 5,282 | 5,000 | 5,500 | 161 | 400 | 0 |
| 1 million  |      30     | 5278 | 4,009.8 | 2,782 | 8,666 | 659.2 | 5,279 | 5,000 | 5,500 | 156 | 600 | 0 |
| 1 million  |      40     | 5286 | 5,331.5 | 3,160 | 14,951 | 1,337.5 | 5,286 | 5,000 | 5,500 | 157 | 800 | 0 |
| 1 million  |      50     | 5284 | 7,072.9 | 3,133 | 20,419 | 2,577.6 | 5,285 | 5,000 | 5,500 | 158 | 1000 | 0 |
| -------- |
| 1 million  |      5     | 9950 | 3,127.3 | 2,433 | 5,546 | 630.6 | 9,951 | 9,900 | 10,000 | 34 | 100 | 0 |
| 1 million  |      10     | 9792 | 3,209.8 | 2,224 | 5,823 | 602.9 | 9,792 | 9,500 | 10,000 | 160 | 200 | 0 |
| 1 million  |      20     | 9809 | 5,658.6 | 3,068 | 21,080 | 2,800 | 9,810 | 9,500 | 10,000 | 149 | 400 | 0 |
| 1 million  |      30     | 9799 | 7,454.2 | 3,608 | 15,618 | 2,230 | 9,800 | 9,500 | 10,000 | 156 | 600 | 0 |
| 1 million  |      40     | 9798 | 9,886.7 | 3,362 | 20,375 | 3,116.3 | 9,798 | 9,500 | 10,000 | 156 | 800 | 0 |
| 1 million  |      50     | 9798 | 12,366.4 | 4,095 | 34,330 | 4,295.5 | 9,799 | 9,500 | 10,000 | 156 | 1000 | 0 |
| ------- |  -------- |  -------- |  -------- |
| 10 millions  |      5     | 1226 | 1,418.6 | 1,103 | 3,293 | 355 | 1,226 | 1,000 | 1,400 | 160 | 100 | 0 |
| 10 millions  |      10     | 1205 | 1,464.9 | 1,089 | 3,866 | 370 | 1,205 | 1,000 | 1,400 | 165 | 200 | 0 |
| 10 millions  |      20     | 1206 | 2,051.2 | 1,200 | 5,792 | 679.6 | 1,206 | 1,000 | 1,400 | 167 | 400 | 0 |
| 10 millions  |      30     | 1221 | 1,787.6 | 1,404 | 3,131 | 241.5 | 1,221 | 1,000 | 1,400 | 166 | 600 | 0 |
| 10 millions  |      40     | 1213 | 2,290.7 | 1,339 | 6,749 | 857 | 1,214 | 1,000 | 1,400 | 159 | 800 | 0 |
| 10 millions  |      50     | 1209 | 2,542.9 | 1,495 | 9,286 | 967.6 | 1,209 | 1,000 | 1,400 | 167 | 1000 | 0 |
| -------- |
| 10 millions  |      5     | 5228 | 2,500.5 | 2,072 | 4,655 | 505.1 | 5,228 | 5,000 | 5,400 | 168 | 100 | 0 |
| 10 millions  |      10     | 5216 | 3,134 | 1,971 | 12,476 | 1,549.1 | 5,216 | 5,000 | 5,400 | 158 | 200 | 0 |
| 10 millions  |      20     | 5209 | 2,762.3 | 2,154 | 4,781 | 354.4 | 5,210 | 5,000 | 5,400 | 162 | 400 | 0 |
| 10 millions  |      30     | 5225 | 5,189 | 2,315 | 20,398 | 2,971.1 | 5,225 | 5,000 | 5,400 | 159 | 600 | 0 |
| 10 millions  |      40     | 5223 | 6,681.7 | 2,788 | 23,241 | 3,418.9 | 5,224 | 5,000 | 5,400 | 162 | 800 | 0 |
| 10 millions  |      50     | 5219 | 7,628.2 | 2,604 | 27,308 | 3,452.7 | 5,219 | 5,000 | 5,400 | 161 | 1000 | 0 |
| -------- |
| 10 millions  |      5     | 9726 | 3,096.9 | 2,240 | 5,408 | 679.8 | 9,726 | 9,600 | 10,000 | 123 | 100 | 0 |
| 10 millions  |      10     | 9736 | 3,402.6 | 2,575 | 5,794 | 554.6 | 9,736 | 9,600 | 10,000 | 122 | 200 | 0 |
| 10 millions  |      20     | 9730 | 5,443.2 | 3,172 | 19,604 | 2,404.6 | 9,730 | 9,600 | 10,000 | 123 | 400 | 0 |
| 10 millions  |      30     | 9728 | 7,903.9 | 3,619 | 24,887 | 3,067.7 | 9,729 | 9,600 | 10,000 | 120 | 600 | 0 |
| 10 millions  |      40     | 9730 | 9,822 | 4,157 | 22,440 | 3,113.8 | 9,731 | 9,600 | 10,000 | 120 | 800 | 0 |
| 10 millions  |      50     | 9729 | 13,061.8 | 4,430 | 28,823 | 4,593.5 | 9,729 | 9,600 | 10,000 | 117 | 1000 | 0 |

Sample commands:
`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 50 1000 ./test_outputs/query/planes_10m_fl_querying_5k_50thread_1000req.txt ./random_extents/10m_extents_5k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 50 1000 ./test_outputs/query/planes_1m_fl_querying_10k_50thread_1000req.txt ./random_extents/1m_extents_10k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 50 1000 ./test_outputs/query/planes_100k_fl_querying_10k_50thread_1000req.txt ./random_extents/100k_extents_10k_features.txt 2100`


## 3. OS Aggregation performance with FeatureServer

### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 78,158 | 1,170.3 | 896 | 2,557 | 496.3 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash | 78,158 | 840.1 | 640 | 1,079 | 155.1 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash | 78,158 | 634.8 | 403 | 1,028 | 178.6 | 78,158 | 52,062 | 98,558 | 16,553 |
|  Average |        |       | 
|  square  | 78,036 | 1,500.1 | 1,025 | 3,285 | 641.3 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square  | 78,036 | 1,098.4 | 930 | 1,602 | 203.3 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square  | 78,036 | 1,103.4 | 941 | 1,490 | 168.2 | 78,036 | 54,184 | 98,516 | 16,523 |
|  Average |        |       | 
|  pointy triangle | 78,755 | 1,452.7 | 1,002 | 2,271 | 367.4 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 1,591.6 | 1,202 | 2,860 | 549.1 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 1,324.8 | 1,070 | 2,065 | 283.8 | 78,755 | 54,886 | 98,576 | 15,829 |
|  Average |        |       | 
|  pointy hexagon  | 78,306 | 1,428.9 | 940 | 1,724 | 279.5 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 1,615.2 | 1,029 | 2,883 | 479.9 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 1,162.2 | 801 | 1,663 | 294.2 | 78,306 | 54,716 | 98,218 | 15,938 |
|  Average |        |       | 

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 6 pointyHexagon`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 781,420 | 1,043.8 | 691 | 2,158 | 421.4 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash | 781,420 | 752 | 550 | 1,071 | 156.8 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash | 781,420 | 769.8 | 604 | 1,249 | 196.6 | 781,420 | 525,520 | 977,340 | 162,638 |
|  Average |        |       | 
|  square  | 784,216 | 984.6 | 735 | 1,365 | 227 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square  | 784,216 | 1,022.1 | 797 | 1,360 | 160 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square  | 784,216 | 1,251.8 | 859 | 1,530 | 195.2 | 784,216 | 532,000 | 984,180 | 159,896 |
|  Average |        |       | 
|  pointy triangle | 786,362 | 1,361.9 | 1,139 | 2,125 | 297 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 1,609.5 | 1,221 | 2,431 | 337.5 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 1,641.8 | 1,245 | 3,053 | 525.7 | 786,362 | 534,840 | 982,800 | 155,520 |
|  Average |        |       | 
|  pointy hexagon  | 778,464 | 1,338.8 | 896 | 1,722 | 260.5 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon  | 778,464 | 1,387.4 | 871 | 2,190 | 432.6 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon  | 778,464 | 1,328 | 1,043 | 1,678 | 219.3 | 778,464 | 519,580 | 985,420 | 167,926 |
|  Average |        |       | 

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 4 pointyTriangle`

### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 7,798,087 | 1,126.5 | 743 | 2,971 | 658.7 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash | 7,798,087 | 831.7 | 574 | 1,788 | 351.9 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash | 7,798,087 | 850.1 | 535 | 1,333 | 222.7 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  Average |        |       | 
|  square  | 7,809,003 | 1,316 | 1,095 | 1,535 | 168.3 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square  | 7,809,003 | 1,061.1 | 772 | 1,441 | 224.8 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square  | 7,809,003 | 899.1 | 601 | 1,257 | 181.3 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  Average |        |       | 
|  pointy triangle | 7,812,145 | 1,611.1 | 1,419 | 2,320 | 267.3 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 1,560 | 1,323 | 2,388 | 313.7 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 1,594.1 | 1,215 | 2,766 | 442.3 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  Average |        |       | 
|  pointy hexagon  | 7,856,450 | 2,065.4 | 1,738 | 2,543 | 279.7 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 1,638.3 | 1,344 | 1,922 | 186 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 2,322.9 | 1,715 | 3,006 | 479.7 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  Average |        |       | 

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 0 square`


### Multi-Threads:

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |      5     | 4795 | 1,557.8 | 1,061 | 2,605 | 502 | 4,795 | 3,107 | 6,452 | 1,114 | 25 | 0 |
| 100,000  | geohash         |      10     | 4785 | 1,302.3 | 991 | 2,078 | 215.7 | 4,786 | 2,994 | 6,445 | 1,109 | 50 | 0 |
| 100,000  | geohash         |      20     | 4797 | 3,335.9 | 1,169 | 9,481 | 2,085.4 | 4,797 | 2,955 | 6,458 | 1,091 | 100 | 0 |
| 100,000  | geohash         |      30     | 4799 | 4,805.7 | 1,028 | 12,438 | 3,146.7 | 4,800 | 2,891 | 6,455 | 1,107 | 150 | 0 |
| 100,000  | geohash         |      40     | 4807 | 5,760.5 | 1,297 | 13,809 | 2,826.6 | 4,808 | 2,885 | 6,456 | 1,101 | 200 | 0 |
| 100,000  | geohash         |      50     | 4791 | 3,200.7 | 1,471 | 7,452 | 826.2 | 4,791 | 2,932 | 6,461 | 1,104 | 250 | 0 |
| --------- |
| 100,000  | square          |      5     | 5681 | 2,017.7 | 1,519 | 2,737 | 332.8 | 5,682 | 3,035 | 7,810 | 1,405 | 25 | 0 |
| 100,000  | square          |      10     | 5639 | 3,757.4 | 1,198 | 14,705 | 3,280.5 | 5,639 | 3,110 | 7,778 | 1,390 | 50 | 0 |
| 100,000  | square          |      20     | 5677 | 4,531.2 | 1,588 | 11,926 | 2,308.4 | 5,678 | 3,096 | 7,801 | 1,382 | 100 | 0 |
| 100,000  | square          |      30     | 5694 | 4,105.6 | 2,289 | 6,673 | 996.5 | 5,695 | 3,332 | 7,800 | 1,367 | 150 | 0 |
| 100,000  | square          |      40     | 5655 | 5,378.5 | 2,725 | 15,205 | 2,538.5 | 5,656 | 3,095 | 7,818 | 1,391 | 200 | 0 |
| 100,000  | square          |      50     | 5662 | 5,958.7 | 2,831 | 15,169 | 2,101.4 | 5,663 | 3,176 | 7,812 | 1,425 | 250 | 0 |
| --------- |
| 100,000  | pointy triangle |      5     | 8677 | 1,916.5 | 1,579 | 2,909 | 327.1 | 8,677 | 5,061 | 10,000 | 1,499 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 8768 | 4,767.4 | 1,740 | 15,619 | 3,590.3 | 8,768 | 5,301 | 10,000 | 1,466 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 8636 | 6,115.6 | 2,290 | 19,743 | 4,182.6 | 8,637 | 5,020 | 10,000 | 1,558 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 8620 | 6,367.2 | 1,962 | 18,799 | 3,948.1 | 8,621 | 5,170 | 10,000 | 1,535 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 8668 | 9,675.6 | 3,292 | 21,064 | 4,083.1 | 8,668 | 5,119 | 10,000 | 1,497 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 8657 | 8,993.8 | 2,290 | 22,965 | 4,338.3 | 8,657 | 5,042 | 10,000 | 1,516 | 250 | 0 |
| --------- |
| 100,000  | pointy hexagon  |      5     | 6626 | 1,866.8 | 1,521 | 2,861 | 269.8 | 6,627 | 3,886 | 9,186 | 1,732 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 6787 | 2,496.9 | 1,697 | 6,019 | 800.5 | 6,788 | 3,745 | 9,190 | 1,594 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 6808 | 3,734.7 | 2,440 | 5,229 | 752.6 | 6,808 | 3,740 | 9,219 | 1,548 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 6744 | 5,444.7 | 2,559 | 17,344 | 2,050.7 | 6,744 | 3,671 | 9,247 | 1,669 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 6698 | 9,444.5 | 2,852 | 22,413 | 4,597.8 | 6,698 | 3,654 | 9,232 | 1,634 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 6762 | 11,853.8 | 2,561 | 28,064 | 5,969.9 | 6,762 | 3,678 | 9,245 | 1,633 | 250 | 0 |
| -------- | --------| ----- | ------ | ------| ----- | ----- | ------ | ---- | ----- |
| 1 million  | geohash         |      5     | 4762 | 2,218.6 | 1,380 | 3,570 | 685.5 | 4,762 | 3,014 | 6,371 | 1,078 | 25 | 0 |
| 1 million  | geohash         |      10     | 4788 | 2,554.9 | 1,057 | 7,107 | 1,780.8 | 4,789 | 2,880 | 6,447 | 1,103 | 50 | 0 |
| 1 million  | geohash         |      20     | 4801 | 2,420.8 | 1,005 | 6,993 | 1,441.8 | 4,801 | 2,988 | 6,463 | 1,097 | 100 | 0 |
| 1 million  | geohash         |      30     | 4806 | 2,423.1 | 1,524 | 3,566 | 568.4 | 4,806 | 2,756 | 6,465 | 1,084 | 150 | 0 |
| 1 million  | geohash         |      40     | 4798 | 2,559.8 | 1,255 | 3,734 | 442.3 | 4,798 | 2,887 | 6,452 | 1,086 | 200 | 0 |
| 1 million  | geohash         |      50     | 4789 | 5,902.8 | 1,811 | 14,471 | 2,562.2 | 4,790 | 2,904 | 6,459 | 1,100 | 250 | 0 |
| ------- |
| 1 million  | square          |      5     | 5752 | 3,160.7 | 1,748 | 6,385 | 1,071.2 | 5,752 | 3,120 | 7,759 | 1,297 | 25 | 0 |
| 1 million  | square          |      10     | 5689 | 5,531.4 | 1,415 | 12,101 | 2,901 | 5,689 | 3,197 | 7,779 | 1,371 | 50 | 0 |
| 1 million  | square          |      20     | 5637 | 2,602.5 | 1,645 | 4,071 | 488 | 5,637 | 3,103 | 7,817 | 1,406 | 100 | 0 |
| 1 million  | square          |      30     | 5670 | 3,672.1 | 1,825 | 7,459 | 992.5 | 5,670 | 3,131 | 7,820 | 1,394 | 150 | 0 |
| 1 million  | square          |      40     | 5682 | 4,822.9 | 2,490 | 10,432 | 1,483.1 | 5,682 | 3,067 | 7,812 | 1,398 | 200 | 0 |
| 1 million  | square          |      50     | 5699 | 6,078.7 | 3,208 | 12,848 | 1,772.2 | 5,700 | 3,090 | 7,822 | 1,377 | 250 | 0 |
| ------- |
| 1 million  | pointy triangle |      5     | 8633 | 4,256.4 | 2,445 | 8,086 | 1,383.4 | 8,633 | 5,537 | 10,000 | 1,465 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 8537 | 2,652.1 | 1,814 | 3,989 | 652.1 | 8,538 | 5,036 | 10,000 | 1,632 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 8661 | 5,982.9 | 1,879 | 18,994 | 4,519.6 | 8,662 | 5,111 | 10,000 | 1,558 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 8651 | 10,985.7 | 2,398 | 25,733 | 5,823.4 | 8,651 | 5,117 | 10,000 | 1,525 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 8683 | 6,354.1 | 2,265 | 14,923 | 2,060.5 | 8,684 | 5,073 | 10,000 | 1,503 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 8631 | 10,267.6 | 2,320 | 23,119 | 4,278.6 | 8,632 | 5,006 | 10,000 | 1,568 | 250 | 0 |
| ------- |
| 1 million  | pointy hexagon  |      5     | 6694 | 3,336 | 1,995 | 7,591 | 1,320.2 | 6,695 | 3,803 | 9,238 | 1,667 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 6773 | 3,481.7 | 2,099 | 10,520 | 2,186.6 | 6,773 | 3,747 | 9,245 | 1,630 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 6763 | 4,873.1 | 2,735 | 11,545 | 1,636 | 6,763 | 3,715 | 9,228 | 1,575 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 6722 | 5,494.1 | 3,031 | 11,057 | 1,665.2 | 6,723 | 3,640 | 9,232 | 1,653 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 6723 | 9,356.5 | 1,693 | 20,938 | 4,565.6 | 6,723 | 3,657 | 9,231 | 1,641 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 6739 | 13,224.3 | 3,159 | 30,410 | 5,403.5 | 6,740 | 3,580 | 9,240 | 1,626 | 250 | 0 |
| ------- | ------| ------ | ------- | ------| ----- | ----- | ------ | ----- | ---- |
| 10 millions  | geohash         |      5     | 4779 | 2,052.3 | 1,555 | 2,682 | 332.8 | 4,780 | 3,091 | 6,439 | 1,083 | 25 | 0 |
| 10 millions  | geohash         |      10     | 4776 | 1,684.9 | 1,281 | 2,291 | 286.1 | 4,777 | 2,944 | 6,454 | 1,128 | 50 | 0 |
| 10 millions  | geohash         |      20     | 4790 | 4,115.2 | 1,247 | 10,259 | 2,518.4 | 4,790 | 2,976 | 6,455 | 1,113 | 100 | 0 |
| 10 millions  | geohash         |      30     | 4794 | 3,143.8 | 1,737 | 4,210 | 503.8 | 4,794 | 2,815 | 6,459 | 1,098 | 150 | 0 |
| 10 millions  | geohash         |      40     | 4789 | 5,573.6 | 1,399 | 13,028 | 2,743.1 | 4,789 | 2,900 | 6,450 | 1,095 | 200 | 0 |
| 10 millions  | geohash         |      50     | 4792 | 5,105.8 | 2,545 | 8,625 | 1,175 | 4,793 | 2,798 | 6,456 | 1,097 | 250 | 0 |
| ------- |
| 10 millions  | square          |      5     | 5540 | 2,402.5 | 1,869 | 2,954 | 274.9 | 5,541 | 3,117 | 7,793 | 1,504 | 25 | 0 |
| 10 millions  | square          |      10     | 5727 | 2,414.9 | 1,582 | 3,427 | 543.9 | 5,727 | 3,122 | 7,774 | 1,357 | 50 | 0 |
| 10 millions  | square          |      20     | 5653 | 3,957 | 2,235 | 8,530 | 1,610.7 | 5,654 | 3,121 | 7,820 | 1,412 | 100 | 0 |
| 10 millions  | square          |      30     | 5662 | 7,557.9 | 2,436 | 17,316 | 4,699.5 | 5,663 | 3,088 | 7,818 | 1,421 | 150 | 0 |
| 10 millions  | square          |      40     | 5667 | 6,916.7 | 3,057 | 18,075 | 3,477.7 | 5,667 | 3,136 | 7,815 | 1,427 | 200 | 0 |
| 10 millions  | square          |      50     | 5656 | 6,216.4 | 2,582 | 12,196 | 1,728.8 | 5,656 | 3,050 | 7,817 | 1,422 | 250 | 0 |
| -------- |
| 10 millions  | pointy triangle |      5     | 8613 | 2,298.6 | 1,848 | 2,970 | 318.3 | 8,613 | 5,155 | 10,000 | 1,741 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 8629 | 2,542.3 | 1,713 | 3,705 | 547.5 | 8,629 | 5,230 | 10,000 | 1,585 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 8598 | 4,256 | 2,286 | 13,257 | 2,240.3 | 8,599 | 5,105 | 10,000 | 1,594 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 8655 | 5,030.4 | 2,718 | 10,165 | 1,247.7 | 8,655 | 5,016 | 10,000 | 1,498 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 8677 | 6,446.9 | 2,597 | 13,983 | 2,078.6 | 8,678 | 5,113 | 10,000 | 1,500 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 8627 | 13,027.6 | 3,032 | 30,011 | 6,419.9 | 8,628 | 5,103 | 10,000 | 1,533 | 250 | 0 |
| ------ |
| 10 millions  | pointy hexagon  |      5     | 6796 | 2,933.4 | 2,338 | 4,053 | 440.3 | 6,796 | 4,058 | 9,227 | 1,627 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 6727 | 3,761.7 | 2,734 | 5,285 | 722.3 | 6,727 | 3,720 | 9,197 | 1,606 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 6758 | 7,222.7 | 3,136 | 15,962 | 2,627.7 | 6,758 | 3,770 | 9,228 | 1,644 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 6781 | 10,952.6 | 2,776 | 25,691 | 5,161 | 6,781 | 3,751 | 9,245 | 1,624 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 6723 | 14,196.3 | 3,234 | 37,969 | 8,085.5 | 6,723 | 3,717 | 9,245 | 1,646 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 6708 | 14,382.1 | 3,601 | 34,334 | 5,448.6 | 6,709 | 3,582 | 9,242 | 1,675 | 250 | 1 |


## 4. OS Aggregation performance with MapServer (ExportImage)

### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 78,158 | 643.5 | 349 | 2,520 | 662.2 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash   | 78,158 | 499.7 | 358 | 947 | 197.2 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash   | 78,158 | 573.8 | 337 | 1,792 | 442.2 | 78,158 | 52,062 | 98,558 | 16,553 |
|  Average |        |       | 
|  square     | 78,036 | 561.1 | 396 | 1,032 | 182.5 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square     | 78,036 | 483.4 | 364 | 934 | 169.2 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square     | 78,036 | 449.2 | 324 | 974 | 193.9 | 78,036 | 54,184 | 98,516 | 16,523 |
|  Average |        |       | 
|  pointy triangle | 78,755 | 525.4 | 365 | 1,038 | 199.3 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 501.6 | 356 | 1,063 | 212.9 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 483.7 | 358 | 1,000 | 195.8 | 78,755 | 54,886 | 98,576 | 15,829 |
|  Average |        |       | 
|  pointy hexagon  | 78,306 | 393.9 | 281 | 928 | 196.6 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 494.5 | 343 | 1,009 | 193 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 453.2 | 282 | 934 | 187.3 | 78,306 | 54,716 | 98,218 | 15,938 |
|  Average |        |       | 

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 2 square`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 781,420 | 626.8 | 487 | 1,476 | 301.1 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash   | 781,420 | 465.4 | 341 | 836 | 146.6 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash   | 781,420 | 525.3 | 381 | 1,242 | 259.2 | 781,420 | 525,520 | 977,340 | 162,638 |
|  Average |        |       | 
|  square     | 784,216 | 591.6 | 489 | 1,030 | 160.4 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square     | 784,216 | 576.1 | 465 | 1,005 | 163.9 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square     | 784,216 | 501 | 368 | 947 | 168.4 | 784,216 | 532,000 | 984,180 | 159,896 |
|  Average |        |       | 
|  pointy triangle | 786,362 | 603.3 | 483 | 1,155 | 203.6 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 539.6 | 384 | 1,079 | 198.3 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 645.3 | 324 | 1,615 | 441.5 | 786,362 | 534,840 | 982,800 | 155,520 |
|  Average |        |       | 
|  pointy hexagon | 778,464 | 561.4 | 448 | 997 | 159 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon | 778,464 | 568.9 | 453 | 1,066 | 184.7 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon | 778,464 | 545.8 | 358 | 1,026 | 181.8 | 778,464 | 519,580 | 985,420 | 167,926 |
|  Average |        |       | 

Sample command: ` java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 6 pointyHexagon`

### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 7,798,087 | 1,230.1 | 932 | 1,845 | 241.7 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash   | 7,798,087 | 561.2 | 345 | 1,257 | 260.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash   | 7,798,087 | 884.6 | 719 | 1,238 | 166.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  Average |        |       | 
|  square     | 7,809,003 | 1,191.9 | 962 | 1,502 | 142.2 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square     | 7,809,003 | 690.5 | 371 | 1,315 | 298.2 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square     | 7,809,003 | 818.5 | 450 | 1,307 | 217.3 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  Average |        |       | 
|  pointy triangle | 7,812,145 | 1,205.5 | 1,063 | 1,426 | 113.2 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 563.5 | 385 | 1,061 | 188.8 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 630.1 | 348 | 1,411 | 353.1 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  Average |        |       | 
|  pointy hexagon  | 7,856,450 | 1,281.5 | 1,045 | 1,672 | 164.7 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 909.2 | 700 | 1,213 | 147.2 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,812,145 | 630.1 | 348 | 1,411 | 353.1 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  Average |        |       | 

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 4 pointyTriangle`


### Multi-Threads: 

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |      5     | 78353 | 1,161.9 | 751 | 2,304 | 525.1 | 78,353 | 51,292 | 98,614 | 15,740 | 25 | 0 |
| 100,000  | geohash         |      10     | 78635 | 958 | 742 | 1,864 | 217 | 78,635 | 51,966 | 98,584 | 15,112 | 50 | 0 |
| 100,000  | geohash         |      20     | 78664 | 1,212.3 | 691 | 2,742 | 507.5 | 78,665 | 50,678 | 98,586 | 15,046 | 100 | 0 |
| 100,000  | geohash         |      30     | 78476 | 1,190.1 | 728 | 3,264 | 570.9 | 78,476 | 50,300 | 98,592 | 15,198 | 150 | 0 |
| 100,000  | geohash         |      40     | 78472 | 1,273.9 | 852 | 2,266 | 317.9 | 78,473 | 50,016 | 98,552 | 15,201 | 200 | 0 |
| 100,000  | geohash         |      50     | 78466 | 1,644 | 700 | 3,956 | 698.3 | 78,466 | 50,532 | 98,560 | 15,160 | 250 | 0 |
| -------- |
| 100,000  | square          |      5     | 78543 | 934.3 | 705 | 1,213 | 142 | 78,543 | 50,050 | 98,498 | 15,560 | 25 | 0 |
| 100,000  | square          |      10     | 78042 | 993.6 | 693 | 2,025 | 280 | 78,043 | 50,580 | 98,490 | 15,765 | 50 | 0 |
| 100,000  | square          |      20     | 78379 | 1,144.5 | 728 | 3,296 | 427.4 | 78,380 | 50,288 | 98,510 | 15,280 | 100 | 0 |
| 100,000  | square          |      30     | 78670 | 1,069.6 | 762 | 1,914 | 276.6 | 78,670 | 51,146 | 98,522 | 14,975 | 150 | 0 |
| 100,000  | square          |      40     | 78619 | 1,380.2 | 794 | 2,707 | 427.5 | 78,619 | 50,076 | 98,622 | 14,970 | 200 | 0 |
| 100,000  | square          |      50     | 78369 | 1,584.2 | 693 | 3,930 | 677.1 | 78,370 | 50,058 | 98,606 | 15,346 | 250 | 0 |
| -------- |
| 100,000  | pointy triangle |      5     | 78447 | 913 | 711 | 1,278 | 155.8 | 78,448 | 50,966 | 98,498 | 15,444 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 78787 | 918.8 | 696 | 1,889 | 206.9 | 78,787 | 51,614 | 98,550 | 14,868 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 78480 | 1,101.1 | 698 | 2,052 | 292.5 | 78,480 | 50,496 | 98,582 | 15,201 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 78476 | 1,060.2 | 740 | 1,992 | 303 | 78,477 | 50,886 | 98,594 | 15,001 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 78516 | 1,496.5 | 739 | 4,032 | 611.4 | 78,517 | 50,296 | 98,580 | 15,085 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 78391 | 1,507 | 775 | 4,739 | 685.6 | 78,391 | 50,114 | 98,606 | 15,338 | 250 | 0 |
| -------- |
| 100,000  | pointy hexagon  |      5     | 78152 | 929.2 | 685 | 1,177 | 119.5 | 78,152 | 53,064 | 98,490 | 15,791 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 78634 | 1,014.7 | 747 | 2,434 | 295.3 | 78,634 | 51,750 | 98,492 | 14,987 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 78785 | 1,157.3 | 668 | 2,342 | 330.6 | 78,786 | 51,718 | 98,560 | 14,686 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 78470 | 1,098.3 | 690 | 1,952 | 290.4 | 78,471 | 50,306 | 98,592 | 15,239 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 78423 | 1,414.3 | 796 | 2,985 | 479.9 | 78,423 | 50,448 | 98,566 | 15,213 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 78566 | 1,416.7 | 773 | 2,971 | 459.8 | 78,566 | 50,212 | 98,606 | 15,032 | 250 | 0 |
| -------- | ------- | ------- |
| 1 million  | geohash         |      5     | 787327 | 1,326.4 | 886 | 2,148 | 406.7 | 787,327 | 531,780 | 982,700 | 148,633 | 25 | 0 |
| 1 million  | geohash         |      10     | 783848 | 1,190.6 | 895 | 1,602 | 192.2 | 783,849 | 505,960 | 985,120 | 154,081 | 50 | 0 |
| 1 million  | geohash         |      20     | 784349 | 1,419.8 | 928 | 2,510 | 368.8 | 784,349 | 506,660 | 985,880 | 152,565 | 100 | 0 |
| 1 million  | geohash         |      30     | 786528 | 1,648.8 | 965 | 3,001 | 507.7 | 786,529 | 502,200 | 986,060 | 149,918 | 150 | 0 |
| 1 million  | geohash         |      40     | 784713 | 1,402.5 | 870 | 2,568 | 350.7 | 784,714 | 500,540 | 985,800 | 152,211 | 200 | 0 |
| 1 million  | geohash         |      50     | 783301 | 1,721.4 | 1,131 | 2,998 | 350.3 | 783,301 | 500,900 | 985,540 | 153,256 | 250 | 0 |
| ------- |
| 1 million  | square          |      5     | 788332 | 1,329.2 | 1,020 | 2,133 | 273.9 | 788,333 | 507,860 | 983,880 | 148,315 | 25 | 0 |
| 1 million  | square          |      10     | 786372 | 1,178.2 | 835 | 1,660 | 209.8 | 786,372 | 522,340 | 985,120 | 149,614 | 50 | 0 |
| 1 million  | square          |      20     | 782078 | 1,447.6 | 1,017 | 2,409 | 345 | 782,078 | 504,920 | 985,600 | 154,316 | 100 | 0 |
| 1 million  | square          |      30     | 785687 | 1,336.9 | 894 | 2,501 | 343.3 | 785,687 | 502,700 | 985,820 | 150,902 | 150 | 0 |
| 1 million  | square          |      40     | 784927 | 1,457.7 | 972 | 2,537 | 326.9 | 784,927 | 500,820 | 985,500 | 151,754 | 200 | 0 |
| 1 million  | square          |      50     | 786074 | 1,687.5 | 1,082 | 2,734 | 290.5 | 786,074 | 500,060 | 985,980 | 149,761 | 250 | 0 |
| ------- |
| 1 million  | pointy triangle |      5     | 787129 | 1,210.4 | 900 | 1,594 | 200.9 | 787,130 | 544,760 | 986,140 | 149,310 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 783600 | 1,169.1 | 806 | 1,667 | 215.8 | 783,600 | 502,560 | 985,060 | 154,281 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 785808 | 1,443.9 | 962 | 2,818 | 364.9 | 785,808 | 509,800 | 985,460 | 150,969 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 784981 | 1,305.5 | 886 | 2,309 | 324.8 | 784,981 | 500,420 | 985,620 | 151,312 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 784980 | 1,427.1 | 875 | 2,510 | 343.6 | 784,981 | 506,120 | 986,080 | 151,725 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 783898 | 1,699.6 | 1,133 | 2,916 | 339.5 | 783,899 | 502,060 | 985,560 | 152,561 | 250 | 0 |
| ------ |
| 1 million  | pointy hexagon  |      5     | 784920 | 1,174.9 | 893 | 1,440 | 156.5 | 784,921 | 514,500 | 985,500 | 155,578 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 785432 | 1,165.1 | 840 | 1,619 | 204.5 | 785,433 | 509,660 | 986,060 | 151,358 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 785155 | 1,445.1 | 942 | 2,203 | 309.7 | 785,155 | 507,000 | 985,780 | 151,317 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 784488 | 1,339.3 | 907 | 2,354 | 344.7 | 784,489 | 512,480 | 986,140 | 152,459 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 785256 | 1,405.1 | 820 | 2,596 | 349.7 | 785,257 | 503,400 | 985,740 | 150,277 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 784955 | 1,685.1 | 1,094 | 2,851 | 337.5 | 784,955 | 502,320 | 985,720 | 151,576 | 250 | 0 |
| ------ | --------- | ------ |
| 10 millions  | geohash         |      5     | 7880231 | 1,896.8 | 1,513 | 2,651 | 383.2 | 7,880,231 | 5,507,000 | 9,861,060 | 1,487,360 | 25 | 0 |
| 10 millions  | geohash         |      10     | 7869753 | 2,549.1 | 1,825 | 3,455 | 370.7 | 7,869,754 | 5,295,540 | 9,869,230 | 1,506,795 | 50 | 0 |
| 10 millions  | geohash         |      20     | 7857937 | 4,793.2 | 2,330 | 6,593 | 771.3 | 7,857,938 | 5,093,060 | 9,876,250 | 1,526,739 | 100 | 0 |
| 10 millions  | geohash         |      30     | 7852079 | 6,961.4 | 2,516 | 11,793 | 1,691.2 | 7,852,079 | 5,047,720 | 9,870,230 | 1,520,248 | 150 | 0 |
| 10 millions  | geohash         |      40     | 7832555 | 9,283.8 | 2,788 | 16,199 | 2,544.3 | 7,832,555 | 5,021,580 | 9,875,250 | 1,539,881 | 200 | 0 |
| 10 millions  | geohash         |      50     | 7840104 | 11,517.6 | 3,182 | 27,906 | 4,569.6 | 7,840,104 | 5,038,960 | 9,874,830 | 1,537,670 | 250 | 0 |
| ------ |
| 10 millions  | square          |      5     | 7805555 | 1,865 | 1,684 | 2,123 | 145.9 | 7,805,555 | 5,138,350 | 9,860,630 | 1,600,275 | 25 | 0 |
| 10 millions  | square          |      10     | 7817883 | 2,564.7 | 1,588 | 3,837 | 433.2 | 7,817,884 | 5,005,720 | 9,856,400 | 1,570,261 | 50 | 0 |
| 10 millions  | square          |      20     | 7838387 | 4,815.1 | 2,504 | 6,850 | 907.5 | 7,838,387 | 5,036,060 | 9,874,860 | 1,537,731 | 100 | 0 |
| 10 millions  | square          |      30     | 7846099 | 7,043.4 | 3,122 | 14,474 | 1,815.1 | 7,846,099 | 5,038,180 | 9,874,650 | 1,534,249 | 150 | 0 |
| 10 millions  | square          |      40     | 7855973 | 9,190.4 | 2,143 | 34,037 | 4,997.6 | 7,855,974 | 5,086,710 | 9,877,050 | 1,510,752 | 200 | 0 |
| 10 millions  | square          |      50     | 7841870 | 11,426.7 | 2,542 | 27,958 | 3,691.3 | 7,841,871 | 5,000,270 | 9,874,630 | 1,532,771 | 250 | 0 |
| ------- |
| 10 millions  | pointy triangle |      5     | 7803605 | 1,698 | 1,413 | 2,141 | 260.3 | 7,803,606 | 5,073,930 | 9,865,050 | 1,615,696 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 7852677 | 2,594 | 1,497 | 3,483 | 410 | 7,852,677 | 5,138,870 | 9,871,650 | 1,544,173 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 7837179 | 4,763.4 | 2,873 | 6,189 | 720.6 | 7,837,180 | 5,064,970 | 9,872,040 | 1,539,946 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 7857756 | 6,962.1 | 2,495 | 13,868 | 1,576.5 | 7,857,756 | 5,033,960 | 9,872,240 | 1,515,985 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 7850945 | 9,258.4 | 2,851 | 19,281 | 3,450.5 | 7,850,946 | 5,021,460 | 9,873,280 | 1,511,228 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 7836840 | 11,481.2 | 2,389 | 27,712 | 4,091.3 | 7,836,841 | 5,029,990 | 9,875,460 | 1,532,940 | 250 | 0 |
| ------ |
| 10 millions  | pointy hexagon  |      5     | 7890944 | 1,886.8 | 1,658 | 2,230 | 184.5 | 7,890,944 | 5,384,610 | 9,868,650 | 1,492,154 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 7854626 | 2,548.3 | 1,564 | 3,388 | 378.1 | 7,854,627 | 5,005,740 | 9,864,830 | 1,530,594 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 7864260 | 4,780.4 | 2,744 | 6,251 | 818.6 | 7,864,260 | 5,296,300 | 9,877,450 | 1,504,252 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 7858584 | 6,978.6 | 2,808 | 10,718 | 1,545.9 | 7,858,584 | 5,113,540 | 9,873,040 | 1,506,946 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 7852690 | 9,236.5 | 3,003 | 18,060 | 2,844.6 | 7,852,690 | 5,055,430 | 9,877,250 | 1,513,736 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 7849733 | 11,508.1 | 2,707 | 16,045 | 3,218.6 | 7,849,734 | 5,010,290 | 9,873,260 | 1,526,137 | 250 | 0 |




#### 12-10-2021

# OpenSearch (write)/OpenSearch (Read) case

## 1. OS Datastore: 100k, 1 million, 10 million dataset, single thread, querying features with 20 consecutive requests.
The stats are generated in the same testing program. Tested 3 times, starting with 100k, and then 1m and 10m,
repeat 3 times for each returning feature groups (1k, 5k, 10k).

| Dataset Size | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ------------ | --------------| ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ |
| 100,000      | 1,287 | 740.1 | 399 | 4,684 | 932.9 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 1,287 | 495.4 | 327 | 1,088 | 158.7 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 1,287 | 472.2 | 381 | 1,124 | 160.1 | 1,287 | 1,022 | 1,500 | 171 |
|  Average |        |       | 
| 100,000      | 5,291 | 1,051.9 | 871 | 1,707 | 186.5 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 5,291 | 1,111.3 | 686 | 2,032 | 350.1 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 5,291 | 1,082.2 | 859 | 1,897 | 240.2 | 5,291 | 5,022 | 5,500 | 168 |
|  Average |        |       | 
| 100,000      | 9,955 | 1,540.2 | 1,198 | 2,877 | 387 | 9,955 | 9,904 | 10,000 | 27 |
| 100,000      | 9,955 | 1,493.1 | 1,242 | 2,144 | 234.2 | 9,955 | 9,904 | 10,000 | 27 |
| 100,000      | 9,955 | 1,607.7 | 1,073 | 2,585 | 341.8 | 9,955 | 9,904 | 10,000 | 27 |
|  Average |        |       | 
| ------------ |
| 1 million    | 1,272 | 598.5 | 343 | 2,094 | 390.1 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 1,272 | 365.7 | 256 | 1,444 | 256.1 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 1,272 | 590.5 | 247 | 2,621 | 568.4 | 1,272 | 1,000 | 1,500 | 182 |
|  Average |        |       | 
| 1 million    | 5,270 | 1,068.8 | 709 | 1,968 | 280.7 | 5,270 | 5,060 | 5,480 | 141 | 
| 1 million    | 5,270 | 1,009.5 | 896 | 1,740 | 181 | 5,270 | 5,060 | 5,480 | 141 |
| 1 million    | 5,270 | 1,341.9 | 1,157 | 1,903 | 150.6 | 5,270 | 5,060 | 5,480 | 141 |
|  Average |        |       | 
| 1 million    | 9,756 | 1,433.6 | 966 | 3,202 | 501.7 | 9,756 | 9,520 | 10,000 | 160 |
| 1 million    | 9,756 | 1,352.7 | 1,099 | 2,284 | 257.3 | 9,756 | 9,520 | 10,000 | 160 |
| 1 million    | 9,756 | 1,567.2 | 1,157 | 2,728 | 341.5 | 9,756 | 9,520 | 10,000 | 160 |
|  Average |        |       | 
| ------------ |
| 10 millions  | 1,171 | 1,073.2 | 456 | 3,179 | 620 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions  | 1,171 | 515.2 | 406 | 1,107 | 156.1 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions  | 1,171 | 483.6 | 316 | 1,075 | 160.3 | 1,171 | 1,000 | 1,410 | 163 | 
|  Average |        |       | 
| 10 millions  | 5,199 | 1,338.3 | 902 | 2,975 | 487.1 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions  | 5,199 | 1,236 | 916 | 2,245 | 305.2 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions  | 5,199 | 1,019.1 | 895 | 1,630 | 160.2 | 5,199 | 5,000 | 5,420 | 170 | 
|  Average |        |       | 
| 10 millions  | 9,733 | 1,435.5 | 1,037 | 2,341 | 332.2 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 1,490 | 1,164 | 2,345 | 261.3 | 9,733 | 9,600 | 10,000 | 119 |
| 10 millions  | 9,733 | 1,698 | 1,135 | 2,902 | 474.9 | 9,733 | 9,600 | 10,000 | 119 |
|  Average |        |       | 

Sample testing command:
`java -cp ./target/ms-fs-performance-test-1.0.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch01/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services/ planes_1_million_bat_fl ./1m_extents_10k_features.txt 20 120 0`


## 2. OS Datastore: 100k, 1 million, 10 million dataset, multi-threads, querying features with average 20 requests for each thread.
The stats are generated in a separate program.

| Dataset Size |  # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | --------------| ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  |       5     | 1254 | 1,275.8 | 940 | 3,180 | 321.8 | 1,254 | 1,000 | 1,500 | 150 | 100 | 0 |
| 100,000  |      10     | 1302 | 1,203.3 | 1,016 | 1,680 | 120.5 | 1,303 | 1,006 | 1,500 | 152 | 200 | 0 |
| 100,000  |      20     | 1268 | 1,212 | 1,002 | 1,879 | 138.8 | 1,268 | 1,000 | 1,500 | 153 | 400 | 0 |
| 100,000  |      30     | 1265 | 1,259.6 | 1,014 | 2,207 | 177.5 | 1,266 | 1,002 | 1,500 | 159 | 600 | 0 |
| 100,000  |      40     | 1269 | 1,340.2 | 1,031 | 2,588 | 217.2 | 1,269 | 1,000 | 1,500 | 154 | 800 | 0 |
| 100,000  |      50     | 1269 | 1,628.7 | 1,182 | 2,968 | 231.7 | 1,269 | 1,000 | 1,500 | 155 | 1000 | 0 |
| -------- |
| 100,000  |       5     | 5279 | 2,399.8 | 1,872 | 3,328 | 341.5 | 5,279 | 5,002 | 5,500 | 158 | 100 | 0 |
| 100,000  |      10     | 5282 | 2,343.3 | 1,697 | 3,662 | 336.8 | 5,283 | 5,002 | 5,500 | 151 | 200 | 0 |
| 100,000  |      20     | 5293 | 3,544.7 | 1,919 | 17,284 | 2,070.8 | 5,293 | 5,002 | 5,500 | 149 | 400 | 0 |
| 100,000  |      30     | 5281 | 4,550.6 | 2,409 | 15,742 | 1,936.1 | 5,282 | 5,000 | 5,500 | 152 | 600 | 0 |
| 100,000  |      40     | 5280 | 5,289.6 | 2,791 | 13,600 | 1,297.7 | 5,281 | 5,000 | 5,500 | 154 | 800 | 0 |
| 100,000  |      50     | 5278 | 6,634.6 | 2,968 | 14,524 | 2,032.8 | 5,278 | 5,000 | 5,500 | 155 | 1000 | 0 |
| -------- |
| 100,000  |       5     | 9954 | 3,074.2 | 2,280 | 5,467 | 679.9 | 9,954 | 9,900 | 10,000 | 30 | 100 | 0 |
| 100,000  |      10     | 9955 | 3,386.9 | 2,328 | 6,179 | 753.1 | 9,955 | 9,900 | 10,000 | 31 | 200 | 0 |
| 100,000  |      20     | 9954 | 5,041.9 | 3,085 | 8,742 | 1,045.2 | 9,955 | 9,900 | 10,000 | 31 | 400 | 0 |
| 100,000  |      30     | 9954 | 7,504.5 | 3,730 | 17,156 | 1,947.2 | 9,954 | 9,900 | 10,000 | 31 | 600 | 0 |
| 100,000  |      40     | 9954 | 10,783.7 | 4,434 | 24,627 | 3,723.1 | 9,955 | 9,900 | 10,000 | 32 | 800 | 0 |
| 100,000  |      50     | 9956 | 13,850.9 | 4,852 | 37,737 | 5,175.9 | 9,957 | 9,900 | 10,000 | 31 | 1000 | 0 |
| -------- |  -------- |  -------- |  -------- |
| 1 million  |       5     | 1268 | 1,493.3 | 1,196 | 2,635 | 267.7 | 1,268 | 1,000 | 1,500 | 165 | 100 | 0 |
| 1 million  |      10     | 1239 | 1,661.2 | 1,172 | 4,298 | 406.7 | 1,240 | 1,000 | 1,500 | 171 | 200 | 0 |
| 1 million  |      20     | 1250 | 1,599.5 | 1,230 | 2,315 | 176 | 1,251 | 1,000 | 1,500 | 173 | 400 | 0 |
| 1 million  |      30     | 1244 | 1,626.2 | 1,277 | 2,543 | 185.2 | 1,244 | 1,000 | 1,500 | 170 | 600 | 0 |
| 1 million  |      40     | 1244 | 1,668.7 | 1,269 | 2,732 | 205.8 | 1,244 | 1,000 | 1,500 | 172 | 800 | 0 |
| 1 million  |      50     | 1243 | 2,280.1 | 1,327 | 8,186 | 1,016.1 | 1,243 | 1,000 | 1,500 | 167 | 1000 | 0 |
| -------- | 
| 1 million  |       5     | 5305 | 2,362.8 | 2,038 | 4,110 | 404.8 | 5,306 | 5,000 | 5,500 | 159 | 100 | 0 |
| 1 million  |      10     | 5301 | 2,339.4 | 1,958 | 3,364 | 246.2 | 5,302 | 5,000 | 5,500 | 148 | 200 | 0 |
| 1 million  |      20     | 5281 | 2,711.9 | 2,092 | 4,571 | 367 | 5,282 | 5,000 | 5,500 | 161 | 400 | 0 |
| 1 million  |      30     | 5278 | 4,009.8 | 2,782 | 8,666 | 659.2 | 5,279 | 5,000 | 5,500 | 156 | 600 | 0 |
| 1 million  |      40     | 5286 | 5,331.5 | 3,160 | 14,951 | 1,337.5 | 5,286 | 5,000 | 5,500 | 157 | 800 | 0 |
| 1 million  |      50     | 5284 | 7,072.9 | 3,133 | 20,419 | 2,577.6 | 5,285 | 5,000 | 5,500 | 158 | 1000 | 0 |
| -------- |
| 1 million  |       5     | 9950 | 3,127.3 | 2,433 | 5,546 | 630.6 | 9,951 | 9,900 | 10,000 | 34 | 100 | 0 |
| 1 million  |      10     | 9792 | 3,209.8 | 2,224 | 5,823 | 602.9 | 9,792 | 9,500 | 10,000 | 160 | 200 | 0 |
| 1 million  |      20     | 9809 | 5,658.6 | 3,068 | 21,080 | 2,800 | 9,810 | 9,500 | 10,000 | 149 | 400 | 0 |
| 1 million  |      30     | 9799 | 7,454.2 | 3,608 | 15,618 | 2,230 | 9,800 | 9,500 | 10,000 | 156 | 600 | 0 |
| 1 million  |      40     | 9798 | 9,886.7 | 3,362 | 20,375 | 3,116.3 | 9,798 | 9,500 | 10,000 | 156 | 800 | 0 |
| 1 million  |      50     | 9798 | 12,366.4 | 4,095 | 34,330 | 4,295.5 | 9,799 | 9,500 | 10,000 | 156 | 1000 | 0 |
| ------- |  -------- |  -------- |  -------- |
| 10 millions  |       5     | 1226 | 1,418.6 | 1,103 | 3,293 | 355 | 1,226 | 1,000 | 1,400 | 160 | 100 | 0 |
| 10 millions  |      10     | 1205 | 1,464.9 | 1,089 | 3,866 | 370 | 1,205 | 1,000 | 1,400 | 165 | 200 | 0 |
| 10 millions  |      20     | 1206 | 2,051.2 | 1,200 | 5,792 | 679.6 | 1,206 | 1,000 | 1,400 | 167 | 400 | 0 |
| 10 millions  |      30     | 1221 | 1,787.6 | 1,404 | 3,131 | 241.5 | 1,221 | 1,000 | 1,400 | 166 | 600 | 0 |
| 10 millions  |      40     | 1213 | 2,290.7 | 1,339 | 6,749 | 857 | 1,214 | 1,000 | 1,400 | 159 | 800 | 0 |
| 10 millions  |      50     | 1209 | 2,542.9 | 1,495 | 9,286 | 967.6 | 1,209 | 1,000 | 1,400 | 167 | 1000 | 0 |
| -------- |
| 10 millions  |       5     | 5228 | 2,500.5 | 2,072 | 4,655 | 505.1 | 5,228 | 5,000 | 5,400 | 168 | 100 | 0 |
| 10 millions  |      10     | 5216 | 3,134 | 1,971 | 12,476 | 1,549.1 | 5,216 | 5,000 | 5,400 | 158 | 200 | 0 |
| 10 millions  |      20     | 5209 | 2,762.3 | 2,154 | 4,781 | 354.4 | 5,210 | 5,000 | 5,400 | 162 | 400 | 0 |
| 10 millions  |      30     | 5225 | 5,189 | 2,315 | 20,398 | 2,971.1 | 5,225 | 5,000 | 5,400 | 159 | 600 | 0 |
| 10 millions  |      40     | 5223 | 6,681.7 | 2,788 | 23,241 | 3,418.9 | 5,224 | 5,000 | 5,400 | 162 | 800 | 0 |
| 10 millions  |      50     | 5219 | 7,628.2 | 2,604 | 27,308 | 3,452.7 | 5,219 | 5,000 | 5,400 | 161 | 1000 | 0 |
| -------- |
| 10 millions  |       5     | 9726 | 3,096.9 | 2,240 | 5,408 | 679.8 | 9,726 | 9,600 | 10,000 | 123 | 100 | 0 |
| 10 millions  |      10     | 9736 | 3,402.6 | 2,575 | 5,794 | 554.6 | 9,736 | 9,600 | 10,000 | 122 | 200 | 0 |
| 10 millions  |      20     | 9730 | 5,443.2 | 3,172 | 19,604 | 2,404.6 | 9,730 | 9,600 | 10,000 | 123 | 400 | 0 |
| 10 millions  |      30     | 9728 | 7,903.9 | 3,619 | 24,887 | 3,067.7 | 9,729 | 9,600 | 10,000 | 120 | 600 | 0 |
| 10 millions  |      40     | 9730 | 9,822 | 4,157 | 22,440 | 3,113.8 | 9,731 | 9,600 | 10,000 | 120 | 800 | 0 |
| 10 millions  |      50     | 9729 | 13,061.8 | 4,430 | 28,823 | 4,593.5 | 9,729 | 9,600 | 10,000 | 117 | 1000 | 0 |


Sample commands:
`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 50 1000 ./test_outputs/query/planes_10m_fl_querying_5k_50thread_1000req.txt ./random_extents/10m_extents_5k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 50 1000 ./test_outputs/query/planes_1m_fl_querying_10k_50thread_1000req.txt ./random_extents/1m_extents_10k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 50 1000 ./test_outputs/query/planes_100k_fl_querying_10k_50thread_1000req.txt ./random_extents/100k_extents_10k_features.txt 2100`


## 3. OS Aggregation performance with FeatureServer

### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 78,158 | 557.9 | 313 | 2,300 | 613.8 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash | 78,158 | 417 | 308 | 1,047 | 222.7 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash | 78,158 | 573.8 | 421 | 1,190 | 229.1 | 78,158 | 52,062 | 98,558 | 16,553 |
|  Average |        |       | 
|  square  | 78,036 | 626.4 | 368 | 1,744 | 399.3 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square  | 78,036 | 1,051.9 | 674 | 1,659 | 297.4 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square  | 78,036 | 723.7 | 460 | 1,395 | 256 | 78,036 | 54,184 | 98,516 | 16,523 |
|  Average |        |       | 
|  pointy triangle | 78,755 | 1,262.7 | 935 | 2,750 | 551.9 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 1,255.1 | 961 | 2,775 | 559.2 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 1,039.3 | 874 | 1,865 | 296.4 | 78,755 | 54,886 | 98,576 | 15,829 |
|  Average |        |       | 
|  pointy hexagon  | 78,306 | 786.5 | 553 | 1,544 | 280.8 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 1,853.6 | 1,095 | 3,589 | 674 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 1,041.2 | 845 | 1,634 | 219.3 | 78,306 | 54,716 | 98,218 | 15,938 |
|  Average |        |       | 

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 6 pointyHexagon`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 781,420 | 609 | 357 | 1,639 | 390.5 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash | 781,420 | 459.3 | 356 | 1,051 | 212.6 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash | 781,420 | 514.4 | 401 | 1,091 | 206.6 | 781,420 | 525,520 | 977,340 | 162,638 |
|  Average |        |       | 
|  square  | 784,216 | 1,054.7 | 932 | 1,493 | 161.6 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square  | 784,216 | 935.2 | 754 | 1,316 | 158.6 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square  | 784,216 | 752.4 | 558 | 1,283 | 202.2 | 784,216 | 532,000 | 984,180 | 159,896 |
|  Average |        |       | 
|  pointy triangle | 786,362 | 1,094.3 | 979 | 1,893 | 282.1 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 1,182.6 | 929 | 2,197 | 370.9 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 1,336.7 | 1,014 | 2,739 | 517.1 | 786,362 | 534,840 | 982,800 | 155,520 |
|  Average |        |       | 
|  pointy hexagon  | 778,464 | 1,315.3 | 810 | 1,647 | 318 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon  | 778,464 | 1,008.6 | 782 | 1,451 | 177.7 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon  | 778,464 | 1,288.9 | 688 | 2,174 | 512.8 | 778,464 | 519,580 | 985,420 | 167,926 |
|  Average |        |       | 

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 4 pointyTriangle`

### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 7,798,087 | 996.8 | 587 | 1,880 | 357.1 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash | 7,798,087 | 974.3 | 632 | 2,420 | 517.2 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash | 7,798,087 | 507.2 | 399 | 1,055 | 199.6 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  Average |        |       | 
|  square  | 7,809,003 | 1,338.1 | 1,180 | 1,740 | 166.4 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square  | 7,809,003 | 1,150.5 | 908 | 1,651 | 224.9 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square  | 7,809,003 | 1,189 | 785 | 1,845 | 286.6 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  Average |        |       | 
|  pointy triangle | 7,812,145 | 1,374 | 1,220 | 2,063 | 249.4 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 1,259.2 | 1,050 | 1,792 | 262.8 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 1,309.6 | 1,110 | 2,029 | 275.8 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  Average |        |       | 
|  pointy hexagon  | 7,856,450 | 2,373.4 | 1,694 | 3,398 | 628.8 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 1,496.8 | 987 | 2,051 | 294.7 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 1,651.5 | 1,208 | 2,186 | 315.4 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  Average |        |       | 

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 0 square`


### Multi-Threads:

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |       5     | 4795 | 1,557.8 | 1,061 | 2,605 | 502 | 4,795 | 3,107 | 6,452 | 1,114 | 25 | 0 |
| 100,000  | geohash         |      10     | 4785 | 1,302.3 | 991 | 2,078 | 215.7 | 4,786 | 2,994 | 6,445 | 1,109 | 50 | 0 |
| 100,000  | geohash         |      20     | 4797 | 3,335.9 | 1,169 | 9,481 | 2,085.4 | 4,797 | 2,955 | 6,458 | 1,091 | 100 | 0 |
| 100,000  | geohash         |      30     | 4799 | 4,805.7 | 1,028 | 12,438 | 3,146.7 | 4,800 | 2,891 | 6,455 | 1,107 | 150 | 0 |
| 100,000  | geohash         |      40     | 4807 | 5,760.5 | 1,297 | 13,809 | 2,826.6 | 4,808 | 2,885 | 6,456 | 1,101 | 200 | 0 |
| 100,000  | geohash         |      50     | 4791 | 3,200.7 | 1,471 | 7,452 | 826.2 | 4,791 | 2,932 | 6,461 | 1,104 | 250 | 0 |
| --------- |
| 100,000  | square          |       5     | 5681 | 2,017.7 | 1,519 | 2,737 | 332.8 | 5,682 | 3,035 | 7,810 | 1,405 | 25 | 0 |
| 100,000  | square          |      10     | 5639 | 3,757.4 | 1,198 | 14,705 | 3,280.5 | 5,639 | 3,110 | 7,778 | 1,390 | 50 | 0 |
| 100,000  | square          |      20     | 5677 | 4,531.2 | 1,588 | 11,926 | 2,308.4 | 5,678 | 3,096 | 7,801 | 1,382 | 100 | 0 |
| 100,000  | square          |      30     | 5694 | 4,105.6 | 2,289 | 6,673 | 996.5 | 5,695 | 3,332 | 7,800 | 1,367 | 150 | 0 |
| 100,000  | square          |      40     | 5655 | 5,378.5 | 2,725 | 15,205 | 2,538.5 | 5,656 | 3,095 | 7,818 | 1,391 | 200 | 0 |
| 100,000  | square          |      50     | 5662 | 5,958.7 | 2,831 | 15,169 | 2,101.4 | 5,663 | 3,176 | 7,812 | 1,425 | 250 | 0 |
| --------- |
| 100,000  | pointy triangle |       5     | 8677 | 1,916.5 | 1,579 | 2,909 | 327.1 | 8,677 | 5,061 | 10,000 | 1,499 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 8768 | 4,767.4 | 1,740 | 15,619 | 3,590.3 | 8,768 | 5,301 | 10,000 | 1,466 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 8636 | 6,115.6 | 2,290 | 19,743 | 4,182.6 | 8,637 | 5,020 | 10,000 | 1,558 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 8620 | 6,367.2 | 1,962 | 18,799 | 3,948.1 | 8,621 | 5,170 | 10,000 | 1,535 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 8668 | 9,675.6 | 3,292 | 21,064 | 4,083.1 | 8,668 | 5,119 | 10,000 | 1,497 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 8657 | 8,993.8 | 2,290 | 22,965 | 4,338.3 | 8,657 | 5,042 | 10,000 | 1,516 | 250 | 0 |
| --------- | 
| 100,000  | pointy hexagon  |       5     | 6626 | 1,866.8 | 1,521 | 2,861 | 269.8 | 6,627 | 3,886 | 9,186 | 1,732 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 6787 | 2,496.9 | 1,697 | 6,019 | 800.5 | 6,788 | 3,745 | 9,190 | 1,594 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 6808 | 3,734.7 | 2,440 | 5,229 | 752.6 | 6,808 | 3,740 | 9,219 | 1,548 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 6744 | 5,444.7 | 2,559 | 17,344 | 2,050.7 | 6,744 | 3,671 | 9,247 | 1,669 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 6698 | 9,444.5 | 2,852 | 22,413 | 4,597.8 | 6,698 | 3,654 | 9,232 | 1,634 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 6762 | 11,853.8 | 2,561 | 28,064 | 5,969.9 | 6,762 | 3,678 | 9,245 | 1,633 | 250 | 0 |
| -------- | --------| ----- | ------ | ------| ----- | ----- | ------ | ---- | ----- |
| 1 million  | geohash         |       5     | 4762 | 2,218.6 | 1,380 | 3,570 | 685.5 | 4,762 | 3,014 | 6,371 | 1,078 | 25 | 0 |
| 1 million  | geohash         |      10     | 4788 | 2,554.9 | 1,057 | 7,107 | 1,780.8 | 4,789 | 2,880 | 6,447 | 1,103 | 50 | 0 |
| 1 million  | geohash         |      20     | 4801 | 2,420.8 | 1,005 | 6,993 | 1,441.8 | 4,801 | 2,988 | 6,463 | 1,097 | 100 | 0 |
| 1 million  | geohash         |      30     | 4806 | 2,423.1 | 1,524 | 3,566 | 568.4 | 4,806 | 2,756 | 6,465 | 1,084 | 150 | 0 |
| 1 million  | geohash         |      40     | 4798 | 2,559.8 | 1,255 | 3,734 | 442.3 | 4,798 | 2,887 | 6,452 | 1,086 | 200 | 0 |
| 1 million  | geohash         |      50     | 4789 | 5,902.8 | 1,811 | 14,471 | 2,562.2 | 4,790 | 2,904 | 6,459 | 1,100 | 250 | 0 |
| ------- |
| 1 million  | square          |       5     | 5752 | 3,160.7 | 1,748 | 6,385 | 1,071.2 | 5,752 | 3,120 | 7,759 | 1,297 | 25 | 0 |
| 1 million  | square          |      10     | 5689 | 5,531.4 | 1,415 | 12,101 | 2,901 | 5,689 | 3,197 | 7,779 | 1,371 | 50 | 0 |
| 1 million  | square          |      20     | 5637 | 2,602.5 | 1,645 | 4,071 | 488 | 5,637 | 3,103 | 7,817 | 1,406 | 100 | 0 |
| 1 million  | square          |      30     | 5670 | 3,672.1 | 1,825 | 7,459 | 992.5 | 5,670 | 3,131 | 7,820 | 1,394 | 150 | 0 |
| 1 million  | square          |      40     | 5682 | 4,822.9 | 2,490 | 10,432 | 1,483.1 | 5,682 | 3,067 | 7,812 | 1,398 | 200 | 0 |
| 1 million  | square          |      50     | 5699 | 6,078.7 | 3,208 | 12,848 | 1,772.2 | 5,700 | 3,090 | 7,822 | 1,377 | 250 | 0 |
| ------- |
| 1 million  | pointy triangle |       5     | 8633 | 4,256.4 | 2,445 | 8,086 | 1,383.4 | 8,633 | 5,537 | 10,000 | 1,465 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 8537 | 2,652.1 | 1,814 | 3,989 | 652.1 | 8,538 | 5,036 | 10,000 | 1,632 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 8661 | 5,982.9 | 1,879 | 18,994 | 4,519.6 | 8,662 | 5,111 | 10,000 | 1,558 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 8651 | 10,985.7 | 2,398 | 25,733 | 5,823.4 | 8,651 | 5,117 | 10,000 | 1,525 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 8683 | 6,354.1 | 2,265 | 14,923 | 2,060.5 | 8,684 | 5,073 | 10,000 | 1,503 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 8631 | 10,267.6 | 2,320 | 23,119 | 4,278.6 | 8,632 | 5,006 | 10,000 | 1,568 | 250 | 0 |
| ------- |
| 1 million  | pointy hexagon  |       5     | 6694 | 3,336 | 1,995 | 7,591 | 1,320.2 | 6,695 | 3,803 | 9,238 | 1,667 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 6773 | 3,481.7 | 2,099 | 10,520 | 2,186.6 | 6,773 | 3,747 | 9,245 | 1,630 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 6763 | 4,873.1 | 2,735 | 11,545 | 1,636 | 6,763 | 3,715 | 9,228 | 1,575 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 6722 | 5,494.1 | 3,031 | 11,057 | 1,665.2 | 6,723 | 3,640 | 9,232 | 1,653 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 6723 | 9,356.5 | 1,693 | 20,938 | 4,565.6 | 6,723 | 3,657 | 9,231 | 1,641 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 6739 | 13,224.3 | 3,159 | 30,410 | 5,403.5 | 6,740 | 3,580 | 9,240 | 1,626 | 250 | 0 |
| ------- | ------| ------ | ------- | ------| ----- | ----- | ------ | ----- | ---- |
| 10 millions  | geohash         |       5     | 4779 | 2,052.3 | 1,555 | 2,682 | 332.8 | 4,780 | 3,091 | 6,439 | 1,083 | 25 | 0 |
| 10 millions  | geohash         |      10     | 4776 | 1,684.9 | 1,281 | 2,291 | 286.1 | 4,777 | 2,944 | 6,454 | 1,128 | 50 | 0 |
| 10 millions  | geohash         |      20     | 4790 | 4,115.2 | 1,247 | 10,259 | 2,518.4 | 4,790 | 2,976 | 6,455 | 1,113 | 100 | 0 |
| 10 millions  | geohash         |      30     | 4794 | 3,143.8 | 1,737 | 4,210 | 503.8 | 4,794 | 2,815 | 6,459 | 1,098 | 150 | 0 |
| 10 millions  | geohash         |      40     | 4789 | 5,573.6 | 1,399 | 13,028 | 2,743.1 | 4,789 | 2,900 | 6,450 | 1,095 | 200 | 0 |
| 10 millions  | geohash         |      50     | 4792 | 5,105.8 | 2,545 | 8,625 | 1,175 | 4,793 | 2,798 | 6,456 | 1,097 | 250 | 0 |
| ------- |
| 10 millions  | square          |       5     | 5540 | 2,402.5 | 1,869 | 2,954 | 274.9 | 5,541 | 3,117 | 7,793 | 1,504 | 25 | 0 |
| 10 millions  | square          |      10     | 5727 | 2,414.9 | 1,582 | 3,427 | 543.9 | 5,727 | 3,122 | 7,774 | 1,357 | 50 | 0 |
| 10 millions  | square          |      20     | 5653 | 3,957 | 2,235 | 8,530 | 1,610.7 | 5,654 | 3,121 | 7,820 | 1,412 | 100 | 0 |
| 10 millions  | square          |      30     | 5662 | 7,557.9 | 2,436 | 17,316 | 4,699.5 | 5,663 | 3,088 | 7,818 | 1,421 | 150 | 0 |
| 10 millions  | square          |      40     | 5667 | 6,916.7 | 3,057 | 18,075 | 3,477.7 | 5,667 | 3,136 | 7,815 | 1,427 | 200 | 0 |
| 10 millions  | square          |      50     | 5656 | 6,216.4 | 2,582 | 12,196 | 1,728.8 | 5,656 | 3,050 | 7,817 | 1,422 | 250 | 0 |
| -------- |
| 10 millions  | pointy triangle |       5     | 8613 | 2,298.6 | 1,848 | 2,970 | 318.3 | 8,613 | 5,155 | 10,000 | 1,741 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 8629 | 2,542.3 | 1,713 | 3,705 | 547.5 | 8,629 | 5,230 | 10,000 | 1,585 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 8598 | 4,256 | 2,286 | 13,257 | 2,240.3 | 8,599 | 5,105 | 10,000 | 1,594 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 8655 | 5,030.4 | 2,718 | 10,165 | 1,247.7 | 8,655 | 5,016 | 10,000 | 1,498 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 8677 | 6,446.9 | 2,597 | 13,983 | 2,078.6 | 8,678 | 5,113 | 10,000 | 1,500 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 8627 | 13,027.6 | 3,032 | 30,011 | 6,419.9 | 8,628 | 5,103 | 10,000 | 1,533 | 250 | 0 |
| ------ |
| 10 millions  | pointy hexagon  |       5     | 6796 | 2,933.4 | 2,338 | 4,053 | 440.3 | 6,796 | 4,058 | 9,227 | 1,627 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 6727 | 3,761.7 | 2,734 | 5,285 | 722.3 | 6,727 | 3,720 | 9,197 | 1,606 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 6758 | 7,222.7 | 3,136 | 15,962 | 2,627.7 | 6,758 | 3,770 | 9,228 | 1,644 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 6781 | 10,952.6 | 2,776 | 25,691 | 5,161 | 6,781 | 3,751 | 9,245 | 1,624 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 6723 | 14,196.3 | 3,234 | 37,969 | 8,085.5 | 6,723 | 3,717 | 9,245 | 1,646 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 6708 | 14,382.1 | 3,601 | 34,334 | 5,448.6 | 6,709 | 3,582 | 9,242 | 1,675 | 250 | 1 |


## 4. OS Aggregation performance with MapServer (ExportImage)

### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 78,158 | 457.8 | 254 | 1,466 | 361.2 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash   | 78,158 | 404.7 | 251 | 1,279 | 311.1 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash   | 78,158 | 398.4 | 251 | 913 | 205.8 | 78,158 | 52,062 | 98,558 | 16,553 |
|  Average |        |       | 
|  square     | 78,036 | 362.7 | 253 | 922 | 205.1 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square     | 78,036 | 356.7 | 242 | 920 | 202.6 | 78,036 | 54,184 | 98,516 | 16,523 |
|  square     | 78,036 | 373.5 | 246 | 888 | 189.2 | 78,036 | 54,184 | 98,516 | 16,523 |
|  Average |        |       | 
|  pointy triangle | 78,755 | 393.5 | 261 | 909 | 189.9 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 419.5 | 253 | 1,022 | 224.3 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 338 | 250 | 882 | 194.1 | 78,755 | 54,886 | 98,576 | 15,829 |
|  Average |        |       | 
|  pointy hexagon  | 78,306 | 388.3 | 255 | 908 | 192.7 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 362.8 | 237 | 879 | 189.9 | 78,306 | 54,716 | 98,218 | 15,938 |
|  pointy hexagon  | 78,306 | 346.1 | 251 | 881 | 192.4 | 78,306 | 54,716 | 98,218 | 15,938 |
|  Average |        |       | 

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 2 square`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 781,420 | 529.4 | 390 | 1,401 | 309.6 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash   | 781,420 | 459 | 318 | 900 | 179.4 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash   | 781,420 | 436.5 | 245 | 824 | 206.8 | 781,420 | 525,520 | 977,340 | 162,638 |
|  Average |        |       | 
|  square     | 784,216 | 563.7 | 456 | 988 | 160.9 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square     | 784,216 | 466.9 | 335 | 988 | 194.4 | 784,216 | 532,000 | 984,180 | 159,896 |
|  square     | 784,216 | 453.8 | 313 | 911 | 179.1 | 784,216 | 532,000 | 984,180 | 159,896 |
|  Average |        |       | 
|  pointy triangle | 786,362 | 483.7 | 386 | 1,016 | 189.6 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 500.5 | 341 | 1,186 | 254.2 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy triangle | 786,362 | 462.2 | 276 | 969 | 192.4 | 786,362 | 534,840 | 982,800 | 155,520 |
|  Average |        |       | 
|  pointy hexagon | 778,464 | 553.8 | 451 | 996 | 162.6 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon | 778,464 | 434.2 | 330 | 1,044 | 217 | 778,464 | 519,580 | 985,420 | 167,926 |
|  pointy hexagon | 778,464 | 502.1 | 341 | 1,039 | 210.5 | 778,464 | 519,580 | 985,420 | 167,926 |
|  Average |        |       | 

Sample command: ` java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 6 pointyHexagon`

### 10 millions 

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 7,798,087 | 1,548.3 | 1,073 | 4,109 | 909.8 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash   | 7,798,087 | 987.6 | 383 | 1,519 | 445.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash   | 7,798,087 | 567.6 | 363 | 1,005 | 214.2 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  Average |        |       | 
|  square     | 7,809,003 | 1,240.1 | 1,000 | 1,588 | 148 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square     | 7,809,003 | 686.9 | 352 | 1,194 | 352.3 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  square     | 7,809,003 | 672.3 | 346 | 1,266 | 346.3 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  Average |        |       | 
|  pointy triangle | 7,812,145 | 1,409 | 1,076 | 2,127 | 324.4 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 873.1 | 753 | 1,287 | 161.7 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy triangle | 7,812,145 | 748.9 | 361 | 2,351 | 609.6 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  Average |        |       | 
|  pointy hexagon  | 7,856,450 | 1,271.6 | 1,074 | 1,503 | 157.7 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 1,018.4 | 765 | 1,637 | 257.9 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  pointy hexagon  | 7,856,450 | 558.3 | 345 | 1,098 | 247.9 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |
|  Average |        |       | 

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 4 pointyTriangle`


### Multi-Threads:

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -
| 100,000  | geohash         |       5     | 78353 | 1,161.9 | 751 | 2,304 | 525.1 | 78,353 | 51,292 | 98,614 | 15,740 | 25 | 0 |------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |      10     | 78635 | 958 | 742 | 1,864 | 217 | 78,635 | 51,966 | 98,584 | 15,112 | 50 | 0 |
| 100,000  | geohash         |      20     | 78664 | 1,212.3 | 691 | 2,742 | 507.5 | 78,665 | 50,678 | 98,586 | 15,046 | 100 | 0 |
| 100,000  | geohash         |      30     | 78476 | 1,190.1 | 728 | 3,264 | 570.9 | 78,476 | 50,300 | 98,592 | 15,198 | 150 | 0 |
| 100,000  | geohash         |      40     | 78472 | 1,273.9 | 852 | 2,266 | 317.9 | 78,473 | 50,016 | 98,552 | 15,201 | 200 | 0 |
| 100,000  | geohash         |      50     | 78466 | 1,644 | 700 | 3,956 | 698.3 | 78,466 | 50,532 | 98,560 | 15,160 | 250 | 0 |
| -------- |
| 100,000  | square          |       5     | 78543 | 934.3 | 705 | 1,213 | 142 | 78,543 | 50,050 | 98,498 | 15,560 | 25 | 0 |
| 100,000  | square          |      10     | 78042 | 993.6 | 693 | 2,025 | 280 | 78,043 | 50,580 | 98,490 | 15,765 | 50 | 0 |
| 100,000  | square          |      20     | 78379 | 1,144.5 | 728 | 3,296 | 427.4 | 78,380 | 50,288 | 98,510 | 15,280 | 100 | 0 |
| 100,000  | square          |      30     | 78670 | 1,069.6 | 762 | 1,914 | 276.6 | 78,670 | 51,146 | 98,522 | 14,975 | 150 | 0 |
| 100,000  | square          |      40     | 78619 | 1,380.2 | 794 | 2,707 | 427.5 | 78,619 | 50,076 | 98,622 | 14,970 | 200 | 0 |
| 100,000  | square          |      50     | 78369 | 1,584.2 | 693 | 3,930 | 677.1 | 78,370 | 50,058 | 98,606 | 15,346 | 250 | 0 |
| -------- |
| 100,000  | pointy triangle |       5     | 78447 | 913 | 711 | 1,278 | 155.8 | 78,448 | 50,966 | 98,498 | 15,444 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 78787 | 918.8 | 696 | 1,889 | 206.9 | 78,787 | 51,614 | 98,550 | 14,868 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 78480 | 1,101.1 | 698 | 2,052 | 292.5 | 78,480 | 50,496 | 98,582 | 15,201 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 78476 | 1,060.2 | 740 | 1,992 | 303 | 78,477 | 50,886 | 98,594 | 15,001 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 78516 | 1,496.5 | 739 | 4,032 | 611.4 | 78,517 | 50,296 | 98,580 | 15,085 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 78391 | 1,507 | 775 | 4,739 | 685.6 | 78,391 | 50,114 | 98,606 | 15,338 | 250 | 0 |
| -------- |
| 100,000  | pointy hexagon  |       5     | 78152 | 929.2 | 685 | 1,177 | 119.5 | 78,152 | 53,064 | 98,490 | 15,791 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 78634 | 1,014.7 | 747 | 2,434 | 295.3 | 78,634 | 51,750 | 98,492 | 14,987 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 78785 | 1,157.3 | 668 | 2,342 | 330.6 | 78,786 | 51,718 | 98,560 | 14,686 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 78470 | 1,098.3 | 690 | 1,952 | 290.4 | 78,471 | 50,306 | 98,592 | 15,239 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 78423 | 1,414.3 | 796 | 2,985 | 479.9 | 78,423 | 50,448 | 98,566 | 15,213 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 78566 | 1,416.7 | 773 | 2,971 | 459.8 | 78,566 | 50,212 | 98,606 | 15,032 | 250 | 0 |
| -------- | ------- | ------- |
| 1 million  | geohash         |       5     | 787327 | 1,326.4 | 886 | 2,148 | 406.7 | 787,327 | 531,780 | 982,700 | 148,633 | 25 | 0 |
| 1 million  | geohash         |      10     | 783848 | 1,190.6 | 895 | 1,602 | 192.2 | 783,849 | 505,960 | 985,120 | 154,081 | 50 | 0 |
| 1 million  | geohash         |      20     | 784349 | 1,419.8 | 928 | 2,510 | 368.8 | 784,349 | 506,660 | 985,880 | 152,565 | 100 | 0 |
| 1 million  | geohash         |      30     | 786528 | 1,648.8 | 965 | 3,001 | 507.7 | 786,529 | 502,200 | 986,060 | 149,918 | 150 | 0 |
| 1 million  | geohash         |      40     | 784713 | 1,402.5 | 870 | 2,568 | 350.7 | 784,714 | 500,540 | 985,800 | 152,211 | 200 | 0 |
| 1 million  | geohash         |      50     | 783301 | 1,721.4 | 1,131 | 2,998 | 350.3 | 783,301 | 500,900 | 985,540 | 153,256 | 250 | 0 |
| ------- |
| 1 million  | square          |       5     | 788332 | 1,329.2 | 1,020 | 2,133 | 273.9 | 788,333 | 507,860 | 983,880 | 148,315 | 25 | 0 |
| 1 million  | square          |      10     | 786372 | 1,178.2 | 835 | 1,660 | 209.8 | 786,372 | 522,340 | 985,120 | 149,614 | 50 | 0 |
| 1 million  | square          |      20     | 782078 | 1,447.6 | 1,017 | 2,409 | 345 | 782,078 | 504,920 | 985,600 | 154,316 | 100 | 0 |
| 1 million  | square          |      30     | 785687 | 1,336.9 | 894 | 2,501 | 343.3 | 785,687 | 502,700 | 985,820 | 150,902 | 150 | 0 |
| 1 million  | square          |      40     | 784927 | 1,457.7 | 972 | 2,537 | 326.9 | 784,927 | 500,820 | 985,500 | 151,754 | 200 | 0 |
| 1 million  | square          |      50     | 786074 | 1,687.5 | 1,082 | 2,734 | 290.5 | 786,074 | 500,060 | 985,980 | 149,761 | 250 | 0 |
| ------- |
| 1 million  | pointy triangle |       5     | 787129 | 1,210.4 | 900 | 1,594 | 200.9 | 787,130 | 544,760 | 986,140 | 149,310 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 783600 | 1,169.1 | 806 | 1,667 | 215.8 | 783,600 | 502,560 | 985,060 | 154,281 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 785808 | 1,443.9 | 962 | 2,818 | 364.9 | 785,808 | 509,800 | 985,460 | 150,969 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 784981 | 1,305.5 | 886 | 2,309 | 324.8 | 784,981 | 500,420 | 985,620 | 151,312 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 784980 | 1,427.1 | 875 | 2,510 | 343.6 | 784,981 | 506,120 | 986,080 | 151,725 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 783898 | 1,699.6 | 1,133 | 2,916 | 339.5 | 783,899 | 502,060 | 985,560 | 152,561 | 250 | 0 |
| ------ |
| 1 million  | pointy hexagon  |       5     | 784920 | 1,174.9 | 893 | 1,440 | 156.5 | 784,921 | 514,500 | 985,500 | 155,578 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 785432 | 1,165.1 | 840 | 1,619 | 204.5 | 785,433 | 509,660 | 986,060 | 151,358 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 785155 | 1,445.1 | 942 | 2,203 | 309.7 | 785,155 | 507,000 | 985,780 | 151,317 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 784488 | 1,339.3 | 907 | 2,354 | 344.7 | 784,489 | 512,480 | 986,140 | 152,459 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 785256 | 1,405.1 | 820 | 2,596 | 349.7 | 785,257 | 503,400 | 985,740 | 150,277 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 784955 | 1,685.1 | 1,094 | 2,851 | 337.5 | 784,955 | 502,320 | 985,720 | 151,576 | 250 | 0 |
| ------ | --------- | ------ |
| 10 millions  | geohash         |       5     | 7880231 | 1,896.8 | 1,513 | 2,651 | 383.2 | 7,880,231 | 5,507,000 | 9,861,060 | 1,487,360 | 25 | 0 |
| 10 millions  | geohash         |      10     | 7869753 | 2,549.1 | 1,825 | 3,455 | 370.7 | 7,869,754 | 5,295,540 | 9,869,230 | 1,506,795 | 50 | 0 |
| 10 millions  | geohash         |      20     | 7857937 | 4,793.2 | 2,330 | 6,593 | 771.3 | 7,857,938 | 5,093,060 | 9,876,250 | 1,526,739 | 100 | 0 |
| 10 millions  | geohash         |      30     | 7852079 | 6,961.4 | 2,516 | 11,793 | 1,691.2 | 7,852,079 | 5,047,720 | 9,870,230 | 1,520,248 | 150 | 0 |
| 10 millions  | geohash         |      40     | 7832555 | 9,283.8 | 2,788 | 16,199 | 2,544.3 | 7,832,555 | 5,021,580 | 9,875,250 | 1,539,881 | 200 | 0 |
| 10 millions  | geohash         |      50     | 7840104 | 11,517.6 | 3,182 | 27,906 | 4,569.6 | 7,840,104 | 5,038,960 | 9,874,830 | 1,537,670 | 250 | 0 |
| ------ |
| 10 millions  | square          |       5     | 7805555 | 1,865 | 1,684 | 2,123 | 145.9 | 7,805,555 | 5,138,350 | 9,860,630 | 1,600,275 | 25 | 0 |
| 10 millions  | square          |      10     | 7817883 | 2,564.7 | 1,588 | 3,837 | 433.2 | 7,817,884 | 5,005,720 | 9,856,400 | 1,570,261 | 50 | 0 |
| 10 millions  | square          |      20     | 7838387 | 4,815.1 | 2,504 | 6,850 | 907.5 | 7,838,387 | 5,036,060 | 9,874,860 | 1,537,731 | 100 | 0 |
| 10 millions  | square          |      30     | 7846099 | 7,043.4 | 3,122 | 14,474 | 1,815.1 | 7,846,099 | 5,038,180 | 9,874,650 | 1,534,249 | 150 | 0 |
| 10 millions  | square          |      40     | 7855973 | 9,190.4 | 2,143 | 34,037 | 4,997.6 | 7,855,974 | 5,086,710 | 9,877,050 | 1,510,752 | 200 | 0 |
| 10 millions  | square          |      50     | 7841870 | 11,426.7 | 2,542 | 27,958 | 3,691.3 | 7,841,871 | 5,000,270 | 9,874,630 | 1,532,771 | 250 | 0 |
| ------- |
| 10 millions  | pointy triangle |       5     | 7803605 | 1,698 | 1,413 | 2,141 | 260.3 | 7,803,606 | 5,073,930 | 9,865,050 | 1,615,696 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 7852677 | 2,594 | 1,497 | 3,483 | 410 | 7,852,677 | 5,138,870 | 9,871,650 | 1,544,173 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 7837179 | 4,763.4 | 2,873 | 6,189 | 720.6 | 7,837,180 | 5,064,970 | 9,872,040 | 1,539,946 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 7857756 | 6,962.1 | 2,495 | 13,868 | 1,576.5 | 7,857,756 | 5,033,960 | 9,872,240 | 1,515,985 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 7850945 | 9,258.4 | 2,851 | 19,281 | 3,450.5 | 7,850,946 | 5,021,460 | 9,873,280 | 1,511,228 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 7836840 | 11,481.2 | 2,389 | 27,712 | 4,091.3 | 7,836,841 | 5,029,990 | 9,875,460 | 1,532,940 | 250 | 0 |
| ------ |
| 10 millions  | pointy hexagon  |       5     | 7890944 | 1,886.8 | 1,658 | 2,230 | 184.5 | 7,890,944 | 5,384,610 | 9,868,650 | 1,492,154 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 7854626 | 2,548.3 | 1,564 | 3,388 | 378.1 | 7,854,627 | 5,005,740 | 9,864,830 | 1,530,594 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 7864260 | 4,780.4 | 2,744 | 6,251 | 818.6 | 7,864,260 | 5,296,300 | 9,877,450 | 1,504,252 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 7858584 | 6,978.6 | 2,808 | 10,718 | 1,545.9 | 7,858,584 | 5,113,540 | 9,873,040 | 1,506,946 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 7852690 | 9,236.5 | 3,003 | 18,060 | 2,844.6 | 7,852,690 | 5,055,430 | 9,877,250 | 1,513,736 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 7849733 | 11,508.1 | 2,707 | 16,045 | 3,218.6 | 7,849,734 | 5,010,290 | 9,873,260 | 1,526,137 | 250 | 0 |









