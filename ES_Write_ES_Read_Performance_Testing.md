
# 11-18-2011

# ES/ES case 

## 1. ES Datastore: 100k, 1 million, 10 million dataset, single thread, querying features with 20 consecutive requests. 
   The stats are generated in the same testing program. 

| Dataset Size | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ------------ | --------------| ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ |
| 100,000      | 1,287 | 995.4 | 577 | 3,735 | 712.8 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 5,291 | 1,881.5 | 1,120 | 5,534 | 978.4 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 9,955 | 2,685.6 | 1,501 | 6,118 | 1,472 | 9,955 | 9,904 | 10,000 | 27 | 
| ------------ |
| 1 million    | 1,272 | 619.8 | 381 | 2,164 | 370.1 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 5,270 | 1,656.5 | 1,153 | 2,800 | 464.1 | 5,270 | 5,060 | 5,480 | 141 |
| 1 million    | 9,756 | 2,665.1 | 1,387 | 5,721 | 1,248.9 | 9,756 | 9,520 | 10,000 | 160 |
| ------------ | 
| 10 millions  | 1,171 | 938.8 | 455 | 2,736 | 481.5 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions  | 5,199 | 1,423.7 | 1,064 | 3,115 | 451.7 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions  | 9,733 | 2,353.3 | 1,522 | 4,059 | 815.5 | 9,733 | 9,600 | 10,000 | 119 |

Sample testing command: 
`java -cp ./target/ms-fs-performance-test-1.0.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch01/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services/ planes_1_million_bat_fl ./1m_extents_10k_features.txt 20 120 0`


## 2. ES Datastore: 100k, 1 million, 10 million dataset, multi-threads, querying features with average 20 requests for each thread. 
   The stats are generated in a separate program. 

| Dataset Size |  # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | --------------| ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000      |        5      | 1254 | 1,597.5 | 1,160 | 2,413 | 245 | 1,254 | 1,000 | 1,500 | 150 | 100 | 0 |
| 100,000      |       10      | 1302 | 1,617.3 | 1,228 | 2,799 | 207.7 | 1,303 | 1,006 | 1,500 | 152 | 200 | 0 |
| 100,000      |       20      | 1268 | 1,766.1 | 1,326 | 5,565 | 378.4 | 1,268 | 1,000 | 1,500 | 153 | 400 | 0 |
| 100,000      |       30      | 1265 | 2,900 | 1,617 | 13,078 | 1,631.6 | 1,266 | 1,002 | 1,500 | 159 | 600 | 0 |
| 100,000      |       40      | 1269 | 2,137.1 | 1,557 | 4,043 | 352.2 | 1,269 | 1,000 | 1,500 | 154 | 800 | 0 |
| 100,000      |       50      | 1269 | 3,413.7 | 1,550 | 29,291 | 3,906.3 | 1,269 | 1,000 | 1,500 | 155 | 1000 | 0 |
|   -------- |
| 100,000      |        5      | 5279 | 2,843 | 2,206 | 5,717 | 688.1 | 5,279 | 5,002 | 5,500 | 158 | 100 | 0 |
| 100,000      |       10      | 5282 | 2,757.9 | 2,187 | 6,987 | 428.8 | 5,283 | 5,002 | 5,500 | 151 | 200 | 0 |
| 100,000      |       20      | 5293 | 3,058.9 | 2,327 | 7,817 | 550.3 | 5,293 | 5,002 | 5,500 | 149 | 400 | 0 |
| 100,000      |       30      | 5281 | 4,236.3 | 3,065 | 8,778 | 757.5 | 5,282 | 5,000 | 5,500 | 152 | 600 | 0 |
| 100,000      |       40      | 5280 | 5,637.3 | 3,063 | 13,826 | 1,447.4 | 5,281 | 5,000 | 5,500 | 154 | 800 | 0 |
| 100,000      |       50      | 5278 | 7,015.3 | 3,896 | 19,225 | 2,237.8 | 5,278 | 5,000 | 5,500 | 155 | 1000 | 0 |
|   -------- |
| 100,000      |        5      | 9954 | 3,614.4 | 2,770 | 8,306 | 976.1 | 9,954 | 9,900 | 10,000 | 30 | 100 | 0 |
| 100,000      |       10      | 9955 | 3,463.6 | 2,734 | 8,968 | 824.5 | 9,955 | 9,900 | 10,000 | 31 | 200 | 0 |
| 100,000      |       20      | 9954 | 5,414.3 | 3,104 | 11,405 | 1,303.4 | 9,955 | 9,900 | 10,000 | 31 | 400 | 0 |
| 100,000      |       30      | 9954 | 9,186.8 | 3,573 | 30,370 | 4,760.3 | 9,954 | 9,900 | 10,000 | 31 | 600 | 0 |
| 100,000      |       40      | 9954 | 11,973.7 | 4,672 | 44,446 | 6,544.1 | 9,955 | 9,900 | 10,000 | 32 | 800 | 0 |
| 100,000      |       50      | 9956 | 14,506.5 | 5,326 | 52,164 | 7,326.6 | 9,957 | 9,900 | 10,000 | 31 | 1000 | 0 |
| ------------ |   -------- |  -------- |
| 1 million    |        5      | 1268 | 1,348.4 | 1,033 | 1,906 | 240.2 | 1,268 | 1,000 | 1,500 | 165 | 100 | 0 |
| 1 million    |       10      | 1239 | 1,476.6 | 1,117 | 2,414 | 249.7 | 1,240 | 1,000 | 1,500 | 171 | 200 | 0 |
| 1 million    |       20      | 1250 | 1,546.4 | 1,133 | 3,747 | 279.3 | 1,251 | 1,000 | 1,500 | 173 | 400 | 0 |
| 1 million    |       30      | 1244 | 1,890.6 | 1,147 | 4,039 | 399 | 1,244 | 1,000 | 1,500 | 170 | 600 | 0 |
| 1 million    |       40      | 1244 | 2,139.3 | 1,587 | 3,662 | 308.3 | 1,244 | 1,000 | 1,500 | 172 | 800 | 0 |
| 1 million    |       50      | 1243 | 2,162.3 | 1,559 | 4,199 | 366.3 | 1,243 | 1,000 | 1,500 | 167 | 1000 | 0 |
|   -------- |
| 1 million    |        5      | 5305 | 2,855.6 | 2,314 | 5,261 | 537.1 | 5,306 | 5,000 | 5,500 | 159 | 100 | 0 |
| 1 million    |       10      | 5301 | 3,719.9 | 2,159 | 23,846 | 3,302.2 | 5,302 | 5,000 | 5,500 | 148 | 200 | 0 |
| 1 million    |       20      | 5281 | 3,240.7 | 2,160 | 9,093 | 919.5 | 5,282 | 5,000 | 5,500 | 161 | 400 | 0 |
| 1 million    |       30      | 5278 | 4,323.7 | 2,848 | 9,068 | 1,011.8 | 5,279 | 5,000 | 5,500 | 156 | 600 | 0 |
| 1 million    |       40      | 5286 | 5,646.8 | 2,938 | 14,388 | 1,698.7 | 5,286 | 5,000 | 5,500 | 157 | 800 | 0 |
| 1 million    |       50      | 5284 | 7,024.8 | 3,808 | 17,122 | 2,110 | 5,285 | 5,000 | 5,500 | 158 | 1000 | 0 |
|   -------- |
| 1 million    |        5      | 9950 | 3,543.8 | 2,609 | 7,114 | 972.4 | 9,951 | 9,900 | 10,000 | 34 | 100 | 0 |
| 1 million    |       10      | 9792 | 3,511.2 | 2,588 | 8,734 | 815.4 | 9,792 | 9,500 | 10,000 | 160 | 200 | 0 |
| 1 million    |       20      | 9809 | 12,290.6 | 3,289 | 69,164 | 14,049.9 | 9,810 | 9,500 | 10,000 | 149 | 400 | 0 |
| 1 million    |       30      | 9799 | 14,810.2 | 3,401 | 62,807 | 13,591.6 | 9,800 | 9,500 | 10,000 | 156 | 600 | 0 |
| 1 million    |       40      | 9798 | 12,302.8 | 3,894 | 43,077 | 6,881.9 | 9,798 | 9,500 | 10,000 | 156 | 800 | 0 |
| 1 million    |       50      | 9798 | 13,469.6 | 4,445 | 45,283 | 5,648.8 | 9,799 | 9,500 | 10,000 | 156 | 1000 | 0 |
| ------------ |  -------- |  -------- |
| 10 millions  |        5      | 1227 | 1,420.4 | 1,066 | 2,464 | 289.6 | 1,227 | 1,000 | 1,410 | 160 | 100 | 0 |
| 10 millions  |       10      | 1206 | 1,512.9 | 1,127 | 2,054 | 168.6 | 1,206 | 1,000 | 1,410 | 165 | 200 | 0 |
| 10 millions  |       20      | 1207 | 1,716.6 | 1,259 | 5,492 | 489.1 | 1,207 | 1,000 | 1,410 | 168 | 400 | 0 |
| 10 millions  |       30      | 1222 | 2,248.4 | 1,694 | 3,495 | 307.6 | 1,222 | 1,000 | 1,420 | 166 | 600 | 0 |
| 10 millions  |       40      | 1215 | 2,155.2 | 1,700 | 3,780 | 304.3 | 1,215 | 1,000 | 1,410 | 159 | 800 | 0 |
| 10 millions  |       50      | 1210 | 2,200.1 | 1,665 | 4,200 | 335.8 | 1,210 | 1,000 | 1,420 | 167 | 1000 | 0 |
|  -------- |
| 10 millions  |        5      | 5236 | 2,777 | 2,130 | 6,395 | 696.2 | 5,236 | 5,000 | 5,420 | 168 | 100 | 0 |
| 10 millions  |       10      | 5223 | 2,856.5 | 2,118 | 5,371 | 646.6 | 5,223 | 5,000 | 5,420 | 159 | 200 | 0 |
| 10 millions  |       20      | 5217 | 3,188.7 | 2,184 | 9,676 | 1,050.9 | 5,218 | 5,000 | 5,430 | 163 | 400 | 0 |
| 10 millions  |       30      | 5233 | 4,221.5 | 2,833 | 9,370 | 864.9 | 5,234 | 5,000 | 5,430 | 160 | 600 | 0 |
| 10 millions  |       40      | 5231 | 5,576.6 | 3,180 | 12,340 | 1,302.1 | 5,232 | 5,000 | 5,430 | 162 | 800 | 0 |
| 10 millions  |       50      | 5227 | 9,450 | 2,762 | 43,013 | 7,530.4 | 5,227 | 5,000 | 5,430 | 161 | 1000 | 0 |
|   -------- |
| 10 millions  |        5      | 9740 | 4,429.1 | 2,906 | 11,162 | 1,389.1 | 9,740 | 9,600 | 10,000 | 121 | 100 | 0 |
| 10 millions  |       10      | 9750 | 4,997.6 | 2,800 | 11,009 | 1,719.3 | 9,751 | 9,600 | 10,000 | 118 | 200 | 0 |
| 10 millions  |       20      | 9744 | 7,453 | 3,367 | 20,567 | 2,825.7 | 9,744 | 9,600 | 10,000 | 121 | 400 | 0 |
| 10 millions  |       30      | 9742 | 9,595.5 | 3,631 | 23,331 | 3,721.4 | 9,743 | 9,600 | 10,000 | 119 | 600 | 0 |
| 10 millions  |       40      | 9744 | 11,937.6 | 4,335 | 38,191 | 5,724.4 | 9,745 | 9,600 | 10,000 | 119 | 800 | 0 |
| 10 millions  |       50      | 9743 | 22,444.2 | 5,600 | 124,627 | 19,352.9 | 9,744 | 9,600 | 10,000 | 116 | 1000 | 0 |

Sample commands:
`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 50 1000 ./test_outputs/query/planes_10m_fl_querying_5k_50thread_1000req.txt ./random_extents/10m_extents_5k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 50 1000 ./test_outputs/query/planes_1m_fl_querying_10k_50thread_1000req.txt ./random_extents/1m_extents_10k_features.txt 2100`

`java -cp  ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxConcurrentTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 50 1000 ./test_outputs/query/planes_100k_fl_querying_10k_50thread_1000req.txt ./random_extents/100k_extents_10k_features.txt 2100`



## 3. ES Aggregation performance with FeatureServer

### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 78,158 | 922.9 | 533 | 2,336 | 516.7 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash   | 78,158 | 517.7 | 410 | 1,106 | 209.8 | 78,158 | 52,062 | 98,558 | 16,553 |
|  square    | 78,036 | 654.8 | 431 | 1,413 | 279.2 | 78,036 | 54,184 | 98,516 | 16,523 |
|  pointy triangle | 78,755 | 1,403.9 | 933 | 2,308 | 380.7 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy triangle | 78,755 | 1,162.6 | 973 | 1,782 | 251.1 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy hexagon  | 78,306 | 961.5 | 560 | 1,591 | 377 | 78,306 | 54,716 | 98,218 | 15,938 |

Sample command: 
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 6 pointyHexagon`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 781,420 | 613.5 | 442 | 1,659 | 371.5 | 781,420 | 525,520 | 977,340 | 162,638 |
|  square     | 784,216 | 1,193.3 | 948 | 1,802 | 247.5 | 784,216 | 532,000 | 984,180 | 159,896 |
|  pointy triangle |  786,362 | 1,549.2 | 954 | 2,955 | 624.7 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy hexagon |  778,464 | 1,530.6 | 1,152 | 2,297 | 342.1 | 778,464 | 519,580 | 985,420 | 167,926 |

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 4 pointyTriangle`


### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash   | 7,798,087 | 903.8 | 603 | 1,915 | 370.4 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  square    | 7,798,087 | 1,231 | 845 | 1,592 | 231.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  pointy triangle | 7,798,087 | 1,529.1 | 1,330 | 2,403 | 317.1 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  pointy hexagon  | 7,798,087 | 2,063 | 1,477 | 2,541 | 338.2 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |

Sample command:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.FeatureServiceWithRandomBBoxAggTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 0 square`


### Multi-Threads:

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000      |  geohash          |      5      | 4795 | 2,246.8 | 1,038 | 5,693 | 1,270.5 | 4,795 | 3,107 | 6,452 | 1,114 | 25 | 0 |
| 100,000      |  geohash          |     10      | 4785 | 1,237.4 | 926 | 1,843 | 222.6 | 4,786 | 2,994 | 6,445 | 1,109 | 50 | 0 |
| 100,000      |  geohash          |     20      | 4797 | 1,836.3 | 1,076 | 3,834 | 616.6 | 4,797 | 2,955 | 6,458 | 1,091 | 100 | 0 |
| 100,000      |  geohash          |     30      | 4799 | 1,988.3 | 1,070 | 2,634 | 422.5 | 4,800 | 2,891 | 6,455 | 1,107 | 150 | 0 |
| 100,000      |  geohash          |     40      | 4807 | 2,504.7 | 1,402 | 4,108 | 506.3 | 4,808 | 2,885 | 6,456 | 1,101 | 200 | 0 |
| 100,000      |  geohash          |     50      | 4791 | 3,129.5 | 1,405 | 7,343 | 818.4 | 4,791 | 2,932 | 6,461 | 1,104 | 250 | 0 |
| ---------- |
| 100,000      |  square           |      5      | 5681 | 1,634.5 | 1,250 | 2,235 | 314.8 | 5,682 | 3,035 | 7,810 | 1,405 | 25 | 0 |
| 100,000      |  square           |     10      | 5639 | 1,851.1 | 1,132 | 2,791 | 457.5 | 5,639 | 3,110 | 7,778 | 1,390 | 50 | 0 |
| 100,000      |  square           |     20      | 5677 | 2,467.8 | 1,580 | 3,798 | 541.5 | 5,678 | 3,096 | 7,801 | 1,382 | 100 | 0 |
| 100,000      |  square           |     30      | 5694 | 3,593.4 | 1,853 | 7,090 | 976.3 | 5,695 | 3,332 | 7,800 | 1,367 | 150 | 0 |
| 100,000      |  square           |     40      | 5655 | 4,718.6 | 2,570 | 10,559 | 1,469.4 | 5,656 | 3,095 | 7,818 | 1,391 | 200 | 0 |
| 100,000      |  square           |     50      | 5662 | 14,273.2 | 2,529 | 43,988 | 11,244.6 | 5,663 | 3,176 | 7,812 | 1,425 | 250 | 0 |
| ---------- |
| 100,000      |  pointy triangle  |      5      | 8677 | 4,886.4 | 1,657 | 13,450 | 3,490 | 8,677 | 5,061 | 10,000 | 1,499 | 25 | 0 |
| 100,000      |  pointy triangle  |     10      | 8768 | 10,454 | 3,551 | 40,822 | 7,696.5 | 8,768 | 5,301 | 10,000 | 1,466 | 50 | 0 |
| 100,000      |  pointy triangle  |     20      | 8636 | 3,222.2 | 2,075 | 4,626 | 605.8 | 8,637 | 5,020 | 10,000 | 1,558 | 100 | 0 |
| 100,000      |  pointy triangle  |     30      | 8620 | 13,872.7 | 2,030 | 58,519 | 15,296.4 | 8,621 | 5,170 | 10,000 | 1,535 | 150 | 0 |
| 100,000      |  pointy triangle  |     40      | 8668 | 6,255.1 | 3,200 | 13,754 | 2,053.5 | 8,668 | 5,119 | 10,000 | 1,497 | 200 | 0 |
| 100,000      |  pointy triangle  |     50      | 8657 | 14,926.6 | 3,312 | 52,042 | 14,008.5 | 8,657 | 5,042 | 10,000 | 1,516 | 250 | 0 |
| ---------- |
| 100,000      |  pointy hexagon   |      5      | 6626 | 1,789.1 | 1,370 | 3,011 | 322.5 | 6,627 | 3,886 | 9,186 | 1,732 | 25 | 0 |
| 100,000      |  pointy hexagon   |     10      | 6787 | 8,932.1 | 2,282 | 22,760 | 5,772.9 | 6,788 | 3,745 | 9,190 | 1,594 | 50 | 0 |
| 100,000      |  pointy hexagon   |     20      | 6808 | 3,628.1 | 2,095 | 6,172 | 941.1 | 6,808 | 3,740 | 9,219 | 1,548 | 100 | 0 |
| 100,000      |  pointy hexagon   |     30      | 6744 | 7,724.3 | 1,512 | 19,479 | 4,667 | 6,744 | 3,671 | 9,247 | 1,669 | 150 | 0 |
| 100,000      |  pointy hexagon   |     40      | 6698 | 10,014.3 | 3,212 | 28,128 | 7,328.8 | 6,698 | 3,654 | 9,232 | 1,634 | 200 | 0 |
| 100,000      |  pointy hexagon   |     50      | 6762 | 9,558 | 3,039 | 24,225 | 3,805.7 | 6,762 | 3,678 | 9,245 | 1,633 | 250 | 0 |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- |
| 1 million    |  geohash          |      5      | 4762 | 2,866.8 | 1,340 | 6,519 | 1,639.1 | 4,762 | 3,014 | 6,371 | 1,078 | 25 | 0 |
| 1 million    |  geohash          |     10      | 4788 | 1,366.6 | 972 | 1,959 | 233.8 | 4,789 | 2,880 | 6,447 | 1,103 | 50 | 0 |
| 1 million    |  geohash          |     20      | 4801 | 5,448.3 | 1,338 | 15,617 | 3,391 | 4,801 | 2,988 | 6,463 | 1,097 | 100 | 0 |
| 1 million    |  geohash          |     30      | 4806 | 2,011.6 | 1,153 | 2,542 | 304.7 | 4,806 | 2,756 | 6,465 | 1,084 | 150 | 0 |
| 1 million    |  geohash          |     40      | 4798 | 2,695.5 | 1,440 | 3,790 | 537.3 | 4,798 | 2,887 | 6,452 | 1,086 | 200 | 0 |
| 1 million    |  geohash          |     50      | 4789 | 3,186.4 | 1,543 | 6,367 | 674.7 | 4,790 | 2,904 | 6,459 | 1,100 | 250 | 0 |
| ---------- |
| 1 million    |  square           |      5      | 5752 | 2,553.6 | 1,658 | 5,797 | 1,205.8 | 5,752 | 3,120 | 7,759 | 1,297 | 25 | 0 |
| 1 million    |  square           |     10      | 5689 | 1,901.1 | 1,287 | 2,782 | 388.3 | 5,689 | 3,197 | 7,779 | 1,371 | 50 | 0 |
| 1 million    |  square           |     20      | 5637 | 2,797.5 | 1,787 | 3,978 | 509.3 | 5,637 | 3,103 | 7,817 | 1,406 | 100 | 0 |
| 1 million    |  square           |     30      | 5670 | 3,855.2 | 1,731 | 7,584 | 959 | 5,670 | 3,131 | 7,820 | 1,394 | 150 | 0 |
| 1 million    |  square           |     40      | 5682 | 4,860.3 | 2,394 | 11,689 | 1,430.7 | 5,682 | 3,067 | 7,812 | 1,398 | 200 | 0 |
| 1 million    |  square           |     50      | 5699 | 6,002.1 | 2,616 | 16,081 | 1,910 | 5,700 | 3,090 | 7,822 | 1,377 | 250 | 0 |
| ---------- |
| 1 million    |  pointy triangle  |      5      | 8633 | 6,093.4 | 2,051 | 18,291 | 5,008.5 | 8,633 | 5,537 | 10,000 | 1,465 | 25 | 0 |
| 1 million    |  pointy triangle  |     10      | 8537 | 2,168.4 | 1,434 | 3,002 | 384.9 | 8,538 | 5,036 | 10,000 | 1,632 | 50 | 0 |
| 1 million    |  pointy triangle  |     20      | 8661 | 6,601.4 | 1,579 | 26,359 | 6,313.9 | 8,662 | 5,111 | 10,000 | 1,558 | 100 | 0 |
| 1 million    |  pointy triangle  |     30      | 8651 | 4,740.2 | 2,010 | 9,494 | 1,425 | 8,651 | 5,117 | 10,000 | 1,525 | 150 | 0 |
| 1 million    |  pointy triangle  |     40      | 8683 | 6,250.1 | 3,323 | 17,497 | 2,148.6 | 8,684 | 5,073 | 10,000 | 1,503 | 200 | 0 |
| 1 million    |  pointy triangle  |     50      | 8631 | 10,846.7 | 2,462 | 33,837 | 6,804.7 | 8,632 | 5,006 | 10,000 | 1,568 | 250 | 0 |
| ---------- |
| 1 million    |  pointy hexagon   |      5      | 6694 | 2,241.2 | 1,540 | 3,448 | 520.2 | 6,695 | 3,803 | 9,238 | 1,667 | 25 | 0 |
| 1 million    |  pointy hexagon   |     10      | 6773 | 2,378.1 | 1,695 | 3,880 | 518.9 | 6,773 | 3,747 | 9,245 | 1,630 | 50 | 0 |
| 1 million    |  pointy hexagon   |     20      | 6763 | 3,755.1 | 1,997 | 6,341 | 892.8 | 6,763 | 3,715 | 9,228 | 1,575 | 100 | 0 |
| 1 million    |  pointy hexagon   |     30      | 6722 | 8,776.7 | 2,035 | 28,003 | 7,664.6 | 6,723 | 3,640 | 9,232 | 1,653 | 150 | 0 |
| 1 million    |  pointy hexagon   |     40      | 6723 | 7,191.8 | 2,957 | 15,303 | 1,889.2 | 6,723 | 3,657 | 9,231 | 1,641 | 200 | 0 |
| 1 million    |  pointy hexagon   |     50      | 6739 | 9,012.9 | 2,758 | 19,689 | 3,497.2 | 6,740 | 3,580 | 9,240 | 1,626 | 250 | 0 |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | 
| 10 millions  | geohash         |      5     | 4779 | 2,177.9 | 1,671 | 3,140 | 484 | 4,780 | 3,091 | 6,439 | 1,083 | 25 | 0 |
| 10 millions  | geohash         |      10     | 4776 | 2,324.3 | 1,582 | 3,208 | 411.5 | 4,777 | 2,944 | 6,454 | 1,128 | 50 | 0 |
| 10 millions  | geohash         |      20     | 4790 | 2,148.7 | 1,362 | 2,904 | 338.4 | 4,790 | 2,976 | 6,455 | 1,113 | 100 | 0 |
| 10 millions  | geohash         |      30     | 4794 | 3,333.2 | 1,597 | 4,594 | 618.3 | 4,794 | 2,815 | 6,459 | 1,098 | 150 | 0 |
| 10 millions  | geohash         |      40     | 4789 | 3,989 | 2,004 | 5,983 | 772 | 4,789 | 2,900 | 6,450 | 1,095 | 200 | 0 |
| 10 millions  | geohash         |      50     | 4792 | 4,820.4 | 1,876 | 7,946 | 1,089 | 4,793 | 2,798 | 6,456 | 1,097 | 250 | 0 |
| ---------- |
| 10 millions  | square          |      5     | 5540 | 2,428 | 2,152 | 2,813 | 161 | 5,541 | 3,117 | 7,793 | 1,504 | 25 | 0 |
| 10 millions  | square          |      10     | 5727 | 2,535 | 1,852 | 3,417 | 406.8 | 5,727 | 3,122 | 7,774 | 1,357 | 50 | 0 |
| 10 millions  | square          |      20     | 5653 | 4,049.6 | 2,020 | 6,580 | 1,193.2 | 5,654 | 3,121 | 7,820 | 1,412 | 100 | 0 |
| 10 millions  | square          |      30     | 5662 | 14,422.6 | 2,950 | 58,107 | 12,793.2 | 5,663 | 3,088 | 7,818 | 1,421 | 150 | 0 |
| 10 millions  | square          |      40     | 5667 | 5,334.8 | 2,251 | 10,366 | 1,463.3 | 5,667 | 3,136 | 7,815 | 1,427 | 200 | 0 |
| 10 millions  | square          |      50     | 5656 | 6,256.6 | 2,801 | 12,851 | 1,635.5 | 5,656 | 3,050 | 7,817 | 1,422 | 250 | 0 |
| ---------- |
| 10 millions  | pointy triangle |      5     | 8613 | 5,258 | 3,023 | 9,201 | 2,103.7 | 8,613 | 5,155 | 10,000 | 1,741 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 8629 | 3,077.2 | 2,286 | 3,921 | 396.8 | 8,629 | 5,230 | 10,000 | 1,585 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 8598 | 3,402.4 | 2,092 | 4,402 | 632.4 | 8,599 | 5,105 | 10,000 | 1,594 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 8655 | 11,188 | 2,682 | 38,231 | 9,535.3 | 8,655 | 5,016 | 10,000 | 1,498 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 8677 | 6,507.2 | 3,427 | 17,035 | 2,076.8 | 8,678 | 5,113 | 10,000 | 1,500 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 8627 | 12,617.5 | 3,505 | 38,164 | 9,629.5 | 8,628 | 5,103 | 10,000 | 1,533 | 250 | 0 |
| ---------- |
| 10 millions  | pointy hexagon  |      5     | 6796 | 3,621.2 | 2,531 | 4,743 | 580.8 | 6,796 | 4,058 | 9,227 | 1,627 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 6727 | 7,640.1 | 3,361 | 22,754 | 5,333.2 | 6,727 | 3,720 | 9,197 | 1,606 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 6758 | 6,543.4 | 3,561 | 9,757 | 1,451.1 | 6,758 | 3,770 | 9,228 | 1,644 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 6781 | 8,674.6 | 3,965 | 13,703 | 1,952.1 | 6,781 | 3,751 | 9,245 | 1,624 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 6723 | 14,196.3 | 4,764 | 28,796 | 6,542.1 | 6,723 | 3,717 | 9,245 | 1,646 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 6713 | 17,833.2 | 5,163 | 38,486 | 9,713 | 6,713 | 3,582 | 9,242 | 1,674 | 250 | 0 |



## 4. ES Aggregation performance with MapServer (ExportImage)


### Single thread (10 consecutive requests)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 78,158 | 1,025.7 | 460 | 4,458 | 1,219.1 | 78,158 | 52,062 | 98,558 | 16,553 |
|  geohash | 78,158 | 597.9 | 375 | 1,567 | 351.6 | 78,158 | 52,062 | 98,558 | 16,553 |
|  square  | 78,036 | 639 | 414 | 1,564 | 346.6 | 78,036 | 54,184 | 98,516 | 16,523 |
|  pointy triangle | 78,755 | 645.3 | 457 | 1,039 | 210.6 | 78,755 | 54,886 | 98,576 | 15,829 |
|  pointy hexagon  | 78,306 | 579.5 | 399 | 1,041 | 178.8 | 78,306 | 54,716 | 98,218 | 15,938 |

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_100k_bat_fl 100k 10 ./random_extents 2 square`

### 1 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 781,420 | 708.3 | 545 | 1,378 | 244.9 | 781,420 | 525,520 | 977,340 | 162,638 |
|  geohash | 781,420 | 694.2 | 513 | 1,835 | 404.6 | 781,420 | 525,520 | 977,340 | 162,638 |
|  square  | 784,216 | 665.8 | 529 | 1,076 | 157.6 | 784,216 | 532,000 | 984,180 | 159,896 |
|  pointy triangle | 786,362 | 667.8 | 496 | 1,106 | 178.6 | 786,362 | 534,840 | 982,800 | 155,520 |
|  pointy hexagon  | 778,464 | 682 | 534 | 1,138 | 177.4 | 778,464 | 519,580 | 985,420 | 167,926 |

Sample command: ` java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_1m_bat_fl 1m 10 ./random_extents 6 pointyHexagon`

### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
|  geohash | 7,798,087 | 1,404.4 | 1,072 | 2,623 | 443.2 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  geohash | 7,798,087 | 1,043.5 | 503 | 1,764 | 438 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
|  square  | 7,809,003 | 1,249.2 | 1,050 | 1,572 | 146.5 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
|  pointy triangle | 7,812,145 | 1,305.6 | 1,187 | 1,706 | 162.8 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
|  pointy hexagon  | 7,856,450 | 1,234.4 | 1,037 | 1,534 | 139.1 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |

Sample command: `java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar  com.esri.arcgis.performance.test.mat.MapServiceAggWithRandomBBoxTester https://us-iotdev.arcgis.com/opensearch03/cqvgkj9zrnkn9bcu/maps/arcgis/rest/services planes_10m_bat_fl 10m 10 ./random_extents 4 pointyTriangle`


### Multi-Threads: 

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |       5     | 78353 | 1,083.6 | 696 | 2,182 | 514.4 | 78,353 | 51,292 | 98,614 | 15,740 | 25 | 0 |
| 100,000  | geohash         |      10     | 78635 | 868.9 | 674 | 1,246 | 159.5 | 78,635 | 51,966 | 98,584 | 15,112 | 50 | 0 |
| 100,000  | geohash         |      20     | 78664 | 973.6 | 688 | 1,552 | 234.3 | 78,665 | 50,678 | 98,586 | 15,046 | 100 | 0 |
| 100,000  | geohash         |      30     | 78476 | 973.3 | 679 | 1,914 | 321.5 | 78,476 | 50,300 | 98,592 | 15,198 | 150 | 0 |
| 100,000  | geohash         |      40     | 78472 | 1,084.7 | 724 | 2,171 | 347.9 | 78,473 | 50,016 | 98,552 | 15,201 | 200 | 0 |
| 100,000  | geohash         |      50     | 78466 | 1,290.2 | 907 | 2,601 | 338.9 | 78,466 | 50,532 | 98,560 | 15,160 | 250 | 0 |
| ---------- |
| 100,000  | square          |       5     | 78543 | 844.3 | 660 | 1,117 | 114.1 | 78,543 | 50,050 | 98,498 | 15,560 | 25 | 0 |
| 100,000  | square          |      10     | 78042 | 876.2 | 672 | 1,207 | 161.6 | 78,043 | 50,580 | 98,490 | 15,765 | 50 | 0 |
| 100,000  | square          |      20     | 78379 | 1,014.6 | 662 | 1,739 | 361.5 | 78,380 | 50,288 | 98,510 | 15,280 | 100 | 0 |
| 100,000  | square          |      30     | 78670 | 1,057.7 | 739 | 1,815 | 340.3 | 78,670 | 51,146 | 98,522 | 14,975 | 150 | 0 |
| 100,000  | square          |      40     | 78619 | 1,066 | 648 | 2,200 | 374.1 | 78,619 | 50,076 | 98,622 | 14,970 | 200 | 0 |
| 100,000  | square          |      50     | 78369 | 1,331.6 | 885 | 3,360 | 377.2 | 78,370 | 50,058 | 98,606 | 15,346 | 250 | 0 |
| ---------- |
| 100,000  | pointy triangle |       5     | 78447 | 849.8 | 675 | 1,138 | 139.4 | 78,448 | 50,966 | 98,498 | 15,444 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 78787 | 896.3 | 729 | 1,155 | 154.5 | 78,787 | 51,614 | 98,550 | 14,868 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 78480 | 958.8 | 662 | 1,597 | 278.1 | 78,480 | 50,496 | 98,582 | 15,201 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 78476 | 950.3 | 670 | 1,840 | 312.2 | 78,477 | 50,886 | 98,594 | 15,001 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 78516 | 1,068.9 | 691 | 2,103 | 364.3 | 78,517 | 50,296 | 98,580 | 15,085 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 78391 | 1,322.3 | 864 | 2,813 | 400.5 | 78,391 | 50,114 | 98,606 | 15,338 | 250 | 0 |
| ---------- |
| 100,000  | pointy hexagon  |       5     | 78152 | 858.1 | 747 | 1,041 | 97.9 | 78,152 | 53,064 | 98,490 | 15,791 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 78634 | 868.1 | 660 | 1,187 | 153.6 | 78,634 | 51,750 | 98,492 | 14,987 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 78785 | 953.3 | 687 | 1,550 | 269.9 | 78,786 | 51,718 | 98,560 | 14,686 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 78470 | 980 | 653 | 1,779 | 296.4 | 78,471 | 50,306 | 98,592 | 15,239 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 78423 | 1,033.6 | 693 | 2,023 | 339 | 78,423 | 50,448 | 98,566 | 15,213 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 78566 | 1,331.4 | 838 | 2,568 | 348.1 | 78,566 | 50,212 | 98,606 | 15,032 | 250 | 0 |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 1 million  | geohash         |       5     | 787327 | 1,027.4 | 718 | 1,651 | 317.2 | 787,327 | 531,780 | 982,700 | 148,633 | 25 | 0 |
| 1 million  | geohash         |      10     | 783848 | 954.7 | 778 | 1,305 | 141.6 | 783,849 | 505,960 | 985,120 | 154,081 | 50 | 0 |
| 1 million  | geohash         |      20     | 784349 | 1,038.6 | 787 | 1,681 | 242.6 | 784,349 | 506,660 | 985,880 | 152,565 | 100 | 0 |
| 1 million  | geohash         |      30     | 786528 | 1,116.2 | 757 | 2,006 | 292.3 | 786,529 | 502,200 | 986,060 | 149,918 | 150 | 0 |
| 1 million  | geohash         |      40     | 784713 | 1,340.9 | 854 | 2,315 | 292.4 | 784,714 | 500,540 | 985,800 | 152,211 | 200 | 0 |
| 1 million  | geohash         |      50     | 783301 | 1,681.4 | 1,032 | 3,030 | 342.5 | 783,301 | 500,900 | 985,540 | 153,256 | 250 | 0 |
| ---------- |
| 1 million  | square          |      5     | 788332 | 938.9 | 781 | 1,214 | 133.1 | 788,333 | 507,860 | 983,880 | 148,315 | 25 | 0 |
| 1 million  | square          |      10     | 786372 | 958.5 | 789 | 1,291 | 164.9 | 786,372 | 522,340 | 985,120 | 149,614 | 50 | 0 |
| 1 million  | square          |      20     | 782078 | 1,066.2 | 739 | 1,654 | 274.3 | 782,078 | 504,920 | 985,600 | 154,316 | 100 | 0 |
| 1 million  | square          |      30     | 785687 | 1,164.3 | 725 | 1,887 | 318.9 | 785,687 | 502,700 | 985,820 | 150,902 | 150 | 0 |
| 1 million  | square          |      40     | 784927 | 1,361.4 | 892 | 2,330 | 300.1 | 784,927 | 500,820 | 985,500 | 151,754 | 200 | 0 |
| 1 million  | square          |      50     | 786074 | 1,663 | 1,035 | 2,753 | 324.7 | 786,074 | 500,060 | 985,980 | 149,761 | 250 | 0 |
| ---------- |
| 1 million  | pointy triangle |      5     | 787129 | 918 | 763 | 1,228 | 140.8 | 787,130 | 544,760 | 986,140 | 149,310 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 783600 | 1,016.2 | 712 | 1,663 | 289.3 | 783,600 | 502,560 | 985,060 | 154,281 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 785808 | 1,006.8 | 739 | 1,609 | 236.2 | 785,808 | 509,800 | 985,460 | 150,969 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 784981 | 1,093.8 | 713 | 1,969 | 282.3 | 784,981 | 500,420 | 985,620 | 151,312 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 784980 | 1,354.3 | 929 | 2,326 | 300.1 | 784,981 | 506,120 | 986,080 | 151,725 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 783898 | 1,633.7 | 932 | 2,761 | 353.3 | 783,899 | 502,060 | 985,560 | 152,561 | 250 | 0 |
| ---------- |
| 1 million  | pointy hexagon  |       5     | 784920 | 989.3 | 758 | 1,356 | 191.4 | 784,921 | 514,500 | 985,500 | 155,578 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 785432 | 965.7 | 742 | 1,309 | 171 | 785,433 | 509,660 | 986,060 | 151,358 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 785155 | 1,028.1 | 745 | 1,536 | 206.3 | 785,155 | 507,000 | 985,780 | 151,317 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 784488 | 1,160.4 | 732 | 2,045 | 301.5 | 784,489 | 512,480 | 986,140 | 152,459 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 785256 | 1,347.9 | 858 | 2,263 | 296.1 | 785,257 | 503,400 | 985,740 | 150,277 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 784955 | 1,610 | 1,129 | 2,677 | 320.6 | 784,955 | 502,320 | 985,720 | 151,576 | 250 | 0 |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | 
| 10 millions  | geohash         |       5     | 7880231 | 1,860.9 | 1,462 | 2,795 | 415.1 | 7,880,231 | 5,507,000 | 9,861,060 | 1,487,360 | 25 | 0 |
| 10 millions  | geohash         |      10     | 7869753 | 2,480.9 | 1,571 | 3,312 | 381.3 | 7,869,754 | 5,295,540 | 9,869,230 | 1,506,795 | 50 | 0 |
| 10 millions  | geohash         |      20     | 7857937 | 4,545.9 | 2,495 | 6,233 | 775.2 | 7,857,938 | 5,093,060 | 9,876,250 | 1,526,739 | 100 | 0 |
| 10 millions  | geohash         |      30     | 7852079 | 6,612.1 | 2,631 | 12,273 | 1,587.5 | 7,852,079 | 5,047,720 | 9,870,230 | 1,520,248 | 150 | 0 |
| 10 millions  | geohash         |      40     | 7832555 | 8,751.8 | 2,622 | 13,686 | 2,176.7 | 7,832,555 | 5,021,580 | 9,875,250 | 1,539,881 | 200 | 0 |
| 10 millions  | geohash         |      50     | 7840104 | 10,822.6 | 2,994 | 42,939 | 5,165.4 | 7,840,104 | 5,038,960 | 9,874,830 | 1,537,670 | 250 | 0 |
| ---------- |
| 10 millions  | square          |      5     | 7805555 | 1,797.2 | 1,599 | 2,127 | 135.1 | 7,805,555 | 5,138,350 | 9,860,630 | 1,600,275 | 25 | 0 |
| 10 millions  | square          |      10     | 7817883 | 2,384.5 | 1,577 | 3,105 | 321.8 | 7,817,884 | 5,005,720 | 9,856,400 | 1,570,261 | 50 | 0 |
| 10 millions  | square          |      20     | 7838387 | 4,479.8 | 2,153 | 6,538 | 757.4 | 7,838,387 | 5,036,060 | 9,874,860 | 1,537,731 | 100 | 0 |
| 10 millions  | square          |      30     | 7846099 | 6,660.4 | 2,546 | 8,753 | 1,341 | 7,846,099 | 5,038,180 | 9,874,650 | 1,534,249 | 150 | 0 |
| 10 millions  | square          |      40     | 7855973 | 8,662.6 | 2,629 | 14,214 | 1,984.2 | 7,855,974 | 5,086,710 | 9,877,050 | 1,510,752 | 200 | 0 |
| 10 millions  | square          |      50     | 7845614 | 10,704.3 | 3,021 | 15,438 | 2,847.6 | 7,845,614 | 5,000,270 | 9,874,630 | 1,534,713 | 250 | 1 |
| ---------- |
| 10 millions  | pointy triangle |       5     | 7803605 | 1,660.2 | 1,358 | 2,068 | 214.3 | 7,803,606 | 5,073,930 | 9,865,050 | 1,615,696 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 7852677 | 2,742.7 | 1,620 | 3,525 | 447.4 | 7,852,677 | 5,138,870 | 9,871,650 | 1,544,173 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 7837179 | 4,512.8 | 2,386 | 5,808 | 680.6 | 7,837,180 | 5,064,970 | 9,872,040 | 1,539,946 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 7857756 | 6,681.7 | 2,655 | 8,995 | 1,410.2 | 7,857,756 | 5,033,960 | 9,872,240 | 1,515,985 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 7850945 | 8,770.2 | 2,614 | 16,036 | 2,265.4 | 7,850,946 | 5,021,460 | 9,873,280 | 1,511,228 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 7836840 | 14,863.1 | 3,011 | 79,226 | 14,827.9 | 7,836,841 | 5,029,990 | 9,875,460 | 1,532,940 | 250 | 0 |
| ---------- |
| 10 millions  | pointy hexagon  |       5     | 7890944 | 1,777.8 | 1,336 | 2,151 | 189.6 | 7,890,944 | 5,384,610 | 9,868,650 | 1,492,154 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 7854626 | 2,477 | 1,590 | 3,178 | 356.8 | 7,854,627 | 5,005,740 | 9,864,830 | 1,530,594 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 7864260 | 4,495.7 | 2,126 | 5,754 | 690.9 | 7,864,260 | 5,296,300 | 9,877,450 | 1,504,252 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 7858584 | 6,586.6 | 2,750 | 9,110 | 1,397.9 | 7,858,584 | 5,113,540 | 9,873,040 | 1,506,946 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 7852690 | 8,774.7 | 2,418 | 12,568 | 2,032.8 | 7,852,690 | 5,055,430 | 9,877,250 | 1,513,736 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 7849733 | 10,819.8 | 2,429 | 40,890 | 5,323.8 | 7,849,734 | 5,010,290 | 9,873,260 | 1,526,137 | 250 | 0 |




#
# 2010-11-19 testings
#

## Single thread querying features - average over 20 consecutive requests

### 100k Dataset

| Dataset Size | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ------------ | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ |
| 100,000      | 1,287 | 731.6 | 377 | 3,310 | 663.2 | 1,287 | 1,022 | 1,500 | 171 |
| 100,000      | 5,291 | 1,349.5 | 852 | 2,450 | 489.8 | 5,291 | 5,022 | 5,500 | 168 |
| 100,000      | 9,955 | 2,373.5 | 1,550 | 4,855 | 933.8 | 9,955 | 9,904 | 10,000 | 27 |
| --------- | 
| 1 million    | 1,272 | 617.1 | 387 | 2,212 | 394.5 | 1,272 | 1,000 | 1,500 | 182 |
| 1 million    | 5,270 | 1,094.2 | 852 | 2,043 | 247.4 | 5,270 | 5,060 | 5,480 | 141 |
| 1 million    | 9,756 | 1,490.8 | 1,002 | 2,882 | 386.2 | 9,756 | 9,520 | 10,000 | 160 |
| -------- | 
| 10 millions    | 1,171 | 624.8 | 394 | 2,206 | 386.5 | 1,171 | 1,000 | 1,410 | 163 |
| 10 millions    | 5,199 | 1,120.5 | 946 | 1,985 | 227.1 | 5,199 | 5,000 | 5,420 | 170 |
| 10 millions    | 9,733 | 1,681.7 | 1,408 | 3,838 | 526.3 | 9,733 | 9,600 | 10,000 | 119 |


## Multi-Threads Query

### 100k/1m/10k datasets, performance for average returning features: 1k, 5k, 10k with 6 different number of threads (, 1, 10, 20, 30, 40, 50)

| Dataset Size |  # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | --------------| ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  |      5     | 1254 | 1,985.4 | 797 | 6,399 | 1,371.9 | 1,254 | 1,000 | 1,500 | 150 | 100 | 0 |
| 100,000  |      10     | 1302 | 2,728.9 | 1,313 | 6,159 | 949.8 | 1,303 | 1,006 | 1,500 | 152 | 200 | 0 |
| 100,000  |      20     | 1268 | 3,052.6 | 1,155 | 12,411 | 2,132.3 | 1,268 | 1,000 | 1,500 | 153 | 400 | 0 |
| 100,000  |      30     | 1265 | 2,372.6 | 1,166 | 16,898 | 2,076.7 | 1,266 | 1,002 | 1,500 | 159 | 600 | 0 |
| 100,000  |      40     | 1269 | 4,122.3 | 1,328 | 30,217 | 4,394.9 | 1,269 | 1,000 | 1,500 | 154 | 800 | 0 |
| 100,000  |      50     | 1269 | 2,743.9 | 1,396 | 23,927 | 2,936.8 | 1,269 | 1,000 | 1,500 | 155 | 1000 | 0 |
| ---------- |
| 100,000  |      5     | 5279 | 3,230 | 1,747 | 9,911 | 2,132.5 | 5,279 | 5,002 | 5,500 | 158 | 100 | 0 |
| 100,000  |      10     | 5282 | 6,333 | 1,666 | 40,871 | 5,860.6 | 5,283 | 5,002 | 5,500 | 151 | 200 | 0 |
| 100,000  |      20     | 5293 | 4,527.3 | 2,034 | 23,074 | 4,489.8 | 5,293 | 5,002 | 5,500 | 149 | 400 | 0 |
| 100,000  |      30     | 5281 | 10,291.8 | 2,385 | 67,027 | 10,366.8 | 5,282 | 5,000 | 5,500 | 152 | 600 | 0 |
| 100,000  |      40     | 5280 | 10,083.3 | 2,814 | 57,172 | 10,804.4 | 5,281 | 5,000 | 5,500 | 154 | 800 | 0 |
| 100,000  |      50     | 5278 | 8,368.7 | 2,656 | 31,639 | 5,783.1 | 5,278 | 5,000 | 5,500 | 155 | 1000 | 0 |
| ---------- |
| 100,000  |      5     | 9954 | 6,534.9 | 2,171 | 21,435 | 5,087.7 | 9,954 | 9,900 | 10,000 | 30 | 100 | 0 |
| 100,000  |      10     | 9955 | 4,547.7 | 2,280 | 34,145 | 4,554.7 | 9,955 | 9,900 | 10,000 | 31 | 200 | 0 |
| 100,000  |      20     | 9954 | 13,272.6 | 3,000 | 73,272 | 13,129 | 9,955 | 9,900 | 10,000 | 31 | 400 | 0 |
| 100,000  |      30     | 9954 | 7,722.2 | 3,364 | 21,263 | 2,805.3 | 9,954 | 9,900 | 10,000 | 31 | 600 | 0 |
| 100,000  |      40     | 9954 | 10,034.8 | 4,129 | 22,151 | 3,464.2 | 9,955 | 9,900 | 10,000 | 32 | 800 | 0 |
| 100,000  |      50     | 9956 | 17,363.9 | 4,810 | 57,050 | 9,543.2 | 9,957 | 9,900 | 10,000 | 31 | 1000 | 0 |
| ------------ | --------------| ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | 
| 1 million  |      5     | 1268 | 1,681.9 | 1,079 | 2,998 | 382 | 1,268 | 1,000 | 1,500 | 165 | 100 | 0 |
| 1 million  |      10     | 1239 | 1,348.5 | 970 | 1,990 | 228.2 | 1,240 | 1,000 | 1,500 | 171 | 200 | 0 |
| 1 million  |      20     | 1250 | 1,379 | 985 | 2,178 | 245.1 | 1,251 | 1,000 | 1,500 | 173 | 400 | 0 |
| 1 million  |      30     | 1244 | 1,432.6 | 988 | 3,030 | 342.4 | 1,244 | 1,000 | 1,500 | 170 | 600 | 0 |
| 1 million  |      40     | 1244 | 2,374.6 | 996 | 19,000 | 2,486.5 | 1,244 | 1,000 | 1,500 | 172 | 800 | 0 |
| 1 million  |      50     | 1243 | 4,080.9 | 1,354 | 35,126 | 4,693.4 | 1,243 | 1,000 | 1,500 | 167 | 1000 | 0 |
| ---------- |
| 1 million  |      5     | 5305 | 3,477.8 | 1,897 | 14,139 | 2,314.5 | 5,306 | 5,000 | 5,500 | 159 | 100 | 0 |
| 1 million  |      10     | 5301 | 6,904.2 | 1,988 | 22,807 | 5,532.6 | 5,302 | 5,000 | 5,500 | 148 | 200 | 0 |
| 1 million  |      20     | 5281 | 2,681.1 | 2,195 | 4,372 | 321.6 | 5,282 | 5,000 | 5,500 | 161 | 400 | 0 |
| 1 million  |      30     | 5278 | 7,167.9 | 2,547 | 55,750 | 8,450.9 | 5,279 | 5,000 | 5,500 | 156 | 600 | 0 |
| 1 million  |      40     | 5286 | 13,387.7 | 2,904 | 95,126 | 14,917.8 | 5,286 | 5,000 | 5,500 | 157 | 800 | 0 |
| 1 million  |      50     | 5284 | 11,486.4 | 3,386 | 52,716 | 8,829.6 | 5,285 | 5,000 | 5,500 | 158 | 1000 | 0 |
| ---------- |
| 1 million  |      5     | 9950 | 3,492.5 | 2,273 | 19,545 | 2,623 | 9,951 | 9,900 | 10,000 | 34 | 100 | 0 |
| 1 million  |      10     | 9792 | 3,917.7 | 2,358 | 22,691 | 3,495.9 | 9,792 | 9,500 | 10,000 | 160 | 200 | 0 |
| 1 million  |      20     | 9809 | 4,978.4 | 2,993 | 10,714 | 1,108 | 9,810 | 9,500 | 10,000 | 149 | 400 | 0 |
| 1 million  |      30     | 9799 | 13,794.6 | 4,128 | 55,041 | 11,108.2 | 9,800 | 9,500 | 10,000 | 156 | 600 | 0 |
| 1 million  |      40     | 9798 | 13,631.1 | 4,387 | 67,283 | 10,561.3 | 9,798 | 9,500 | 10,000 | 156 | 800 | 0 |
| 1 million  |      50     | 9798 | 22,294.8 | 4,442 | 82,419 | 17,888.5 | 9,799 | 9,500 | 10,000 | 156 | 1000 | 0 |
| ------------ | --------------| ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | 
| 10 millions  |      5     | 1227 | 1,441.4 | 1,110 | 2,757 | 320.3 | 1,227 | 1,000 | 1,410 | 160 | 100 | 0 |
| 10 millions  |      10     | 1206 | 1,369.9 | 1,108 | 1,916 | 143.1 | 1,206 | 1,000 | 1,410 | 165 | 200 | 0 |
| 10 millions  |      20     | 1207 | 1,391 | 1,106 | 2,267 | 168.1 | 1,207 | 1,000 | 1,410 | 168 | 400 | 0 |
| 10 millions  |      30     | 1222 | 1,439.1 | 1,097 | 2,607 | 209.6 | 1,222 | 1,000 | 1,420 | 166 | 600 | 0 |
| 10 millions  |      40     | 1215 | 1,484.1 | 1,134 | 2,858 | 243 | 1,215 | 1,000 | 1,410 | 159 | 800 | 0 |
| 10 millions  |      50     | 1210 | 1,585.3 | 1,158 | 3,169 | 287.4 | 1,210 | 1,000 | 1,420 | 167 | 1000 | 0 |
| ---------- |
| 10 millions  |      5     | 5236 | 2,381.8 | 1,923 | 3,592 | 357.8 | 5,236 | 5,000 | 5,420 | 168 | 100 | 0 |
| 10 millions  |      10     | 5223 | 2,222.5 | 1,736 | 3,356 | 281.1 | 5,223 | 5,000 | 5,420 | 159 | 200 | 0 |
| 10 millions  |      20     | 5217 | 2,678.3 | 2,144 | 4,319 | 337.8 | 5,218 | 5,000 | 5,430 | 163 | 400 | 0 |
| 10 millions  |      30     | 5233 | 3,944.7 | 2,746 | 7,331 | 502.8 | 5,234 | 5,000 | 5,430 | 160 | 600 | 0 |
| 10 millions  |      40     | 5231 | 6,087.6 | 2,842 | 28,188 | 3,870 | 5,232 | 5,000 | 5,430 | 162 | 800 | 0 |
| 10 millions  |      50     | 5227 | 6,555.5 | 3,563 | 16,088 | 1,944.1 | 5,227 | 5,000 | 5,430 | 161 | 1000 | 0 |
| ---------- |
| 10 millions  |      5     | 9740 | 2,763.1 | 2,278 | 5,124 | 595.6 | 9,740 | 9,600 | 10,000 | 121 | 100 | 0 |
| 10 millions  |      10     | 9750 | 2,941.5 | 2,225 | 4,216 | 473.7 | 9,751 | 9,600 | 10,000 | 118 | 200 | 0 |
| 10 millions  |      20     | 9744 | 4,908.8 | 3,036 | 8,522 | 866.1 | 9,744 | 9,600 | 10,000 | 121 | 400 | 0 |
| 10 millions  |      30     | 9742 | 8,156 | 3,541 | 31,682 | 4,348.5 | 9,743 | 9,600 | 10,000 | 119 | 600 | 0 |
| 10 millions  |      40     | 9744 | 12,183.1 | 4,270 | 53,433 | 7,900.2 | 9,745 | 9,600 | 10,000 | 119 | 800 | 0 |
| 10 millions  |      50     | 9743 | 15,410.6 | 4,580 | 60,482 | 8,632.5 | 9,744 | 9,600 | 10,000 | 116 | 1000 | 0 |


## Single-Threads LOD aggregation via 10 consecutive queries (returning polygons)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
| geohash    | 78,158 | 1,309.7 | 837 | 2,736 | 533.1 | 78,158 | 52,062 | 98,558 | 16,553 |
| square     | 78,036 | 1,959.1 | 1,046 | 5,761 | 1,372.1 | 78,036 | 54,184 | 98,516 | 16,523 |
| pointy triangle | 78,755 | 1,637.2 | 1,298 | 3,249 | 578.5 | 78,755 | 54,886 | 98,576 | 15,829 |
| pointy hexagon  | 78,306 | 1,356.2 | 1,068 | 1,960 | 273.4 | 78,306 | 54,716 | 98,218 | 15,938 |

### 1 million 

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ |
| geohash |  781,420 | 782.8 | 431 | 1,730 | 371.3 | 781,420 | 525,520 | 977,340 | 162,638 |
| square  | 784,216 | 1,281.5 | 990 | 1,925 | 271.5 | 784,216 | 532,000 | 984,180 | 159,896 |
| pointy triangle | 786,362 | 1,330.1 | 1,180 | 2,006 | 251 | 786,362 | 534,840 | 982,800 | 155,520 |
| pointy hexagon | 778,464 | 1,250.6 | 1,015 | 1,775 | 271 | 778,464 | 519,580 | 985,420 | 167,926 |


### 10 millions 

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
| geohash    | 7,798,087 | 1,288 | 981 | 2,585 | 464 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
| square     | 7,798,087 | 1,185.5 | 874 | 1,561 | 231.8 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
| pointy triangle  | 7,798,087 | 1,693.6 | 1,417 | 3,058 | 495.3 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
| pointy hexagon   | 7,798,087 | 2,635.5 | 1,651 | 4,225 | 1,058.4 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
| ------ above 4 tests | have the same | extents by | mistake | ------
| geohash    | 7,798,087 | 832.7 | 441 | 2,299 | 558.9 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
| square     | 7,809,003 | 2,104 | 1,448 | 2,653 | 312.8 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
| pointy triangle  | 7,812,145 | 2,290.8 | 1,475 | 3,676 | 677.1 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
| pointy hexagon   | 7,856,450 | 1,903.5 | 1,619 | 2,190 | 221.5 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |


## Multi-Threads LOD aggregation via Query (returning polygons)

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |      5     | 4795 | 1,796.1 | 1,320 | 2,622 | 360.7 | 4,795 | 3,107 | 6,452 | 1,114 | 25 | 0 |
| 100,000  | geohash         |      10     | 4785 | 1,286.6 | 981 | 1,841 | 210.3 | 4,786 | 2,994 | 6,445 | 1,109 | 50 | 0 |
| 100,000  | geohash         |      20     | 4797 | 1,595.6 | 1,047 | 2,200 | 344.1 | 4,797 | 2,955 | 6,458 | 1,091 | 100 | 0 |
| 100,000  | geohash         |      30     | 4799 | 1,961.9 | 1,209 | 2,652 | 325.7 | 4,800 | 2,891 | 6,455 | 1,107 | 150 | 0 |
| 100,000  | geohash         |      40     | 4807 | 2,789.3 | 1,571 | 4,131 | 639.2 | 4,808 | 2,885 | 6,456 | 1,101 | 200 | 0 |
| 100,000  | geohash         |      50     | 4791 | 3,120.8 | 1,585 | 7,442 | 768.4 | 4,791 | 2,932 | 6,461 | 1,104 | 250 | 0 |
| ---------- |
| 100,000  | square          |      5     | 5681 | 1,898.2 | 1,574 | 2,702 | 264.8 | 5,682 | 3,035 | 7,810 | 1,405 | 25 | 0 |
| 100,000  | square          |      10     | 5639 | 1,777.8 | 1,238 | 2,948 | 393.4 | 5,639 | 3,110 | 7,778 | 1,390 | 50 | 0 |
| 100,000  | square          |      20     | 5677 | 2,460.8 | 1,263 | 3,552 | 554.2 | 5,678 | 3,096 | 7,801 | 1,382 | 100 | 0 |
| 100,000  | square          |      30     | 5694 | 3,877.5 | 1,956 | 7,566 | 939.7 | 5,695 | 3,332 | 7,800 | 1,367 | 150 | 0 |
| 100,000  | square          |      40     | 5655 | 4,805.3 | 2,458 | 10,536 | 1,684.9 | 5,656 | 3,095 | 7,818 | 1,391 | 200 | 0 |
| 100,000  | square          |      50     | 5662 | 5,892.8 | 2,909 | 16,044 | 1,929.3 | 5,663 | 3,176 | 7,812 | 1,425 | 250 | 0 |
| ---------- |
| 100,000  | pointy triangle |      5     | 8677 | 2,014.1 | 1,632 | 2,450 | 253 | 8,677 | 5,061 | 10,000 | 1,499 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 8768 | 2,143.4 | 1,377 | 2,895 | 402.4 | 8,768 | 5,301 | 10,000 | 1,466 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 8636 | 3,209 | 1,495 | 4,479 | 741.6 | 8,637 | 5,020 | 10,000 | 1,558 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 8620 | 4,724.2 | 2,246 | 8,657 | 1,217.1 | 8,621 | 5,170 | 10,000 | 1,535 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 8668 | 8,889.3 | 2,472 | 21,610 | 5,338.3 | 8,668 | 5,119 | 10,000 | 1,497 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 8657 | 7,778.5 | 3,413 | 18,157 | 2,873.6 | 8,657 | 5,042 | 10,000 | 1,516 | 250 | 0 |
| ---------- |
| 100,000  | pointy hexagon  |      5     | 6626 | 1,966 | 1,412 | 2,787 | 417.5 | 6,627 | 3,886 | 9,186 | 1,732 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 6787 | 2,262.4 | 1,612 | 3,391 | 439.3 | 6,788 | 3,745 | 9,190 | 1,594 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 6808 | 3,665.9 | 2,139 | 7,845 | 1,014 | 6,808 | 3,740 | 9,219 | 1,548 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 6744 | 5,408.5 | 2,215 | 10,780 | 1,709.2 | 6,744 | 3,671 | 9,247 | 1,669 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 6698 | 6,966.8 | 2,784 | 17,368 | 2,566.2 | 6,698 | 3,654 | 9,232 | 1,634 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 6762 | 8,902.2 | 4,171 | 21,722 | 3,359.1 | 6,762 | 3,678 | 9,245 | 1,633 | 250 | 0 |
| -------- | ---------- |
| 1 million  | geohash         |      5     | 4762 | 1,748.9 | 1,250 | 2,671 | 451.4 | 4,762 | 3,014 | 6,371 | 1,078 | 25 | 0 |
| 1 million  | geohash         |      10     | 4788 | 1,353.9 | 1,008 | 1,785 | 235.5 | 4,789 | 2,880 | 6,447 | 1,103 | 50 | 0 |
| 1 million  | geohash         |      20     | 4801 | 1,688 | 1,040 | 2,655 | 447 | 4,801 | 2,988 | 6,463 | 1,097 | 100 | 0 |
| 1 million  | geohash         |      30     | 4806 | 2,155.1 | 1,161 | 3,562 | 598.7 | 4,806 | 2,756 | 6,465 | 1,084 | 150 | 0 |
| 1 million  | geohash         |      40     | 4798 | 2,710.3 | 1,268 | 3,597 | 495 | 4,798 | 2,887 | 6,452 | 1,086 | 200 | 0 |
| 1 million  | geohash         |      50     | 4789 | 3,193 | 1,600 | 5,913 | 728.7 | 4,790 | 2,904 | 6,459 | 1,100 | 250 | 0 |
| ---------- |
| 1 million  | square          |      5     | 5752 | 1,969.9 | 1,593 | 2,419 | 226.7 | 5,752 | 3,120 | 7,759 | 1,297 | 25 | 0 |
| 1 million  | square          |      10     | 5689 | 1,868 | 1,225 | 2,948 | 369.9 | 5,689 | 3,197 | 7,779 | 1,371 | 50 | 0 |
| 1 million  | square          |      20     | 5637 | 7,964.8 | 2,013 | 23,784 | 6,242.5 | 5,637 | 3,103 | 7,817 | 1,406 | 100 | 0 |
| 1 million  | square          |      30     | 5670 | 3,608.8 | 1,599 | 6,308 | 990.6 | 5,670 | 3,131 | 7,820 | 1,394 | 150 | 0 |
| 1 million  | square          |      40     | 5682 | 4,800.4 | 2,452 | 10,183 | 1,412.8 | 5,682 | 3,067 | 7,812 | 1,398 | 200 | 0 |
| 1 million  | square          |      50     | 5699 | 5,978.1 | 2,625 | 13,538 | 2,111.7 | 5,700 | 3,090 | 7,822 | 1,377 | 250 | 0 |
| ---------- |
| 1 million  | pointy triangle |      5     | 8633 | 2,123.6 | 1,675 | 2,880 | 337.4 | 8,633 | 5,537 | 10,000 | 1,465 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 8537 | 2,247.4 | 1,782 | 3,443 | 387.2 | 8,538 | 5,036 | 10,000 | 1,632 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 8661 | 3,220.6 | 1,786 | 4,350 | 622.3 | 8,662 | 5,111 | 10,000 | 1,558 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 8651 | 4,719.8 | 2,693 | 12,347 | 1,303.5 | 8,651 | 5,117 | 10,000 | 1,525 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 8683 | 6,301.7 | 3,772 | 11,874 | 1,727.2 | 8,684 | 5,073 | 10,000 | 1,503 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 8631 | 7,848.3 | 2,933 | 18,133 | 2,438.1 | 8,632 | 5,006 | 10,000 | 1,568 | 250 | 0 |
| ---------- |
| 1 million  | pointy hexagon  |      5     | 6694 | 2,115.7 | 1,573 | 2,966 | 370.3 | 6,695 | 3,803 | 9,238 | 1,667 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 6773 | 2,438.9 | 1,482 | 3,500 | 572.4 | 6,773 | 3,747 | 9,245 | 1,630 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 6763 | 3,725.7 | 1,867 | 7,583 | 1,103 | 6,763 | 3,715 | 9,228 | 1,575 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 6722 | 5,416.1 | 2,470 | 12,081 | 1,809.9 | 6,723 | 3,640 | 9,232 | 1,653 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 6723 | 7,154.4 | 2,303 | 17,440 | 2,682.6 | 6,723 | 3,657 | 9,231 | 1,641 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 6739 | 8,954.6 | 4,339 | 20,685 | 3,160.7 | 6,740 | 3,580 | 9,240 | 1,626 | 250 | 0 |
| ---------  | ---------- |
| 10 millions  | geohash         |      5     | 4779 | 1,951.7 | 1,519 | 2,894 | 476.1 | 4,780 | 3,091 | 6,439 | 1,083 | 25 | 0 |
| 10 millions  | geohash         |      10     | 4776 | 1,612.2 | 1,264 | 2,231 | 284 | 4,777 | 2,944 | 6,454 | 1,128 | 50 | 0 |
| 10 millions  | geohash         |      20     | 4790 | 2,106.2 | 1,425 | 3,223 | 393 | 4,790 | 2,976 | 6,455 | 1,113 | 100 | 0 |
| 10 millions  | geohash         |      30     | 4794 | 3,389.2 | 1,742 | 11,651 | 1,737.1 | 4,794 | 2,815 | 6,459 | 1,098 | 150 | 0 |
| 10 millions  | geohash         |      40     | 4789 | 3,837.9 | 1,802 | 8,252 | 993.4 | 4,789 | 2,900 | 6,450 | 1,095 | 200 | 0 |
| 10 millions  | geohash         |      50     | 4792 | 4,730 | 2,060 | 10,833 | 1,192.6 | 4,793 | 2,798 | 6,456 | 1,097 | 250 | 0 |
| ---------- |
| 10 millions  | square          |      5     | 5540 | 2,241.8 | 1,764 | 3,078 | 326.5 | 5,541 | 3,117 | 7,793 | 1,504 | 25 | 0 |
| 10 millions  | square          |      10     | 5727 | 2,170.5 | 1,501 | 3,301 | 483.8 | 5,727 | 3,122 | 7,774 | 1,357 | 50 | 0 |
| 10 millions  | square          |      20     | 5653 | 2,756.4 | 1,521 | 4,261 | 680.3 | 5,654 | 3,121 | 7,820 | 1,412 | 100 | 0 |
| 10 millions  | square          |      30     | 5662 | 4,648.7 | 1,812 | 9,553 | 1,915.5 | 5,663 | 3,088 | 7,818 | 1,421 | 150 | 0 |
| 10 millions  | square          |      40     | 5667 | 5,023.8 | 2,464 | 9,748 | 1,230.6 | 5,667 | 3,136 | 7,815 | 1,427 | 200 | 0 |
| 10 millions  | square          |      50     | 5656 | 6,156.5 | 2,352 | 10,905 | 1,734.7 | 5,656 | 3,050 | 7,817 | 1,422 | 250 | 0 |
| ---------- |
| 10 millions  | pointy triangle |      5     | 8613 | 2,228.7 | 1,835 | 3,066 | 273.6 | 8,613 | 5,155 | 10,000 | 1,741 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 8629 | 5,982.7 | 1,858 | 21,648 | 4,858.3 | 8,629 | 5,230 | 10,000 | 1,585 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 8598 | 3,413.2 | 2,160 | 4,693 | 614.6 | 8,599 | 5,105 | 10,000 | 1,594 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 8655 | 4,870.7 | 2,807 | 13,352 | 1,366.2 | 8,655 | 5,016 | 10,000 | 1,498 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 8677 | 6,480 | 2,899 | 13,898 | 2,035.3 | 8,678 | 5,113 | 10,000 | 1,500 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 8627 | 7,919.2 | 3,678 | 20,364 | 2,894.6 | 8,628 | 5,103 | 10,000 | 1,533 | 250 | 0 |
| ---------- |
| 10 millions  | pointy hexagon  |      5     | 6796 | 3,079 | 2,430 | 4,375 | 474.6 | 6,796 | 4,058 | 9,227 | 1,627 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 6727 | 3,688.1 | 2,479 | 4,993 | 707.6 | 6,727 | 3,720 | 9,197 | 1,606 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 6758 | 13,582.3 | 2,772 | 53,152 | 11,640.2 | 6,758 | 3,770 | 9,228 | 1,644 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 6781 | 8,857.7 | 2,588 | 13,573 | 2,159.8 | 6,781 | 3,751 | 9,245 | 1,624 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 6723 | 11,397.9 | 3,658 | 26,033 | 3,909.9 | 6,723 | 3,717 | 9,245 | 1,646 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 6713 | 14,042.2 | 3,526 | 29,198 | 6,016.5 | 6,713 | 3,582 | 9,242 | 1,674 | 250 | 0 |

Commands used to generate above report:
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.ComputeStates4ConcurrentFeatureQuery /Users/frank/github/ms-fs-performance-testing/test_outputs/aggregation_es_es_agg_query-11-19-2021/100k/ aggregation`
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.ComputeStates4ConcurrentFeatureQuery /Users/frank/github/ms-fs-performance-testing/test_outputs/aggregation_es_es_agg_query-11-19-2021/1m/ aggregation`
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.ComputeStates4ConcurrentFeatureQuery /Users/frank/github/ms-fs-performance-testing/test_outputs/aggregation_es_es_agg_query-11-19-2021/10m/ aggregation`

## Single-Threads LOD aggregation via 10 consecutive exportImage requests (returning png images)

### 100k

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
| geohash    | 78,158 | 519.3 | 256 | 1,598 | 441.5 | 78,158 | 52,062 | 98,558 | 16,553 |
| square     | 78,036 | 453.1 | 272 | 946 | 209.7 | 78,036 | 54,184 | 98,516 | 16,523 |
| pointy triangle  | 78,755 | 411.8 | 281 | 922 | 187.3 | 78,755 | 54,886 | 98,576 | 15,829 |
| pointy hexagon   | 78,306 | 420.9 | 307 | 906 | 183.3 | 78,306 | 54,716 | 98,218 | 15,938

### 1 million

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
| geohash    | 781,420 | 584.5 | 396 | 1,462 | 317.1 | 781,420 | 525,520 | 977,340 | 162,638 |
| square     | 784,216 | 585 | 421 | 995 | 154.9 | 784,216 | 532,000 | 984,180 | 159,896 |
| pointy triangle  | 786,362 | 574.4 | 423 | 1,057 | 180.8 | 786,362 | 534,840 | 982,800 | 155,520 |
| pointy hexagon   | 778,464 | 551 | 396 | 972 | 162.9 | 778,464 | 519,580 | 985,420 | 167,926 |

### 10 millions

| Agg Style  | avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) |
| ---------- | ------------ | -------- | -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | 
| geohash    | 7,798,087 | 1,209.7 | 972 | 1,883 | 254 | 7,798,087 | 5,205,310 | 9,852,610 | 1,661,147 |
| square     | 7,809,003 | 1,194.5 | 1,046 | 1,402 | 114.2 | 7,809,003 | 5,069,450 | 9,862,250 | 1,674,957 |
| pointy triangle  | 7,812,145 | 1,233.9 | 1,030 | 1,561 | 163.5 | 7,812,145 | 5,449,990 | 9,806,570 | 1,601,076 |
| pointy hexagon   | 7,856,450 | 1,172.5 | 979 | 1,406 | 142.5 | 7,856,450 | 5,037,400 | 9,869,620 | 1,618,802 |

## Multi-Threads LOD aggregation via exportImage requests (returning png images)

| Dataset Size | Aggregation Style | # of threads |  avg features | avg (ms) | min (ms) | max (ms) | std_dev (ms) | avg (fs) | min (fs) | max (fs) | std dev (fs) | total requests | total errors |
| ------------ | ------------------| ------------ | ------------- | ---------| -------- | -------- | ------------ | -------- | -------- | -------- | ------------ | -------------- | ------------ |
| 100,000  | geohash         |      5     | 78353 | 1,312.8 | 713 | 2,556 | 620.1 | 78,353 | 51,292 | 98,614 | 15,740 | 25 | 0 |
| 100,000  | geohash         |      10     | 78635 | 1,505.3 | 729 | 2,453 | 438 | 78,635 | 51,966 | 98,584 | 15,112 | 50 | 0 |
| 100,000  | geohash         |      20     | 78664 | 1,093.5 | 734 | 2,048 | 316.1 | 78,665 | 50,678 | 98,586 | 15,046 | 100 | 0 |
| 100,000  | geohash         |      30     | 78476 | 2,277.4 | 730 | 18,293 | 1,943.2 | 78,476 | 50,300 | 98,592 | 15,198 | 150 | 0 |
| 100,000  | geohash         |      40     | 78472 | 1,296.2 | 833 | 2,516 | 423.3 | 78,473 | 50,016 | 98,552 | 15,201 | 200 | 0 |
| 100,000  | geohash         |      50     | 78466 | 1,401.3 | 839 | 2,887 | 470.4 | 78,466 | 50,532 | 98,560 | 15,160 | 250 | 0 |
| ---------- |
| 100,000  | square          |      5     | 78543 | 1,134.9 | 792 | 1,628 | 213.8 | 78,543 | 50,050 | 98,498 | 15,560 | 25 | 0 |
| 100,000  | square          |      10     | 78042 | 1,675 | 769 | 3,553 | 671.8 | 78,043 | 50,580 | 98,490 | 15,765 | 50 | 0 |
| 100,000  | square          |      20     | 78379 | 1,071.9 | 630 | 1,849 | 275.8 | 78,380 | 50,288 | 98,510 | 15,280 | 100 | 0 |
| 100,000  | square          |      30     | 78670 | 3,144 | 1,053 | 10,102 | 1,746 | 78,670 | 51,146 | 98,522 | 14,975 | 150 | 0 |
| 100,000  | square          |      40     | 78619 | 1,327.3 | 867 | 2,637 | 418.4 | 78,619 | 50,076 | 98,622 | 14,970 | 200 | 0 |
| 100,000  | square          |      50     | 78369 | 1,386 | 814 | 2,868 | 471 | 78,370 | 50,058 | 98,606 | 15,346 | 250 | 0 |
| ---------- |
| 100,000  | pointy triangle |      5     | 78447 | 1,557.9 | 697 | 3,516 | 756.3 | 78,448 | 50,966 | 98,498 | 15,444 | 25 | 0 |
| 100,000  | pointy triangle |      10     | 78787 | 1,820.2 | 753 | 3,862 | 699.3 | 78,787 | 51,614 | 98,550 | 14,868 | 50 | 0 |
| 100,000  | pointy triangle |      20     | 78480 | 1,043.2 | 682 | 1,704 | 256.1 | 78,480 | 50,496 | 98,582 | 15,201 | 100 | 0 |
| 100,000  | pointy triangle |      30     | 78476 | 1,605.2 | 883 | 4,428 | 828.9 | 78,477 | 50,886 | 98,594 | 15,001 | 150 | 0 |
| 100,000  | pointy triangle |      40     | 78516 | 1,293.2 | 806 | 2,670 | 411.4 | 78,517 | 50,296 | 98,580 | 15,085 | 200 | 0 |
| 100,000  | pointy triangle |      50     | 78391 | 2,928.6 | 836 | 11,896 | 1,841.4 | 78,391 | 50,114 | 98,606 | 15,338 | 250 | 0 |
| ---------- |
| 100,000  | pointy hexagon  |      5     | 78152 | 1,340.5 | 754 | 2,092 | 388.9 | 78,152 | 53,064 | 98,490 | 15,791 | 25 | 0 |
| 100,000  | pointy hexagon  |      10     | 78634 | 1,366.3 | 769 | 2,766 | 468.9 | 78,634 | 51,750 | 98,492 | 14,987 | 50 | 0 |
| 100,000  | pointy hexagon  |      20     | 78785 | 1,035.2 | 731 | 1,803 | 265.4 | 78,786 | 51,718 | 98,560 | 14,686 | 100 | 0 |
| 100,000  | pointy hexagon  |      30     | 78470 | 2,764.3 | 1,132 | 8,404 | 1,378.1 | 78,471 | 50,306 | 98,592 | 15,239 | 150 | 0 |
| 100,000  | pointy hexagon  |      40     | 78423 | 3,342.8 | 1,032 | 17,560 | 2,403.8 | 78,423 | 50,448 | 98,566 | 15,213 | 200 | 0 |
| 100,000  | pointy hexagon  |      50     | 78566 | 1,470.3 | 819 | 3,361 | 676 | 78,566 | 50,212 | 98,606 | 15,032 | 250 | 0 |
| -------- | ---------- |
| 1 million  | geohash         |      5     | 787327 | 2,038.4 | 1,117 | 3,433 | 882.6 | 787,327 | 531,780 | 982,700 | 148,633 | 25 | 0 |
| 1 million  | geohash         |      10     | 783848 | 1,475.2 | 951 | 2,949 | 474.8 | 783,849 | 505,960 | 985,120 | 154,081 | 50 | 0 |
| 1 million  | geohash         |      20     | 784349 | 1,251.7 | 881 | 1,931 | 271.2 | 784,349 | 506,660 | 985,880 | 152,565 | 100 | 0 |
| 1 million  | geohash         |      30     | 786528 | 2,177.3 | 950 | 8,755 | 1,310 | 786,529 | 502,200 | 986,060 | 149,918 | 150 | 0 |
| 1 million  | geohash         |      40     | 784713 | 1,489.5 | 897 | 2,836 | 409.3 | 784,714 | 500,540 | 985,800 | 152,211 | 200 | 0 |
| 1 million  | geohash         |      50     | 783301 | 1,655.4 | 927 | 2,973 | 395.6 | 783,301 | 500,900 | 985,540 | 153,256 | 250 | 0 |
| ---------- |
| 1 million  | pointy hexagon  |      5     | 784920 | 1,620.7 | 1,270 | 2,120 | 290.8 | 784,921 | 514,500 | 985,500 | 155,578 | 25 | 0 |
| 1 million  | pointy hexagon  |      10     | 785432 | 1,198.3 | 857 | 1,687 | 222.6 | 785,433 | 509,660 | 986,060 | 151,358 | 50 | 0 |
| 1 million  | pointy hexagon  |      20     | 785155 | 1,942.5 | 890 | 4,136 | 769.6 | 785,155 | 507,000 | 985,780 | 151,317 | 100 | 0 |
| 1 million  | pointy hexagon  |      30     | 784488 | 1,452.3 | 972 | 2,503 | 371.9 | 784,489 | 512,480 | 986,140 | 152,459 | 150 | 0 |
| 1 million  | pointy hexagon  |      40     | 785256 | 1,483.9 | 895 | 2,811 | 430.6 | 785,257 | 503,400 | 985,740 | 150,277 | 200 | 0 |
| 1 million  | pointy hexagon  |      50     | 784955 | 1,944.7 | 1,005 | 4,396 | 845 | 784,955 | 502,320 | 985,720 | 151,576 | 250 | 0 |
| 1 million  | square          |      5     | 788332 | 2,367.6 | 1,397 | 4,232 | 938.1 | 788,333 | 507,860 | 983,880 | 148,315 | 25 | 0 |
| ---------- |
| 1 million  | square          |      10     | 786372 | 1,198.2 | 920 | 1,670 | 206.2 | 786,372 | 522,340 | 985,120 | 149,614 | 50 | 0 |
| 1 million  | square          |      20     | 782078 | 1,219.9 | 860 | 1,942 | 272.4 | 782,078 | 504,920 | 985,600 | 154,316 | 100 | 0 |
| 1 million  | square          |      30     | 785687 | 1,401.6 | 919 | 2,427 | 339 | 785,687 | 502,700 | 985,820 | 150,902 | 150 | 0 |
| 1 million  | square          |      40     | 784927 | 1,474.3 | 902 | 2,700 | 391.8 | 784,927 | 500,820 | 985,500 | 151,754 | 200 | 0 |
| 1 million  | square          |      50     | 786074 | 1,706.9 | 909 | 3,029 | 374.4 | 786,074 | 500,060 | 985,980 | 149,761 | 250 | 0 |
| ---------- |
| 1 million  | pointy triangle |      5     | 787129 | 1,624.1 | 1,121 | 2,382 | 429.7 | 787,130 | 544,760 | 986,140 | 149,310 | 25 | 0 |
| 1 million  | pointy triangle |      10     | 783600 | 1,191.9 | 881 | 1,550 | 194.8 | 783,600 | 502,560 | 985,060 | 154,281 | 50 | 0 |
| 1 million  | pointy triangle |      20     | 785808 | 1,251 | 840 | 2,117 | 310.7 | 785,808 | 509,800 | 985,460 | 150,969 | 100 | 0 |
| 1 million  | pointy triangle |      30     | 784981 | 1,392.7 | 949 | 2,434 | 367.4 | 784,981 | 500,420 | 985,620 | 151,312 | 150 | 0 |
| 1 million  | pointy triangle |      40     | 784980 | 1,466.8 | 912 | 2,731 | 374.9 | 784,981 | 506,120 | 986,080 | 151,725 | 200 | 0 |
| 1 million  | pointy triangle |      50     | 783898 | 3,959.3 | 1,147 | 15,299 | 2,574.1 | 783,899 | 502,060 | 985,560 | 152,561 | 250 | 0 |
| ---------- | ---------- |
| 10 millions  | geohash         |      5     | 7880231 | 2,179.4 | 1,511 | 3,638 | 600.1 | 7,880,231 | 5,507,000 | 9,861,060 | 1,487,360 | 25 | 0 |
| 10 millions  | geohash         |      10     | 7869753 | 2,888.4 | 1,629 | 3,953 | 523.5 | 7,869,754 | 5,295,540 | 9,869,230 | 1,506,795 | 50 | 0 |
| 10 millions  | geohash         |      20     | 7857937 | 4,624.6 | 2,296 | 6,230 | 820.8 | 7,857,938 | 5,093,060 | 9,876,250 | 1,526,739 | 100 | 0 |
| 10 millions  | geohash         |      30     | 7852079 | 6,721.3 | 2,888 | 12,559 | 1,647.2 | 7,852,079 | 5,047,720 | 9,870,230 | 1,520,248 | 150 | 0 |
| 10 millions  | geohash         |      40     | 7832555 | 8,757.6 | 2,279 | 11,676 | 2,076.5 | 7,832,555 | 5,021,580 | 9,875,250 | 1,539,881 | 200 | 0 |
| 10 millions  | geohash         |      50     | 7840104 | 10,812.7 | 2,816 | 29,926 | 5,710.5 | 7,840,104 | 5,038,960 | 9,874,830 | 1,537,670 | 250 | 0 |
| ---------- |
| 10 millions  | square          |      5     | 7805555 | 2,542.6 | 1,755 | 4,004 | 633.5 | 7,805,555 | 5,138,350 | 9,860,630 | 1,600,275 | 25 | 0 |
| 10 millions  | square          |      10     | 7817883 | 2,605.1 | 1,906 | 3,507 | 387 | 7,817,884 | 5,005,720 | 9,856,400 | 1,570,261 | 50 | 0 |
| 10 millions  | square          |      20     | 7838387 | 4,629.6 | 2,685 | 6,748 | 778.8 | 7,838,387 | 5,036,060 | 9,874,860 | 1,537,731 | 100 | 0 |
| 10 millions  | square          |      30     | 7846099 | 6,768.8 | 2,900 | 11,962 | 1,604.7 | 7,846,099 | 5,038,180 | 9,874,650 | 1,534,249 | 150 | 0 |
| 10 millions  | square          |      40     | 7855973 | 8,835.5 | 3,511 | 20,002 | 2,168.6 | 7,855,974 | 5,086,710 | 9,877,050 | 1,510,752 | 200 | 0 |
| 10 millions  | square          |      50     | 7841870 | 10,794 | 2,643 | 17,977 | 3,174.5 | 7,841,871 | 5,000,270 | 9,874,630 | 1,532,771 | 250 | 0 |
| ---------- |
| 10 millions  | pointy triangle |      5     | 7803605 | 2,272.8 | 1,483 | 3,225 | 417.8 | 7,803,606 | 5,073,930 | 9,865,050 | 1,615,696 | 25 | 0 |
| 10 millions  | pointy triangle |      10     | 7852677 | 2,463.2 | 1,625 | 3,392 | 411 | 7,852,677 | 5,138,870 | 9,871,650 | 1,544,173 | 50 | 0 |
| 10 millions  | pointy triangle |      20     | 7837179 | 4,647.3 | 2,981 | 7,121 | 820.9 | 7,837,180 | 5,064,970 | 9,872,040 | 1,539,946 | 100 | 0 |
| 10 millions  | pointy triangle |      30     | 7857756 | 6,658.2 | 2,684 | 9,409 | 1,437.3 | 7,857,756 | 5,033,960 | 9,872,240 | 1,515,985 | 150 | 0 |
| 10 millions  | pointy triangle |      40     | 7850945 | 8,831.8 | 2,986 | 11,589 | 2,082.8 | 7,850,946 | 5,021,460 | 9,873,280 | 1,511,228 | 200 | 0 |
| 10 millions  | pointy triangle |      50     | 7836840 | 10,882.4 | 3,483 | 21,739 | 3,988.4 | 7,836,841 | 5,029,990 | 9,875,460 | 1,532,940 | 250 | 0 |
| ---------- |
| 10 millions  | pointy hexagon  |      5     | 7890944 | 2,328 | 1,805 | 2,631 | 200.3 | 7,890,944 | 5,384,610 | 9,868,650 | 1,492,154 | 25 | 0 |
| 10 millions  | pointy hexagon  |      10     | 7854626 | 2,522.2 | 1,661 | 3,416 | 418.3 | 7,854,627 | 5,005,740 | 9,864,830 | 1,530,594 | 50 | 0 |
| 10 millions  | pointy hexagon  |      20     | 7864260 | 4,548.7 | 2,480 | 5,965 | 698 | 7,864,260 | 5,296,300 | 9,877,450 | 1,504,252 | 100 | 0 |
| 10 millions  | pointy hexagon  |      30     | 7858584 | 6,689.6 | 2,695 | 9,915 | 1,522.6 | 7,858,584 | 5,113,540 | 9,873,040 | 1,506,946 | 150 | 0 |
| 10 millions  | pointy hexagon  |      40     | 7852690 | 8,859.2 | 3,378 | 15,038 | 2,722 | 7,852,690 | 5,055,430 | 9,877,250 | 1,513,736 | 200 | 0 |
| 10 millions  | pointy hexagon  |      50     | 7849733 | 10,949.5 | 2,887 | 22,619 | 4,651.1 | 7,849,734 | 5,010,290 | 9,873,260 | 1,526,137 | 250 | 0 |

commands used to generate above report: 
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.ComputeStates4ConcurrentFeatureQuery /Users/frank/github/ms-fs-performance-testing/test_outputs/aggregation_es_es_agg_export-image-11-19-2021/100k/ aggregation` 
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.ComputeStates4ConcurrentFeatureQuery /Users/frank/github/ms-fs-performance-testing/test_outputs/aggregation_es_es_agg_export-image-11-19-2021/1m/ aggregation`
`java -cp ./target/ms-fs-performance-test-1.0-jar-with-dependencies.jar com.esri.arcgis.performance.test.mat.ComputeStates4ConcurrentFeatureQuery /Users/frank/github/ms-fs-performance-testing/test_outputs/aggregation_es_es_agg_export-image-11-19-2021/10m/ aggregation`